matrix:
    include:
        - language: node_js
          node_js:
              - '11'
          sudo: false
          cache: npm
          before_install:
              - cd server
          install:
              - npm ci
          script:
              - npm run lint:check
              - npm test

        - language: node_js
          node_js:
              - '11'
          sudo: false
          cache: npm
          before_install:
              - cd web
          install:
              - npm ci
          script:
              - npm run lint:check
              - npm test

        - language: android
          android:
              components:
                  - tools
                  - build-tools-28.0.3
                  - android-28
          before_script:
              - cd android
          script:
              - ./gradlew build connectedCheck
