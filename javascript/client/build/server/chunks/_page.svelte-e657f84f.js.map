{"version":3,"file":"_page.svelte-e657f84f.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/remote/image/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, i as compute_rest_props, j as spread, k as escape_object, a as subscribe, v as validate_component, e as escape, b as add_attribute } from \"../../../../chunks/ssr.js\";\nimport { D as DeviceOptions, R as ResetSubmit } from \"../../../../chunks/DeviceOptions.js\";\nimport { H as HorizontalField } from \"../../../../chunks/HorizontalField.js\";\nimport { F as Form } from \"../../../../chunks/Form.js\";\nimport { g as getRemoteContext, s as storeEntries, a as storeKeys } from \"../../../../chunks/_layout.js\";\nconst FileInput = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, []);\n  return `<label class=\"file-label relative w-full shadow-sm rounded-md flex-1 bg-white border border-gray-300\"><input${spread(\n    [\n      escape_object($$restProps),\n      {\n        class: \"file-input absolute inset-0 rounded-md w-full cursor-pointer\"\n      },\n      { type: \"file\" }\n    ],\n    {}\n  )}> <div class=\"relative flex pointer-events-none cursor-pointer\"><span class=\"inline-flex items-center px-3 rounded-l-md border-r border-gray-300 bg-gray-50 text-gray-500 text-sm\" aria-hidden=\"true\" data-svelte-h=\"svelte-1asnlcw\"><svg class=\"fill-current mr-1\" width=\"24\" height=\"24\" viewBox=\"4 3 18 17\"><path d=\"M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z\"></path></svg>\n\t\t\tChoose a fileâ€¦</span> <span class=\"flex-1 block bg-white w-full rounded-none rounded-r-md sm:text-sm border-gray-300 px-3 py-2\" aria-hidden=\"true\">${slots.default ? slots.default({}) : ``}</span></div></label>`;\n});\nasync function submit(data, action) {\n  const image = data.get(\"image\");\n  data.delete(\"image\");\n  for (const [key, value] of data) {\n    action.searchParams.append(key, value);\n  }\n  try {\n    const res = await fetch(action.toString(), {\n      method: \"post\",\n      headers: { \"content-type\": image.type },\n      body: image\n    });\n    if (!res.ok) {\n      throw new Error(res.statusText);\n    }\n  } catch (err) {\n    console.error(err);\n    throw err;\n  }\n}\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $deviceIds, $$unsubscribe_deviceIds;\n  let $devices, $$unsubscribe_devices;\n  const { state: remoteState } = getRemoteContext();\n  const devices = storeEntries(remoteState);\n  $$unsubscribe_devices = subscribe(devices, (value) => $devices = value);\n  const deviceIds = storeKeys(remoteState);\n  $$unsubscribe_deviceIds = subscribe(deviceIds, (value) => $deviceIds = value);\n  let fileName = \"No file selected.\";\n  $$unsubscribe_deviceIds();\n  $$unsubscribe_devices();\n  return `${validate_component(Form, \"Form\").$$render(\n    $$result,\n    {\n      class: \"flex flex-col gap-y-4\",\n      action: \"/api/action/image/\",\n      onSubmit: submit\n    },\n    {},\n    {\n      default: ({ loading }) => {\n        return `${validate_component(HorizontalField, \"HorizontalField\").$$render($$result, { for: \"control-image\", label: \"Image\" }, {}, {\n          default: () => {\n            return `${validate_component(FileInput, \"FileInput\").$$render(\n              $$result,\n              {\n                required: true,\n                accept: \"image/*\",\n                name: \"image\",\n                id: \"control-image\"\n              },\n              {},\n              {\n                default: () => {\n                  return `${escape(fileName)}`;\n                }\n              }\n            )}`;\n          }\n        })} ${validate_component(HorizontalField, \"HorizontalField\").$$render($$result, { for: \"control-serial\", label: \"Devices\" }, {}, {\n          default: ({ inputClassName }) => {\n            return `<select multiple name=\"device\" id=\"control-serial\"${add_attribute(\"class\", inputClassName, 0)}${add_attribute(\"value\", $deviceIds, 0)}>${validate_component(DeviceOptions, \"DeviceOptions\").$$render($$result, { devices: $devices }, {}, {})}</select>`;\n          }\n        })} ${validate_component(HorizontalField, \"HorizontalField\").$$render(\n          $$result,\n          {\n            for: \"control-hozalign\",\n            label: \"Horizontal Alignment\"\n          },\n          {},\n          {\n            default: ({ inputClassName }) => {\n              return `<select id=\"control-hozalign\" name=\"horizontalAlign\"${add_attribute(\"class\", inputClassName, 0)}><option value=\"center\" data-svelte-h=\"svelte-w0t6oy\">Center</option><option value=\"left\" data-svelte-h=\"svelte-aj1gu\">Left</option><option value=\"right\" data-svelte-h=\"svelte-nmgac6\">Right</option></select>`;\n            }\n          }\n        )} ${validate_component(HorizontalField, \"HorizontalField\").$$render(\n          $$result,\n          {\n            for: \"control-veralign\",\n            label: \"Vertical Alignment\"\n          },\n          {},\n          {\n            default: ({ inputClassName }) => {\n              return `<select id=\"control-veralign\" name=\"verticalAlign\"${add_attribute(\"class\", inputClassName, 0)}><option value=\"middle\" data-svelte-h=\"svelte-1w4zyea\">Middle</option><option value=\"top\" data-svelte-h=\"svelte-yxqe5o\">Top</option><option value=\"bottom\" data-svelte-h=\"svelte-64e8dq\">Bottom</option></select>`;\n            }\n          }\n        )} ${validate_component(HorizontalField, \"HorizontalField\").$$render(\n          $$result,\n          {\n            for: \"control-resize\",\n            label: \"Resize Mode\"\n          },\n          {},\n          {\n            default: ({ inputClassName }) => {\n              return `<select id=\"control-resize\" name=\"resize\"${add_attribute(\"class\", inputClassName, 0)}><option value=\"bilinearInterpolation\" data-svelte-h=\"svelte-1lbhtpm\">Bilinear</option><option value=\"bicubicInterpolation\" data-svelte-h=\"svelte-92ntw6\">Bicubic</option><option value=\"hermiteInterpolation\" data-svelte-h=\"svelte-c3b9be\">Hermite</option><option value=\"bezierInterpolation\" data-svelte-h=\"svelte-x6cc64\">Bezier</option><option value=\"nearestNeighbor\" data-svelte-h=\"svelte-1v4z3pw\">Nearest Neighbor</option></select>`;\n            }\n          }\n        )} ${validate_component(HorizontalField, \"HorizontalField\").$$render(\n          $$result,\n          {\n            for: \"control-rest\",\n            label: \"Remaining Cells\"\n          },\n          {},\n          {\n            default: ({ inputClassName }) => {\n              return `<select id=\"control-rest\" name=\"rest\"${add_attribute(\"class\", inputClassName, 0)}><option value=\"ignore\" data-svelte-h=\"svelte-u6vf1u\">Ignore</option><option value=\"blank\" data-svelte-h=\"svelte-1u68x92\">Blank</option><option value=\"off\" data-svelte-h=\"svelte-14ilfoc\">Off</option></select>`;\n            }\n          }\n        )} ${validate_component(ResetSubmit, \"ResetSubmit\").$$render($$result, { loading }, {}, {})}`;\n      }\n    }\n  )}`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}