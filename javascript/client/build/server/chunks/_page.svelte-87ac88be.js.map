{"version":3,"file":"_page.svelte-87ac88be.js","sources":["../../../.svelte-kit/adapter-node/chunks/VerticalField.js","../../../.svelte-kit/adapter-node/entries/pages/remote/text/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, e as escape, v as validate_component, b as add_attribute } from \"./ssr.js\";\nimport { L as Label } from \"./Label.js\";\nconst INPUT_CLASSES = \"block w-full shadow-sm sm:text-sm border-gray-300 rounded-md\";\nconst VerticalField = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { class: className = \"\" } = $$props;\n  let { for: htmlFor = void 0 } = $$props;\n  let { label } = $$props;\n  if ($$props.class === void 0 && $$bindings.class && className !== void 0)\n    $$bindings.class(className);\n  if ($$props.for === void 0 && $$bindings.for && htmlFor !== void 0)\n    $$bindings.for(htmlFor);\n  if ($$props.label === void 0 && $$bindings.label && label !== void 0)\n    $$bindings.label(label);\n  return `<div class=\"${\"text-black \" + escape(className, true)}\">${validate_component(Label, \"Label\").$$render($$result, { class: \"mb-1\", for: htmlFor }, {}, {\n    default: () => {\n      return `${escape(label)}`;\n    }\n  })} ${slots.default ? slots.default({ inputClassName: INPUT_CLASSES }) : ` <input type=\"text\"${add_attribute(\"id\", htmlFor, 0)}${add_attribute(\"class\", INPUT_CLASSES, 0)}> `}</div>`;\n});\nexport {\n  VerticalField as V\n};\n","import { c as create_ssr_component, a as subscribe, v as validate_component, b as add_attribute } from \"../../../../chunks/ssr.js\";\nimport { D as DeviceOptions, R as ResetSubmit } from \"../../../../chunks/DeviceOptions.js\";\nimport { H as HorizontalField } from \"../../../../chunks/HorizontalField.js\";\nimport { V as VerticalField } from \"../../../../chunks/VerticalField.js\";\nimport { F as Form } from \"../../../../chunks/Form.js\";\nimport { g as getRemoteContext, s as storeEntries, a as storeKeys } from \"../../../../chunks/_layout.js\";\nasync function submit(data, action) {\n  const backgroundColor = data.get(\"backgroundColor\");\n  if (backgroundColor !== \"#ffffff\") {\n    action.searchParams.set(\"backgroundColor\", backgroundColor);\n  }\n  action.searchParams.set(\"rest\", data.get(\"rest\"));\n  action.searchParams.set(\"delay\", data.get(\"delay\"));\n  data.getAll(\"device\").forEach((deviceId) => {\n    action.searchParams.append(\"device\", deviceId);\n  });\n  try {\n    const res = await fetch(action.toString(), {\n      method: \"post\",\n      headers: { \"content-type\": \"text/plain\" },\n      body: data.get(\"text\")\n    });\n    if (!res.ok) {\n      throw new Error(res.statusText);\n    }\n  } catch (err) {\n    console.error(err);\n    throw err;\n  }\n}\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $deviceIds, $$unsubscribe_deviceIds;\n  let $devices, $$unsubscribe_devices;\n  const { state: remoteState } = getRemoteContext();\n  const devices = storeEntries(remoteState);\n  $$unsubscribe_devices = subscribe(devices, (value) => $devices = value);\n  const deviceIds = storeKeys(remoteState);\n  $$unsubscribe_deviceIds = subscribe(deviceIds, (value) => $deviceIds = value);\n  $$unsubscribe_deviceIds();\n  $$unsubscribe_devices();\n  return `${validate_component(Form, \"Form\").$$render(\n    $$result,\n    {\n      class: \"flex flex-col gap-y-4\",\n      action: \"/api/action/text\",\n      onSubmit: submit\n    },\n    {},\n    {\n      default: ({ loading }) => {\n        return `${validate_component(VerticalField, \"VerticalField\").$$render($$result, { for: \"control-text\", label: \"Text\" }, {}, {\n          default: ({ inputClassName }) => {\n            return `<textarea${add_attribute(\"class\", inputClassName, 0)} required id=\"control-text\" name=\"text\" rows=\"10\" placeholder=\" Apple \n Banana \n Carrot\"></textarea>`;\n          }\n        })} ${validate_component(HorizontalField, \"HorizontalField\").$$render(\n          $$result,\n          {\n            for: \"control-color\",\n            label: \"Background Color\"\n          },\n          {},\n          {\n            default: () => {\n              return `<input id=\"control-color\" name=\"backgroundColor\" type=\"color\" value=\"#ffffff\">`;\n            }\n          }\n        )} ${validate_component(HorizontalField, \"HorizontalField\").$$render($$result, { for: \"control-serial\", label: \"Devices\" }, {}, {\n          default: ({ inputClassName }) => {\n            return `<select multiple name=\"device\" id=\"control-serial\"${add_attribute(\"class\", inputClassName, 0)}${add_attribute(\"value\", $deviceIds, 0)}>${validate_component(DeviceOptions, \"DeviceOptions\").$$render($$result, { devices: $devices }, {}, {})}</select>`;\n          }\n        })} ${validate_component(HorizontalField, \"HorizontalField\").$$render(\n          $$result,\n          {\n            for: \"control-rest\",\n            label: \"Remaining Cells\"\n          },\n          {},\n          {\n            default: ({ inputClassName }) => {\n              return `<select id=\"control-rest\" name=\"rest\"${add_attribute(\"class\", inputClassName, 0)}><option value=\"ignore\" data-svelte-h=\"svelte-u6vf1u\">Ignore</option><option value=\"blank\" data-svelte-h=\"svelte-1u68x92\">Blank</option><option value=\"off\" data-svelte-h=\"svelte-14ilfoc\">Off</option></select>`;\n            }\n          }\n        )} ${validate_component(HorizontalField, \"HorizontalField\").$$render(\n          $$result,\n          {\n            for: \"control-delay\",\n            label: \"Update delay\"\n          },\n          {},\n          {\n            default: () => {\n              return `<input id=\"control-delay\" name=\"delay\" type=\"number\" value=\"0\">`;\n            }\n          }\n        )} ${validate_component(ResetSubmit, \"ResetSubmit\").$$render($$result, { loading }, {}, {})}`;\n      }\n    }\n  )}`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}