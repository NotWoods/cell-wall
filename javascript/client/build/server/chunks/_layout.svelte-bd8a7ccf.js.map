{"version":3,"file":"_layout.svelte-bd8a7ccf.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/cell/frame/_layout.svelte.js"],"sourcesContent":["import { c as create_ssr_component, b as add_attribute, a as subscribe, n as noop, g as getContext, s as setContext, v as validate_component } from \"../../../../chunks/ssr.js\";\nimport { r as readable } from \"../../../../chunks/index2.js\";\nimport { c as connect, a as cellState, f as frameUrl } from \"../../../../chunks/state-socket.js\";\nimport \"../../../../chunks/web.js\";\nimport { r as randomItem } from \"../../../../chunks/random.js\";\nconst SocketIndicator_svelte_svelte_type_style_lang = \"\";\nconst css$2 = {\n  code: \".socket-error.svelte-oss7oo{position:absolute;top:0;right:0;z-index:1}\",\n  map: null\n};\nfunction socketConnectionState(socket) {\n  return readable(\"open\", (set) => {\n    const controller = new AbortController();\n    socket?.addEventListener(\"error\", () => set(\"error\"), controller);\n    socket?.addEventListener(\"close\", () => set(\"close\"), controller);\n    return () => controller.abort();\n  });\n}\nconst SocketIndicator = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let socketState;\n  let $socketState, $$unsubscribe_socketState = noop, $$subscribe_socketState = () => ($$unsubscribe_socketState(), $$unsubscribe_socketState = subscribe(socketState, ($$value) => $socketState = $$value), socketState);\n  let { socket } = $$props;\n  if ($$props.socket === void 0 && $$bindings.socket && socket !== void 0)\n    $$bindings.socket(socket);\n  $$result.css.add(css$2);\n  $$subscribe_socketState(socketState = socketConnectionState(socket));\n  $$unsubscribe_socketState();\n  return `${$socketState !== \"open\" ? `<svg class=\"socket-error svelte-oss7oo\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" height=\"24px\" width=\"24px\"${add_attribute(\"fill\", $socketState === \"error\" ? \"#DC2626\" : \"#EA580C\", 0)} stroke=\"#fff\"><path d=\"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z\"></path></svg>` : ``}`;\n});\nconst _PageTransition_svelte_svelte_type_style_lang = \"\";\nconst css$1 = {\n  code: \".inner.svelte-noax5s{position:absolute;top:0;left:0}\",\n  map: null\n};\nconst directions = {\n  left: { x: -100, y: 0 },\n  right: { x: 100, y: 0 },\n  top: { x: 0, y: -100 },\n  bottom: { x: 0, y: 100 }\n};\nconst directionKeys = Object.keys(directions);\nconst PageTransition = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  directions[randomItem(directionKeys)];\n  $$result.css.add(css$1);\n  return `<div class=\"inner fill svelte-noax5s\">${slots.default ? slots.default({}) : ``} </div>`;\n});\nconst _layout_svelte_svelte_type_style_lang = \"\";\nconst css = {\n  code: \".layout.svelte-12yt1eb{position:relative;height:100vh;height:100dvh;width:100vw;background:#429a46;overflow:hidden}\",\n  map: null\n};\nfunction getFrameContext() {\n  return getContext(\"frame\");\n}\nconst Layout = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $state, $$unsubscribe_state;\n  let { data } = $$props;\n  const socket = connect(data.serial);\n  const state = cellState(socket);\n  $$unsubscribe_state = subscribe(state, (value) => $state = value);\n  setContext(\"frame\", { socket, state });\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0)\n    $$bindings.data(data);\n  $$result.css.add(css);\n  frameUrl($state.type, data.serial);\n  $$unsubscribe_state();\n  return `${$$result.head += `<!-- HEAD_svelte-al2hjo_START -->${$$result.title = `<title>Cell</title>`, \"\"}<!-- HEAD_svelte-al2hjo_END -->`, \"\"} <div class=\"layout svelte-12yt1eb\">${validate_component(PageTransition, \"PageTransition\").$$render($$result, {}, {}, {\n    default: () => {\n      return `${slots.default ? slots.default({}) : ``}`;\n    }\n  })}</div> ${socket ? `${validate_component(SocketIndicator, \"SocketIndicator\").$$render($$result, { socket }, {}, {})}` : ``}`;\n});\nexport {\n  Layout as default,\n  getFrameContext\n};\n"],"names":[],"mappings":"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"}