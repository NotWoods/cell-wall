{"version":3,"file":"_page.svelte-f51c2b42.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/remote/edit/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, a as subscribe, v as validate_component, b as add_attribute, e as escape } from \"../../../../chunks/ssr.js\";\nimport { c as connectionToString, D as DeviceOptions, R as ResetSubmit } from \"../../../../chunks/DeviceOptions.js\";\nimport { H as HorizontalField } from \"../../../../chunks/HorizontalField.js\";\nimport { F as Form } from \"../../../../chunks/Form.js\";\nimport { g as getRemoteContext, s as storeEntries, a as storeKeys } from \"../../../../chunks/_layout.js\";\nimport { P as PowerButtons } from \"../../../../chunks/_PowerButtons.js\";\nimport { p as post } from \"../../../../chunks/_form.js\";\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let firstDevice;\n  let selectedCell;\n  let connection;\n  let $remoteState, $$unsubscribe_remoteState;\n  let $devicesIds, $$unsubscribe_devicesIds;\n  let $devices, $$unsubscribe_devices;\n  const { state: remoteState } = getRemoteContext();\n  $$unsubscribe_remoteState = subscribe(remoteState, (value) => $remoteState = value);\n  const devices = storeEntries(remoteState);\n  $$unsubscribe_devices = subscribe(devices, (value) => $devices = value);\n  const devicesIds = storeKeys(remoteState);\n  $$unsubscribe_devicesIds = subscribe(devicesIds, (value) => $devicesIds = value);\n  let selectedDeviceSerial;\n  async function submit(formData, action) {\n    function getNumber(key) {\n      const value = formData.get(key);\n      if (typeof value === \"string\") {\n        return Number(value);\n      }\n      return void 0;\n    }\n    const data = {\n      serial: formData.get(\"serial\"),\n      deviceName: formData.get(\"deviceName\"),\n      width: getNumber(\"width\"),\n      height: getNumber(\"height\"),\n      x: getNumber(\"x\"),\n      y: getNumber(\"y\"),\n      server: formData.get(\"server\")\n    };\n    await post(action.toString(), data);\n  }\n  firstDevice = $devicesIds[0];\n  selectedCell = $remoteState.get(firstDevice);\n  connection = connectionToString(selectedCell?.connection);\n  $$unsubscribe_remoteState();\n  $$unsubscribe_devicesIds();\n  $$unsubscribe_devices();\n  return `${validate_component(Form, \"Form\").$$render(\n    $$result,\n    {\n      class: \"flex flex-col gap-y-4\",\n      action: \"/api/device/info/\" + selectedDeviceSerial,\n      onSubmit: submit\n    },\n    {},\n    {\n      default: ({ loading }) => {\n        return `${validate_component(HorizontalField, \"HorizontalField\").$$render($$result, { for: \"control-serial\", label: \"Device\" }, {}, {\n          default: ({ inputClassName }) => {\n            return `<select${add_attribute(\"class\", inputClassName, 0)} name=\"serial\" id=\"control-serial\">${validate_component(DeviceOptions, \"DeviceOptions\").$$render($$result, { devices: $devices }, {}, {})}</select>`;\n          }\n        })} ${validate_component(HorizontalField, \"HorizontalField\").$$render(\n          $$result,\n          {\n            for: \"control-connection\",\n            label: \"Connection\"\n          },\n          {},\n          {\n            default: ({ inputClassName }) => {\n              return `<input id=\"control-connection\" name=\"connection\" type=\"text\"${add_attribute(\"value\", connection, 0)} readonly class=\"${escape(inputClassName, true) + \" bg-slate-300\"}\">`;\n            }\n          }\n        )} ${selectedCell?.connection?.includes(\"android\") ? `${validate_component(HorizontalField, \"HorizontalField\").$$render($$result, { label: \"Power\" }, {}, {\n          default: () => {\n            return `${validate_component(PowerButtons, \"PowerButtons\").$$render($$result, { serial: selectedDeviceSerial }, {}, {})}`;\n          }\n        })}` : ``} ${validate_component(HorizontalField, \"HorizontalField\").$$render(\n          $$result,\n          {\n            for: \"control-deviceName\",\n            label: \"Device Name\"\n          },\n          {},\n          {\n            default: ({ inputClassName }) => {\n              return `<input id=\"control-deviceName\"${add_attribute(\"class\", inputClassName, 0)} name=\"deviceName\" type=\"text\"${add_attribute(\"value\", selectedCell?.info?.deviceName ?? \"\", 0)} placeholder=\"Pixel 10\">`;\n            }\n          }\n        )} ${validate_component(HorizontalField, \"HorizontalField\").$$render($$result, { for: \"control-width\", label: \"Width\" }, {}, {\n          default: ({ inputClassName }) => {\n            return `<input id=\"control-width\"${add_attribute(\"class\", inputClassName, 0)} name=\"width\" type=\"number\"${add_attribute(\"min\", 0, 0)}${add_attribute(\"value\", selectedCell?.info?.width ?? \"\", 0)} placeholder=\"900\">`;\n          }\n        })} ${validate_component(HorizontalField, \"HorizontalField\").$$render($$result, { for: \"control-height\", label: \"Height\" }, {}, {\n          default: ({ inputClassName }) => {\n            return `<input id=\"control-height\"${add_attribute(\"class\", inputClassName, 0)} name=\"height\" type=\"number\"${add_attribute(\"min\", 0, 0)}${add_attribute(\"value\", selectedCell?.info?.height ?? \"\", 0)} placeholder=\"2100\">`;\n          }\n        })} ${validate_component(HorizontalField, \"HorizontalField\").$$render($$result, { for: \"control-x\", label: \"X Position\" }, {}, {\n          default: ({ inputClassName }) => {\n            return `<input id=\"control-x\"${add_attribute(\"class\", inputClassName, 0)} name=\"x\" type=\"number\"${add_attribute(\"value\", selectedCell?.info?.x ?? \"\", 0)} placeholder=\"10\">`;\n          }\n        })} ${validate_component(HorizontalField, \"HorizontalField\").$$render($$result, { for: \"control-y\", label: \"Y Position\" }, {}, {\n          default: ({ inputClassName }) => {\n            return `<input id=\"control-y\"${add_attribute(\"class\", inputClassName, 0)} name=\"y\" type=\"number\"${add_attribute(\"value\", selectedCell?.info?.y ?? \"\", 0)} placeholder=\"0\">`;\n          }\n        })} ${validate_component(HorizontalField, \"HorizontalField\").$$render(\n          $$result,\n          {\n            for: \"control-server\",\n            label: \"Asset Server\"\n          },\n          {},\n          {\n            default: ({ inputClassName }) => {\n              return `<input id=\"control-server\"${add_attribute(\"class\", inputClassName, 0)} name=\"server\" type=\"url\"${add_attribute(\"value\", selectedCell?.info?.server ?? \"\", 0)} placeholder=\"http://192.168.0.1\">`;\n            }\n          }\n        )} ${validate_component(ResetSubmit, \"ResetSubmit\").$$render($$result, { loading }, {}, {})}`;\n      }\n    }\n  )}`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}