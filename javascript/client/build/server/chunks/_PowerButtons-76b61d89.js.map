{"version":3,"file":"_PowerButtons-76b61d89.js","sources":["../../../.svelte-kit/adapter-node/chunks/_form.js","../../../.svelte-kit/adapter-node/chunks/_PowerButtons.js"],"sourcesContent":["async function post(action, body) {\n  try {\n    const res = await fetch(action, {\n      method: \"post\",\n      headers: {\n        \"content-type\": \"application/json\"\n      },\n      body: JSON.stringify(body)\n    });\n    if (!res.ok) {\n      throw new Error(res.statusText);\n    }\n    return res;\n  } catch (err) {\n    console.error(err);\n    throw err;\n  }\n}\nfunction formDataAsSearchParams(formData) {\n  const params = new URLSearchParams();\n  for (const [key, value] of formData) {\n    if (typeof value === \"string\") {\n      params.append(key, value);\n    }\n  }\n  return params;\n}\nexport {\n  formDataAsSearchParams as f,\n  post as p\n};\n","import { c as create_ssr_component, v as validate_component } from \"./ssr.js\";\nimport { F as Form, S as SubmitButton } from \"./Form.js\";\nimport { p as post } from \"./_form.js\";\nconst colors = {\n  pending: \"bg-slate-700\",\n  success: \"bg-slate-700 hover:bg-slate-800\"\n};\nconst PowerButtons = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  const notLoading = Promise.resolve();\n  let { serial } = $$props;\n  async function submit(formData, action) {\n    const data = Object.fromEntries(formData);\n    await post(action.toString(), data);\n  }\n  if ($$props.serial === void 0 && $$bindings.serial && serial !== void 0)\n    $$bindings.serial(serial);\n  return `${validate_component(Form, \"Form\").$$render(\n    $$result,\n    {\n      class: \"flex\",\n      method: \"post\",\n      action: \"\",\n      onSubmit: submit\n    },\n    {},\n    {\n      default: ({ status }) => {\n        return `<legend class=\"sr-only\" data-svelte-h=\"svelte-1ws5tgw\">Power</legend> ${validate_component(SubmitButton, \"SubmitButton\").$$render(\n          $$result,\n          {\n            loading: !status.submitterName ? status.loading : notLoading,\n            colors,\n            disabled: serial === void 0,\n            class: \"rounded-r-none\",\n            name: \"launch\",\n            formaction: \"/api/action/launch/\" + serial,\n            \"aria-label\": \"Launch client app\"\n          },\n          {},\n          {\n            default: () => {\n              return `Launch`;\n            }\n          }\n        )} ${validate_component(SubmitButton, \"SubmitButton\").$$render(\n          $$result,\n          {\n            loading: status.submitterValue === \"false\" ? status.loading : notLoading,\n            colors,\n            name: \"on\",\n            value: \"false\",\n            disabled: serial === void 0,\n            class: \"rounded-r-none rounded-l-none border-l border-r border-slate-500\",\n            formaction: \"/api/device/power/\" + serial,\n            \"aria-label\": \"Power off\"\n          },\n          {},\n          {\n            default: () => {\n              return `Off`;\n            }\n          }\n        )} ${validate_component(SubmitButton, \"SubmitButton\").$$render(\n          $$result,\n          {\n            loading: status.submitterValue === \"true\" ? status.loading : notLoading,\n            colors,\n            name: \"on\",\n            value: \"true\",\n            disabled: serial === void 0,\n            class: \"rounded-l-none\",\n            formaction: \"/api/device/power/\" + serial,\n            \"aria-label\": \"Power on\"\n          },\n          {},\n          {\n            default: () => {\n              return `On`;\n            }\n          }\n        )}`;\n      }\n    }\n  )}`;\n});\nexport {\n  PowerButtons as P\n};\n"],"names":[],"mappings":"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"}