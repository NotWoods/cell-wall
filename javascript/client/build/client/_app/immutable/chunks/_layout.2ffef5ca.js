import{s as y,n as h,o as z,C as N,i as O,c as j,u as q,g as A,a as B,d as R,b as U,D as G,B as H}from"./scheduler.fd4d87b3.js";import{S as $,i as b,D as v,j as d,d as u,I as C,J as S,p as g,f as _,g as Q,e as M,c as T,t as m,L as W,a as p,M as X,s as w,h as Y,b as E,w as Z,k as P,l as V,m as F,n as J,v as x}from"./index.64515c27.js";import{c as ee,a as te,s as se,f as ne,g as oe}from"./state-socket.b0f23eaa.js";import{r as re}from"./index.5159c792.js";import{q as ae,f as le}from"./index.fe5f1800.js";import"./web.85761f5a.js";import{a as ie}from"./random.3e8d6194.js";function D(o){let e,s,t;return{c(){e=C("svg"),s=C("path"),this.h()},l(n){e=S(n,"svg",{class:!0,xmlns:!0,viewBox:!0,height:!0,width:!0,fill:!0,stroke:!0});var a=g(e);s=S(a,"path",{d:!0}),g(s).forEach(u),a.forEach(u),this.h()},h(){_(s,"d","M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"),_(e,"class","socket-error svelte-oss7oo"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 24 24"),_(e,"height","24px"),_(e,"width","24px"),_(e,"fill",t=o[1]==="error"?"#DC2626":"#EA580C"),_(e,"stroke","#fff")},m(n,a){d(n,e,a),Q(e,s)},p(n,a){a&2&&t!==(t=n[1]==="error"?"#DC2626":"#EA580C")&&_(e,"fill",t)},d(n){n&&u(e)}}}function ce(o){let e,s=o[1]!=="open"&&D(o);return{c(){s&&s.c(),e=v()},l(t){s&&s.l(t),e=v()},m(t,n){s&&s.m(t,n),d(t,e,n)},p(t,[n]){t[1]!=="open"?s?s.p(t,n):(s=D(t),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null)},i:h,o:h,d(t){t&&u(e),s&&s.d(t)}}}function fe(o){return re("open",e=>{const s=new AbortController;return o==null||o.addEventListener("error",()=>e("error"),s),o==null||o.addEventListener("close",()=>e("close"),s),()=>s.abort()})}function ue(o,e,s){let t,n,a=h,l=()=>(a(),a=O(t,i=>s(1,n=i)),t);o.$$.on_destroy.push(()=>a());let{socket:r}=e;return z(()=>{document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&N(t)!=="open"&&location.reload()})}),o.$$set=i=>{"socket"in i&&s(2,r=i.socket)},o.$$.update=()=>{o.$$.dirty&4&&l(s(0,t=fe(r)))},[t,n,r]}class _e extends ${constructor(e){super(),b(this,e,ue,ce,y,{socket:2})}}function de(o){let e,s,t,n;const a=o[2].default,l=j(a,o,o[1],null);return{c(){e=M("div"),l&&l.c(),this.h()},l(r){e=T(r,"DIV",{class:!0});var i=g(e);l&&l.l(i),i.forEach(u),this.h()},h(){_(e,"class","inner fill svelte-noax5s")},m(r,i){d(r,e,i),l&&l.m(e,null),n=!0},p(r,[i]){o=r,l&&l.p&&(!n||i&2)&&q(l,a,o,o[1],n?B(a,o[1],i,null):A(o[1]),null)},i(r){n||(m(l,r),r&&R(()=>{n&&(t&&t.end(1),s=W(e,me,{duration:I,x:o[0].x,y:o[0].y}),s.start())}),n=!0)},o(r){p(l,r),s&&s.invalidate(),r&&(t=X(e,le,{delay:I,duration:50})),n=!1},d(r){r&&u(e),l&&l.d(r),r&&t&&t.end()}}}function me(o,{duration:e,x:s=0,y:t=0}){const n=getComputedStyle(o),a=n.transform==="none"?"":n.transform;return{delay:0,duration:e,easing:ae,css:l=>`transform: ${a} translate(${(1-l)*s}%, ${(1-l)*t}%);`}}const K={left:{x:-100,y:0},right:{x:100,y:0},top:{x:0,y:-100},bottom:{x:0,y:100}},pe=Object.keys(K),I=500;function he(o,e,s){let{$$slots:t={},$$scope:n}=e;const a=K[ie(pe)];return o.$$set=l=>{"$$scope"in l&&s(1,n=l.$$scope)},[a,n,t]}class ve extends ${constructor(e){super(),b(this,e,he,de,y,{})}}function ge(o){let e;const s=o[5].default,t=j(s,o,o[6],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,a){t&&t.m(n,a),e=!0},p(n,a){t&&t.p&&(!e||a&64)&&q(t,s,n,n[6],e?B(s,n[6],a,null):A(n[6]),null)},i(n){e||(m(t,n),e=!0)},o(n){p(t,n),e=!1},d(n){t&&t.d(n)}}}function L(o){let e,s;return e=new ve({props:{$$slots:{default:[ge]},$$scope:{ctx:o}}}),{c(){P(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,n){F(e,t,n),s=!0},p(t,n){const a={};n&64&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){s||(m(e.$$.fragment,t),s=!0)},o(t){p(e.$$.fragment,t),s=!1},d(t){J(e,t)}}}function ye(o){let e,s;return e=new _e({props:{socket:o[1]}}),{c(){P(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,n){F(e,t,n),s=!0},p:h,i(t){s||(m(e.$$.fragment,t),s=!0)},o(t){p(e.$$.fragment,t),s=!1},d(t){J(e,t)}}}function $e(o){let e,s,t=o[0].type,n,a,l,r=L(o),i=o[1]&&ye(o);return{c(){e=w(),s=M("div"),r.c(),n=w(),i&&i.c(),a=v(),this.h()},l(c){Y("svelte-al2hjo",document.head).forEach(u),e=E(c),s=T(c,"DIV",{class:!0});var k=g(s);r.l(k),k.forEach(u),n=E(c),i&&i.l(c),a=v(),this.h()},h(){document.title="Cell",_(s,"class","layout svelte-12yt1eb")},m(c,f){d(c,e,f),d(c,s,f),r.m(s,null),d(c,n,f),i&&i.m(c,f),d(c,a,f),l=!0},p(c,[f]){f&1&&y(t,t=c[0].type)?(x(),p(r,1,1,h),Z(),r=L(c),r.c(),m(r,1),r.m(s,null)):r.p(c,f),c[1]&&i.p(c,f)},i(c){l||(m(r),m(i),l=!0)},o(c){p(r),p(i),l=!1},d(c){c&&(u(e),u(s),u(n),u(a)),r.d(c),i&&i.d(c)}}}function Le(){return H("frame")}function be(o,e,s){let t,n,{$$slots:a={},$$scope:l}=e,{data:r}=e;const i=ee(r.serial),c=te(i);return U(o,c,f=>s(0,n=f)),z(()=>{se(i)}),G("frame",{socket:i,state:c}),o.$$set=f=>{"data"in f&&s(3,r=f.data),"$$scope"in f&&s(6,l=f.$$scope)},o.$$.update=()=>{o.$$.dirty&9&&s(4,t=ne(n.type,r.serial)),o.$$.dirty&16&&oe(t,{replaceState:!0})},[n,i,c,r,t,a,l]}class ze extends ${constructor(e){super(),b(this,e,be,$e,y,{data:3})}}export{ze as L,Le as g};
