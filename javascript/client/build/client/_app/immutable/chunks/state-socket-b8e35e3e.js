import{c as t}from"./singletons-d1fb5791.js";import{b as s}from"./web-75f832b0.js";import{r as c}from"./index-6cd92273.js";t.disable_scroll_handling;const p=t.goto;t.invalidate;t.prefetch;const g=t.prefetch_routes;t.before_navigate;t.after_navigate;function w(e){return new WebSocket(`ws://${window.location.host}/cells/${e}`)}function l(e){return Boolean(e&&typeof e=="object"&&"type"in e)}function u(e){return e instanceof ArrayBuffer?e.byteLength===0:e instanceof Blob?e.size===0:!1}function d(e){try{return JSON.parse(e)}catch(n){if(n instanceof SyntaxError)return;throw n}}function v(e){let n=s;return c(s,r=>{const i=new AbortController;function f({data:o}){if(typeof o=="string"){const a=d(o);if(l(a)){n=a;return}}u(o)||(n.payload=o),r(n)}return e==null||e.addEventListener("message",f,i),()=>i.abort()})}function y(e,n){if(e){const r=()=>{const i={width:window.innerWidth,height:window.innerHeight};e.send(JSON.stringify(i))};switch(document.addEventListener("resize",r,n),e.addEventListener("close",()=>{document.removeEventListener("resize",r)}),e.readyState){case 0:e.addEventListener("open",r,n);break;case 1:r();break}}}function S(e,n){return`/cell/frame/${e.toLowerCase()}?id=${n}`}export{v as a,w as c,S as f,p as g,g as p,y as s};
