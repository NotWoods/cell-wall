(function(){"use strict";async function qa(o){const e={timeZoneName:"never",smallestUnit:"second"},t={timeMin:o.timeMin.toString(e),timeMax:o.timeMax.toString(e),items:o.items};return await fetch("/api/third_party/freebusy",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),signal:o.signal})}class l extends Array{constructor(e,t){if(super(e),this.sign=t,Object.setPrototypeOf(this,l.prototype),e>l.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded")}static BigInt(e){var t=Math.floor,r=Number.isFinite;if(typeof e=="number"){if(e===0)return l.__zero();if(l.__isOneDigitInt(e))return 0>e?l.__oneDigit(-e,!0):l.__oneDigit(e,!1);if(!r(e)||t(e)!==e)throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return l.__fromDouble(e)}if(typeof e=="string"){const n=l.__fromString(e);if(n===null)throw new SyntaxError("Cannot convert "+e+" to a BigInt");return n}if(typeof e=="boolean")return e===!0?l.__oneDigit(1,!1):l.__zero();if(typeof e=="object"){if(e.constructor===l)return e;const n=l.__toPrimitive(e);return l.BigInt(n)}throw new TypeError("Cannot convert "+e+" to a BigInt")}toDebugString(){const e=["BigInt["];for(const t of this)e.push((t&&(t>>>0).toString(16))+", ");return e.push("]"),e.join("")}toString(e=10){if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":e&e-1?l.__toStringGeneric(this,e,!1):l.__toStringBasePowerOfTwo(this,e)}valueOf(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}static toNumber(e){const t=e.length;if(t===0)return 0;if(t===1){const w=e.__unsignedDigit(0);return e.sign?-w:w}const r=e.__digit(t-1),n=l.__clz30(r),i=30*t-n;if(1024<i)return e.sign?-1/0:1/0;let s=i-1,c=r,d=t-1;const h=n+3;let u=h===32?0:c<<h;u>>>=12;const m=h-12;let f=12<=h?0:c<<20+h,y=20+h;for(0<m&&0<d&&(d--,c=e.__digit(d),u|=c>>>30-m,f=c<<m+2,y=m+2);0<y&&0<d;)d--,c=e.__digit(d),f|=30<=y?c<<y-30:c>>>30-y,y-=30;const g=l.__decideRounding(e,y,d,c);if((g===1||g===0&&(1&f)==1)&&(f=f+1>>>0,f===0&&(u++,u>>>20!=0&&(u=0,s++,1023<s))))return e.sign?-1/0:1/0;const p=e.sign?-2147483648:0;return s=s+1023<<20,l.__kBitConversionInts[1]=p|s|u,l.__kBitConversionInts[0]=f,l.__kBitConversionDouble[0]}static unaryMinus(e){if(e.length===0)return e;const t=e.__copy();return t.sign=!e.sign,t}static bitwiseNot(e){return e.sign?l.__absoluteSubOne(e).__trim():l.__absoluteAddOne(e,!0)}static exponentiate(e,t){if(t.sign)throw new RangeError("Exponent must be positive");if(t.length===0)return l.__oneDigit(1,!1);if(e.length===0)return e;if(e.length===1&&e.__digit(0)===1)return e.sign&&!(1&t.__digit(0))?l.unaryMinus(e):e;if(1<t.length)throw new RangeError("BigInt too big");let r=t.__unsignedDigit(0);if(r===1)return e;if(r>=l.__kMaxLengthBits)throw new RangeError("BigInt too big");if(e.length===1&&e.__digit(0)===2){const s=1+(0|r/30),c=e.sign&&(1&r)!=0,d=new l(s,c);d.__initializeDigits();const h=1<<r%30;return d.__setDigit(s-1,h),d}let n=null,i=e;for(1&r&&(n=e),r>>=1;r!==0;r>>=1)i=l.multiply(i,i),1&r&&(n===null?n=i:n=l.multiply(n,i));return n}static multiply(e,t){if(e.length===0)return e;if(t.length===0)return t;let r=e.length+t.length;30<=e.__clzmsd()+t.__clzmsd()&&r--;const n=new l(r,e.sign!==t.sign);n.__initializeDigits();for(let i=0;i<e.length;i++)l.__multiplyAccumulate(t,e.__digit(i),n,i);return n.__trim()}static divide(e,t){if(t.length===0)throw new RangeError("Division by zero");if(0>l.__absoluteCompare(e,t))return l.__zero();const r=e.sign!==t.sign,n=t.__unsignedDigit(0);let i;if(t.length===1&&32767>=n){if(n===1)return r===e.sign?e:l.unaryMinus(e);i=l.__absoluteDivSmall(e,n,null)}else i=l.__absoluteDivLarge(e,t,!0,!1);return i.sign=r,i.__trim()}static remainder(e,t){if(t.length===0)throw new RangeError("Division by zero");if(0>l.__absoluteCompare(e,t))return e;const r=t.__unsignedDigit(0);if(t.length===1&&32767>=r){if(r===1)return l.__zero();const i=l.__absoluteModSmall(e,r);return i===0?l.__zero():l.__oneDigit(i,e.sign)}const n=l.__absoluteDivLarge(e,t,!1,!0);return n.sign=e.sign,n.__trim()}static add(e,t){const r=e.sign;return r===t.sign?l.__absoluteAdd(e,t,r):0<=l.__absoluteCompare(e,t)?l.__absoluteSub(e,t,r):l.__absoluteSub(t,e,!r)}static subtract(e,t){const r=e.sign;return r===t.sign?0<=l.__absoluteCompare(e,t)?l.__absoluteSub(e,t,r):l.__absoluteSub(t,e,!r):l.__absoluteAdd(e,t,r)}static leftShift(e,t){return t.length===0||e.length===0?e:t.sign?l.__rightShiftByAbsolute(e,t):l.__leftShiftByAbsolute(e,t)}static signedRightShift(e,t){return t.length===0||e.length===0?e:t.sign?l.__leftShiftByAbsolute(e,t):l.__rightShiftByAbsolute(e,t)}static unsignedRightShift(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(e,t){return 0>l.__compareToBigInt(e,t)}static lessThanOrEqual(e,t){return 0>=l.__compareToBigInt(e,t)}static greaterThan(e,t){return 0<l.__compareToBigInt(e,t)}static greaterThanOrEqual(e,t){return 0<=l.__compareToBigInt(e,t)}static equal(e,t){if(e.sign!==t.sign||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e.__digit(r)!==t.__digit(r))return!1;return!0}static notEqual(e,t){return!l.equal(e,t)}static bitwiseAnd(e,t){var r=Math.max;if(!e.sign&&!t.sign)return l.__absoluteAnd(e,t).__trim();if(e.sign&&t.sign){const n=r(e.length,t.length)+1;let i=l.__absoluteSubOne(e,n);const s=l.__absoluteSubOne(t);return i=l.__absoluteOr(i,s,i),l.__absoluteAddOne(i,!0,i).__trim()}return e.sign&&([e,t]=[t,e]),l.__absoluteAndNot(e,l.__absoluteSubOne(t)).__trim()}static bitwiseXor(e,t){var r=Math.max;if(!e.sign&&!t.sign)return l.__absoluteXor(e,t).__trim();if(e.sign&&t.sign){const s=r(e.length,t.length),c=l.__absoluteSubOne(e,s),d=l.__absoluteSubOne(t);return l.__absoluteXor(c,d,c).__trim()}const n=r(e.length,t.length)+1;e.sign&&([e,t]=[t,e]);let i=l.__absoluteSubOne(t,n);return i=l.__absoluteXor(i,e,i),l.__absoluteAddOne(i,!0,i).__trim()}static bitwiseOr(e,t){var r=Math.max;const n=r(e.length,t.length);if(!e.sign&&!t.sign)return l.__absoluteOr(e,t).__trim();if(e.sign&&t.sign){let s=l.__absoluteSubOne(e,n);const c=l.__absoluteSubOne(t);return s=l.__absoluteAnd(s,c,s),l.__absoluteAddOne(s,!0,s).__trim()}e.sign&&([e,t]=[t,e]);let i=l.__absoluteSubOne(t,n);return i=l.__absoluteAndNot(i,e,i),l.__absoluteAddOne(i,!0,i).__trim()}static asIntN(e,t){var r=Math.floor;if(t.length===0)return t;if(e=r(e),0>e)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(e===0)return l.__zero();if(e>=l.__kMaxLengthBits)return t;const n=0|(e+29)/30;if(t.length<n)return t;const i=t.__unsignedDigit(n-1),s=1<<(e-1)%30;if(t.length===n&&i<s)return t;if((i&s)!==s)return l.__truncateToNBits(e,t);if(!t.sign)return l.__truncateAndSubFromPowerOfTwo(e,t,!0);if(!(i&s-1)){for(let c=n-2;0<=c;c--)if(t.__digit(c)!==0)return l.__truncateAndSubFromPowerOfTwo(e,t,!1);return t.length===n&&i===s?t:l.__truncateToNBits(e,t)}return l.__truncateAndSubFromPowerOfTwo(e,t,!1)}static asUintN(e,t){var r=Math.floor;if(t.length===0)return t;if(e=r(e),0>e)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(e===0)return l.__zero();if(t.sign){if(e>l.__kMaxLengthBits)throw new RangeError("BigInt too big");return l.__truncateAndSubFromPowerOfTwo(e,t,!1)}if(e>=l.__kMaxLengthBits)return t;const n=0|(e+29)/30;if(t.length<n)return t;const i=e%30;return t.length==n&&(i===0||!(t.__digit(n-1)>>>i))?t:l.__truncateToNBits(e,t)}static ADD(e,t){if(e=l.__toPrimitive(e),t=l.__toPrimitive(t),typeof e=="string")return typeof t!="string"&&(t=t.toString()),e+t;if(typeof t=="string")return e.toString()+t;if(e=l.__toNumeric(e),t=l.__toNumeric(t),l.__isBigInt(e)&&l.__isBigInt(t))return l.add(e,t);if(typeof e=="number"&&typeof t=="number")return e+t;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(e,t){return l.__compare(e,t,0)}static LE(e,t){return l.__compare(e,t,1)}static GT(e,t){return l.__compare(e,t,2)}static GE(e,t){return l.__compare(e,t,3)}static EQ(e,t){for(;;){if(l.__isBigInt(e))return l.__isBigInt(t)?l.equal(e,t):l.EQ(t,e);if(typeof e=="number"){if(l.__isBigInt(t))return l.__equalToNumber(t,e);if(typeof t!="object")return e==t;t=l.__toPrimitive(t)}else if(typeof e=="string"){if(l.__isBigInt(t))return e=l.__fromString(e),e!==null&&l.equal(e,t);if(typeof t!="object")return e==t;t=l.__toPrimitive(t)}else if(typeof e=="boolean"){if(l.__isBigInt(t))return l.__equalToNumber(t,+e);if(typeof t!="object")return e==t;t=l.__toPrimitive(t)}else if(typeof e=="symbol"){if(l.__isBigInt(t))return!1;if(typeof t!="object")return e==t;t=l.__toPrimitive(t)}else if(typeof e=="object"){if(typeof t=="object"&&t.constructor!==l)return e==t;e=l.__toPrimitive(e)}else return e==t}}static NE(e,t){return!l.EQ(e,t)}static DataViewGetBigInt64(e,t,r=!1){return l.asIntN(64,l.DataViewGetBigUint64(e,t,r))}static DataViewGetBigUint64(e,t,r=!1){const[n,i]=r?[4,0]:[0,4],s=e.getUint32(t+n,r),c=e.getUint32(t+i,r),d=new l(3,!1);return d.__setDigit(0,1073741823&c),d.__setDigit(1,(268435455&s)<<2|c>>>30),d.__setDigit(2,s>>>28),d.__trim()}static DataViewSetBigInt64(e,t,r,n=!1){l.DataViewSetBigUint64(e,t,r,n)}static DataViewSetBigUint64(e,t,r,n=!1){r=l.asUintN(64,r);let i=0,s=0;if(0<r.length&&(s=r.__digit(0),1<r.length)){const h=r.__digit(1);s|=h<<30,i=h>>>2,2<r.length&&(i|=r.__digit(2)<<28)}const[c,d]=n?[4,0]:[0,4];e.setUint32(t+c,i,n),e.setUint32(t+d,s,n)}static __zero(){return new l(0,!1)}static __oneDigit(e,t){const r=new l(1,t);return r.__setDigit(0,e),r}__copy(){const e=new l(this.length,this.sign);for(let t=0;t<this.length;t++)e[t]=this[t];return e}__trim(){let e=this.length,t=this[e-1];for(;t===0;)e--,t=this[e-1],this.pop();return e===0&&(this.sign=!1),this}__initializeDigits(){for(let e=0;e<this.length;e++)this[e]=0}static __decideRounding(e,t,r,n){if(0<t)return-1;let i;if(0>t)i=-t-1;else{if(r===0)return-1;r--,n=e.__digit(r),i=29}let s=1<<i;if(!(n&s))return-1;if(s-=1,(n&s)!=0)return 1;for(;0<r;)if(r--,e.__digit(r)!==0)return 1;return 0}static __fromDouble(e){l.__kBitConversionDouble[0]=e;const t=2047&l.__kBitConversionInts[1]>>>20,r=t-1023,n=(0|r/30)+1,i=new l(n,0>e);let s=1048575&l.__kBitConversionInts[1]|1048576,c=l.__kBitConversionInts[0];const d=20,h=r%30;let u,m=0;if(h<20){const f=d-h;m=f+32,u=s>>>f,s=s<<32-f|c>>>f,c<<=32-f}else if(h===20)m=32,u=s,s=c,c=0;else{const f=h-d;m=32-f,u=s<<f|c>>>32-f,s=c<<f,c=0}i.__setDigit(n-1,u);for(let f=n-2;0<=f;f--)0<m?(m-=30,u=s>>>2,s=s<<30|c>>>2,c<<=30):u=0,i.__setDigit(f,u);return i.__trim()}static __isWhitespace(e){return 13>=e&&9<=e||(159>=e?e==32:131071>=e?e==160||e==5760:196607>=e?(e&=131071,10>=e||e==40||e==41||e==47||e==95||e==4096):e==65279)}static __fromString(e,t=0){let r=0;const n=e.length;let i=0;if(i===n)return l.__zero();let s=e.charCodeAt(i);for(;l.__isWhitespace(s);){if(++i===n)return l.__zero();s=e.charCodeAt(i)}if(s===43){if(++i===n)return null;s=e.charCodeAt(i),r=1}else if(s===45){if(++i===n)return null;s=e.charCodeAt(i),r=-1}if(t===0){if(t=10,s===48){if(++i===n)return l.__zero();if(s=e.charCodeAt(i),s===88||s===120){if(t=16,++i===n)return null;s=e.charCodeAt(i)}else if(s===79||s===111){if(t=8,++i===n)return null;s=e.charCodeAt(i)}else if(s===66||s===98){if(t=2,++i===n)return null;s=e.charCodeAt(i)}}}else if(t===16&&s===48){if(++i===n)return l.__zero();if(s=e.charCodeAt(i),s===88||s===120){if(++i===n)return null;s=e.charCodeAt(i)}}if(r!=0&&t!==10)return null;for(;s===48;){if(++i===n)return l.__zero();s=e.charCodeAt(i)}const c=n-i;let d=l.__kMaxBitsPerChar[t],h=l.__kBitsPerCharTableMultiplier-1;if(c>1073741824/d)return null;const u=d*c+h>>>l.__kBitsPerCharTableShift,m=new l(0|(u+29)/30,!1),f=10>t?t:10,y=10<t?t-10:0;if(t&t-1){m.__initializeDigits();let g=!1,p=0;do{let w=0,T=1;for(;;){let E;if(s-48>>>0<f)E=s-48;else if((32|s)-97>>>0<y)E=(32|s)-87;else{g=!0;break}const D=T*t;if(1073741823<D)break;if(T=D,w=w*t+E,p++,++i===n){g=!0;break}s=e.charCodeAt(i)}h=30*l.__kBitsPerCharTableMultiplier-1;const b=0|(d*p+h>>>l.__kBitsPerCharTableShift)/30;m.__inplaceMultiplyAdd(T,w,b)}while(!g)}else{d>>=l.__kBitsPerCharTableShift;const g=[],p=[];let w=!1;do{let T=0,b=0;for(;;){let E;if(s-48>>>0<f)E=s-48;else if((32|s)-97>>>0<y)E=(32|s)-87;else{w=!0;break}if(b+=d,T=T<<d|E,++i===n){w=!0;break}if(s=e.charCodeAt(i),30<b+d)break}g.push(T),p.push(b)}while(!w);l.__fillFromParts(m,g,p)}if(i!==n){if(!l.__isWhitespace(s))return null;for(i++;i<n;i++)if(s=e.charCodeAt(i),!l.__isWhitespace(s))return null}return m.sign=r==-1,m.__trim()}static __fillFromParts(e,t,r){let n=0,i=0,s=0;for(let c=t.length-1;0<=c;c--){const d=t[c],h=r[c];i|=d<<s,s+=h,s===30?(e.__setDigit(n++,i),s=0,i=0):30<s&&(e.__setDigit(n++,1073741823&i),s-=30,i=d>>>h-s)}if(i!==0){if(n>=e.length)throw new Error("implementation bug");e.__setDigit(n++,i)}for(;n<e.length;n++)e.__setDigit(n,0)}static __toStringBasePowerOfTwo(e,t){const r=e.length;let n=t-1;n=(85&n>>>1)+(85&n),n=(51&n>>>2)+(51&n),n=(15&n>>>4)+(15&n);const i=n,s=t-1,c=e.__digit(r-1),d=l.__clz30(c);let h=0|(30*r-d+i-1)/i;if(e.sign&&h++,268435456<h)throw new Error("string too long");const u=Array(h);let m=h-1,f=0,y=0;for(let p=0;p<r-1;p++){const w=e.__digit(p),T=(f|w<<y)&s;u[m--]=l.__kConversionChars[T];const b=i-y;for(f=w>>>b,y=30-b;y>=i;)u[m--]=l.__kConversionChars[f&s],f>>>=i,y-=i}const g=(f|c<<y)&s;for(u[m--]=l.__kConversionChars[g],f=c>>>i-y;f!==0;)u[m--]=l.__kConversionChars[f&s],f>>>=i;if(e.sign&&(u[m--]="-"),m!=-1)throw new Error("implementation bug");return u.join("")}static __toStringGeneric(e,t,r){const n=e.length;if(n===0)return"";if(n===1){let p=e.__unsignedDigit(0).toString(t);return r===!1&&e.sign&&(p="-"+p),p}const i=30*n-l.__clz30(e.__digit(n-1)),s=l.__kMaxBitsPerChar[t],c=s-1;let d=i*l.__kBitsPerCharTableMultiplier;d+=c-1,d=0|d/c;const h=d+1>>1,u=l.exponentiate(l.__oneDigit(t,!1),l.__oneDigit(h,!1));let m,f;const y=u.__unsignedDigit(0);if(u.length===1&&32767>=y){m=new l(e.length,!1),m.__initializeDigits();let p=0;for(let w=2*e.length-1;0<=w;w--){const T=p<<15|e.__halfDigit(w);m.__setHalfDigit(w,0|T/y),p=0|T%y}f=p.toString(t)}else{const p=l.__absoluteDivLarge(e,u,!0,!0);m=p.quotient;const w=p.remainder.__trim();f=l.__toStringGeneric(w,t,!0)}m.__trim();let g=l.__toStringGeneric(m,t,!0);for(;f.length<h;)f="0"+f;return r===!1&&e.sign&&(g="-"+g),g+f}static __unequalSign(e){return e?-1:1}static __absoluteGreater(e){return e?-1:1}static __absoluteLess(e){return e?1:-1}static __compareToBigInt(e,t){const r=e.sign;if(r!==t.sign)return l.__unequalSign(r);const n=l.__absoluteCompare(e,t);return 0<n?l.__absoluteGreater(r):0>n?l.__absoluteLess(r):0}static __compareToNumber(e,t){if(l.__isOneDigitInt(t)){const r=e.sign,n=0>t;if(r!==n)return l.__unequalSign(r);if(e.length===0){if(n)throw new Error("implementation bug");return t===0?0:-1}if(1<e.length)return l.__absoluteGreater(r);const i=Math.abs(t),s=e.__unsignedDigit(0);return s>i?l.__absoluteGreater(r):s<i?l.__absoluteLess(r):0}return l.__compareToDouble(e,t)}static __compareToDouble(e,t){if(t!==t)return t;if(t===1/0)return-1;if(t===-1/0)return 1;const r=e.sign;if(r!==0>t)return l.__unequalSign(r);if(t===0)throw new Error("implementation bug: should be handled elsewhere");if(e.length===0)return-1;l.__kBitConversionDouble[0]=t;const n=2047&l.__kBitConversionInts[1]>>>20;if(n==2047)throw new Error("implementation bug: handled elsewhere");const i=n-1023;if(0>i)return l.__absoluteGreater(r);const s=e.length;let c=e.__digit(s-1);const d=l.__clz30(c),h=30*s-d,u=i+1;if(h<u)return l.__absoluteLess(r);if(h>u)return l.__absoluteGreater(r);let m=1048576|1048575&l.__kBitConversionInts[1],f=l.__kBitConversionInts[0];const y=20,g=29-d;if(g!==(0|(h-1)%30))throw new Error("implementation bug");let p,w=0;if(20>g){const T=y-g;w=T+32,p=m>>>T,m=m<<32-T|f>>>T,f<<=32-T}else if(g===20)w=32,p=m,m=f,f=0;else{const T=g-y;w=32-T,p=m<<T|f>>>32-T,m=f<<T,f=0}if(c>>>=0,p>>>=0,c>p)return l.__absoluteGreater(r);if(c<p)return l.__absoluteLess(r);for(let T=s-2;0<=T;T--){0<w?(w-=30,p=m>>>2,m=m<<30|f>>>2,f<<=30):p=0;const b=e.__unsignedDigit(T);if(b>p)return l.__absoluteGreater(r);if(b<p)return l.__absoluteLess(r)}if(m!==0||f!==0){if(w===0)throw new Error("implementation bug");return l.__absoluteLess(r)}return 0}static __equalToNumber(e,t){var r=Math.abs;return l.__isOneDigitInt(t)?t===0?e.length===0:e.length===1&&e.sign===0>t&&e.__unsignedDigit(0)===r(t):l.__compareToDouble(e,t)===0}static __comparisonResultToBool(e,t){return t===0?0>e:t===1?0>=e:t===2?0<e:t===3?0<=e:void 0}static __compare(e,t,r){if(e=l.__toPrimitive(e),t=l.__toPrimitive(t),typeof e=="string"&&typeof t=="string")switch(r){case 0:return e<t;case 1:return e<=t;case 2:return e>t;case 3:return e>=t}if(l.__isBigInt(e)&&typeof t=="string")return t=l.__fromString(t),t!==null&&l.__comparisonResultToBool(l.__compareToBigInt(e,t),r);if(typeof e=="string"&&l.__isBigInt(t))return e=l.__fromString(e),e!==null&&l.__comparisonResultToBool(l.__compareToBigInt(e,t),r);if(e=l.__toNumeric(e),t=l.__toNumeric(t),l.__isBigInt(e)){if(l.__isBigInt(t))return l.__comparisonResultToBool(l.__compareToBigInt(e,t),r);if(typeof t!="number")throw new Error("implementation bug");return l.__comparisonResultToBool(l.__compareToNumber(e,t),r)}if(typeof e!="number")throw new Error("implementation bug");if(l.__isBigInt(t))return l.__comparisonResultToBool(l.__compareToNumber(t,e),2^r);if(typeof t!="number")throw new Error("implementation bug");return r===0?e<t:r===1?e<=t:r===2?e>t:r===3?e>=t:void 0}__clzmsd(){return l.__clz30(this.__digit(this.length-1))}static __absoluteAdd(e,t,r){if(e.length<t.length)return l.__absoluteAdd(t,e,r);if(e.length===0)return e;if(t.length===0)return e.sign===r?e:l.unaryMinus(e);let n=e.length;(e.__clzmsd()===0||t.length===e.length&&t.__clzmsd()===0)&&n++;const i=new l(n,r);let s=0,c=0;for(;c<t.length;c++){const d=e.__digit(c)+t.__digit(c)+s;s=d>>>30,i.__setDigit(c,1073741823&d)}for(;c<e.length;c++){const d=e.__digit(c)+s;s=d>>>30,i.__setDigit(c,1073741823&d)}return c<i.length&&i.__setDigit(c,s),i.__trim()}static __absoluteSub(e,t,r){if(e.length===0)return e;if(t.length===0)return e.sign===r?e:l.unaryMinus(e);const n=new l(e.length,r);let i=0,s=0;for(;s<t.length;s++){const c=e.__digit(s)-t.__digit(s)-i;i=1&c>>>30,n.__setDigit(s,1073741823&c)}for(;s<e.length;s++){const c=e.__digit(s)-i;i=1&c>>>30,n.__setDigit(s,1073741823&c)}return n.__trim()}static __absoluteAddOne(e,t,r=null){const n=e.length;r===null?r=new l(n,t):r.sign=t;let i=1;for(let s=0;s<n;s++){const c=e.__digit(s)+i;i=c>>>30,r.__setDigit(s,1073741823&c)}return i!=0&&r.__setDigitGrow(n,1),r}static __absoluteSubOne(e,t){const r=e.length;t=t||r;const n=new l(t,!1);let i=1;for(let s=0;s<r;s++){const c=e.__digit(s)-i;i=1&c>>>30,n.__setDigit(s,1073741823&c)}if(i!=0)throw new Error("implementation bug");for(let s=r;s<t;s++)n.__setDigit(s,0);return n}static __absoluteAnd(e,t,r=null){let n=e.length,i=t.length,s=i;if(n<i){s=n;const h=e,u=n;e=t,n=i,t=h,i=u}let c=s;r===null?r=new l(c,!1):c=r.length;let d=0;for(;d<s;d++)r.__setDigit(d,e.__digit(d)&t.__digit(d));for(;d<c;d++)r.__setDigit(d,0);return r}static __absoluteAndNot(e,t,r=null){const n=e.length,i=t.length;let s=i;n<i&&(s=n);let c=n;r===null?r=new l(c,!1):c=r.length;let d=0;for(;d<s;d++)r.__setDigit(d,e.__digit(d)&~t.__digit(d));for(;d<n;d++)r.__setDigit(d,e.__digit(d));for(;d<c;d++)r.__setDigit(d,0);return r}static __absoluteOr(e,t,r=null){let n=e.length,i=t.length,s=i;if(n<i){s=n;const h=e,u=n;e=t,n=i,t=h,i=u}let c=n;r===null?r=new l(c,!1):c=r.length;let d=0;for(;d<s;d++)r.__setDigit(d,e.__digit(d)|t.__digit(d));for(;d<n;d++)r.__setDigit(d,e.__digit(d));for(;d<c;d++)r.__setDigit(d,0);return r}static __absoluteXor(e,t,r=null){let n=e.length,i=t.length,s=i;if(n<i){s=n;const h=e,u=n;e=t,n=i,t=h,i=u}let c=n;r===null?r=new l(c,!1):c=r.length;let d=0;for(;d<s;d++)r.__setDigit(d,e.__digit(d)^t.__digit(d));for(;d<n;d++)r.__setDigit(d,e.__digit(d));for(;d<c;d++)r.__setDigit(d,0);return r}static __absoluteCompare(e,t){const r=e.length-t.length;if(r!=0)return r;let n=e.length-1;for(;0<=n&&e.__digit(n)===t.__digit(n);)n--;return 0>n?0:e.__unsignedDigit(n)>t.__unsignedDigit(n)?1:-1}static __multiplyAccumulate(e,t,r,n){if(t===0)return;const i=32767&t,s=t>>>15;let c=0,d=0;for(let h,u=0;u<e.length;u++,n++){h=r.__digit(n);const m=e.__digit(u),f=32767&m,y=m>>>15,g=l.__imul(f,i),p=l.__imul(f,s),w=l.__imul(y,i),T=l.__imul(y,s);h+=d+g+c,c=h>>>30,h&=1073741823,h+=((32767&p)<<15)+((32767&w)<<15),c+=h>>>30,d=T+(p>>>15)+(w>>>15),r.__setDigit(n,1073741823&h)}for(;c!=0||d!==0;n++){let h=r.__digit(n);h+=c+d,d=0,c=h>>>30,r.__setDigit(n,1073741823&h)}}static __internalMultiplyAdd(e,t,r,n,i){let s=r,c=0;for(let d=0;d<n;d++){const h=e.__digit(d),u=l.__imul(32767&h,t),m=l.__imul(h>>>15,t),f=u+((32767&m)<<15)+c+s;s=f>>>30,c=m>>>15,i.__setDigit(d,1073741823&f)}if(i.length>n)for(i.__setDigit(n++,s+c);n<i.length;)i.__setDigit(n++,0);else if(s+c!==0)throw new Error("implementation bug")}__inplaceMultiplyAdd(e,t,r){r>this.length&&(r=this.length);const n=32767&e,i=e>>>15;let s=0,c=t;for(let d=0;d<r;d++){const h=this.__digit(d),u=32767&h,m=h>>>15,f=l.__imul(u,n),y=l.__imul(u,i),g=l.__imul(m,n),p=l.__imul(m,i);let w=c+f+s;s=w>>>30,w&=1073741823,w+=((32767&y)<<15)+((32767&g)<<15),s+=w>>>30,c=p+(y>>>15)+(g>>>15),this.__setDigit(d,1073741823&w)}if(s!=0||c!==0)throw new Error("implementation bug")}static __absoluteDivSmall(e,t,r=null){r===null&&(r=new l(e.length,!1));let n=0;for(let i,s=2*e.length-1;0<=s;s-=2){i=(n<<15|e.__halfDigit(s))>>>0;const c=0|i/t;n=0|i%t,i=(n<<15|e.__halfDigit(s-1))>>>0;const d=0|i/t;n=0|i%t,r.__setDigit(s>>>1,c<<15|d)}return r}static __absoluteModSmall(e,t){let r=0;for(let n=2*e.length-1;0<=n;n--)r=0|((r<<15|e.__halfDigit(n))>>>0)%t;return r}static __absoluteDivLarge(e,t,r,n){const i=t.__halfDigitLength(),s=t.length,c=e.__halfDigitLength()-i;let d=null;r&&(d=new l(c+2>>>1,!1),d.__initializeDigits());const h=new l(i+2>>>1,!1);h.__initializeDigits();const u=l.__clz15(t.__halfDigit(i-1));0<u&&(t=l.__specialLeftShift(t,u,0));const m=l.__specialLeftShift(e,u,1),f=t.__halfDigit(i-1);let y=0;for(let g,p=c;0<=p;p--){g=32767;const w=m.__halfDigit(p+i);if(w!==f){const b=(w<<15|m.__halfDigit(p+i-1))>>>0;g=0|b/f;let E=0|b%f;const D=t.__halfDigit(i-2),M=m.__halfDigit(p+i-2);for(;l.__imul(g,D)>>>0>(E<<16|M)>>>0&&(g--,E+=f,!(32767<E)););}l.__internalMultiplyAdd(t,g,0,s,h);let T=m.__inplaceSub(h,p,i+1);T!==0&&(T=m.__inplaceAdd(t,p,i),m.__setHalfDigit(p+i,32767&m.__halfDigit(p+i)+T),g--),r&&(1&p?y=g<<15:d.__setDigit(p>>>1,y|g))}if(n)return m.__inplaceRightShift(u),r?{quotient:d,remainder:m}:m;if(r)return d;throw new Error("unreachable")}static __clz15(e){return l.__clz30(e)-15}__inplaceAdd(e,t,r){let n=0;for(let i=0;i<r;i++){const s=this.__halfDigit(t+i)+e.__halfDigit(i)+n;n=s>>>15,this.__setHalfDigit(t+i,32767&s)}return n}__inplaceSub(e,t,r){let n=0;if(1&t){t>>=1;let i=this.__digit(t),s=32767&i,c=0;for(;c<r-1>>>1;c++){const u=e.__digit(c),m=(i>>>15)-(32767&u)-n;n=1&m>>>15,this.__setDigit(t+c,(32767&m)<<15|32767&s),i=this.__digit(t+c+1),s=(32767&i)-(u>>>15)-n,n=1&s>>>15}const d=e.__digit(c),h=(i>>>15)-(32767&d)-n;if(n=1&h>>>15,this.__setDigit(t+c,(32767&h)<<15|32767&s),t+c+1>=this.length)throw new RangeError("out of bounds");!(1&r)&&(i=this.__digit(t+c+1),s=(32767&i)-(d>>>15)-n,n=1&s>>>15,this.__setDigit(t+e.length,1073709056&i|32767&s))}else{t>>=1;let i=0;for(;i<e.length-1;i++){const u=this.__digit(t+i),m=e.__digit(i),f=(32767&u)-(32767&m)-n;n=1&f>>>15;const y=(u>>>15)-(m>>>15)-n;n=1&y>>>15,this.__setDigit(t+i,(32767&y)<<15|32767&f)}const s=this.__digit(t+i),c=e.__digit(i),d=(32767&s)-(32767&c)-n;n=1&d>>>15;let h=0;!(1&r)&&(h=(s>>>15)-(c>>>15)-n,n=1&h>>>15),this.__setDigit(t+i,(32767&h)<<15|32767&d)}return n}__inplaceRightShift(e){if(e===0)return;let t=this.__digit(0)>>>e;const r=this.length-1;for(let n=0;n<r;n++){const i=this.__digit(n+1);this.__setDigit(n,1073741823&i<<30-e|t),t=i>>>e}this.__setDigit(r,t)}static __specialLeftShift(e,t,r){const n=e.length,i=new l(n+r,!1);if(t===0){for(let c=0;c<n;c++)i.__setDigit(c,e.__digit(c));return 0<r&&i.__setDigit(n,0),i}let s=0;for(let c=0;c<n;c++){const d=e.__digit(c);i.__setDigit(c,1073741823&d<<t|s),s=d>>>30-t}return 0<r&&i.__setDigit(n,s),i}static __leftShiftByAbsolute(e,t){const r=l.__toShiftAmount(t);if(0>r)throw new RangeError("BigInt too big");const n=0|r/30,i=r%30,s=e.length,c=i!==0&&e.__digit(s-1)>>>30-i!=0,d=s+n+(c?1:0),h=new l(d,e.sign);if(i===0){let u=0;for(;u<n;u++)h.__setDigit(u,0);for(;u<d;u++)h.__setDigit(u,e.__digit(u-n))}else{let u=0;for(let m=0;m<n;m++)h.__setDigit(m,0);for(let m=0;m<s;m++){const f=e.__digit(m);h.__setDigit(m+n,1073741823&f<<i|u),u=f>>>30-i}if(c)h.__setDigit(s+n,u);else if(u!==0)throw new Error("implementation bug")}return h.__trim()}static __rightShiftByAbsolute(e,t){const r=e.length,n=e.sign,i=l.__toShiftAmount(t);if(0>i)return l.__rightShiftByMaximum(n);const s=0|i/30,c=i%30;let d=r-s;if(0>=d)return l.__rightShiftByMaximum(n);let h=!1;if(n){if(e.__digit(s)&(1<<c)-1)h=!0;else for(let m=0;m<s;m++)if(e.__digit(m)!==0){h=!0;break}}h&&c===0&&!~e.__digit(r-1)&&d++;let u=new l(d,n);if(c===0){u.__setDigit(d-1,0);for(let m=s;m<r;m++)u.__setDigit(m-s,e.__digit(m))}else{let m=e.__digit(s)>>>c;const f=r-s-1;for(let y=0;y<f;y++){const g=e.__digit(y+s+1);u.__setDigit(y,1073741823&g<<30-c|m),m=g>>>c}u.__setDigit(f,m)}return h&&(u=l.__absoluteAddOne(u,!0,u)),u.__trim()}static __rightShiftByMaximum(e){return e?l.__oneDigit(1,!0):l.__zero()}static __toShiftAmount(e){if(1<e.length)return-1;const t=e.__unsignedDigit(0);return t>l.__kMaxLengthBits?-1:t}static __toPrimitive(e,t="default"){if(typeof e!="object"||e.constructor===l)return e;if(typeof Symbol<"u"&&typeof Symbol.toPrimitive=="symbol"){const i=e[Symbol.toPrimitive];if(i){const s=i(t);if(typeof s!="object")return s;throw new TypeError("Cannot convert object to primitive value")}}const r=e.valueOf;if(r){const i=r.call(e);if(typeof i!="object")return i}const n=e.toString;if(n){const i=n.call(e);if(typeof i!="object")return i}throw new TypeError("Cannot convert object to primitive value")}static __toNumeric(e){return l.__isBigInt(e)?e:+e}static __isBigInt(e){return typeof e=="object"&&e!==null&&e.constructor===l}static __truncateToNBits(e,t){const r=0|(e+29)/30,n=new l(r,t.sign),i=r-1;for(let c=0;c<i;c++)n.__setDigit(c,t.__digit(c));let s=t.__digit(i);if(e%30!=0){const c=32-e%30;s=s<<c>>>c}return n.__setDigit(i,s),n.__trim()}static __truncateAndSubFromPowerOfTwo(e,t,r){var n=Math.min;const i=0|(e+29)/30,s=new l(i,r);let c=0;const d=i-1;let h=0;for(const y=n(d,t.length);c<y;c++){const g=0-t.__digit(c)-h;h=1&g>>>30,s.__setDigit(c,1073741823&g)}for(;c<d;c++)s.__setDigit(c,0|1073741823&-h);let u=d<t.length?t.__digit(d):0;const m=e%30;let f;if(m==0)f=0-u-h,f&=1073741823;else{const y=32-m;u=u<<y>>>y;const g=1<<32-y;f=g-u-h,f&=g-1}return s.__setDigit(d,f),s.__trim()}__digit(e){return this[e]}__unsignedDigit(e){return this[e]>>>0}__setDigit(e,t){this[e]=0|t}__setDigitGrow(e,t){this[e]=0|t}__halfDigitLength(){const e=this.length;return 32767>=this.__unsignedDigit(e-1)?2*e-1:2*e}__halfDigit(e){return 32767&this[e>>>1]>>>15*(1&e)}__setHalfDigit(e,t){const r=e>>>1,n=this.__digit(r),i=1&e?32767&n|t<<15:1073709056&n|32767&t;this.__setDigit(r,i)}static __digitPow(e,t){let r=1;for(;0<t;)1&t&&(r*=e),t>>>=1,e*=e;return r}static __isOneDigitInt(e){return(1073741823&e)===e}}l.__kMaxLength=33554432,l.__kMaxLengthBits=l.__kMaxLength<<5,l.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],l.__kBitsPerCharTableShift=5,l.__kBitsPerCharTableMultiplier=1<<l.__kBitsPerCharTableShift,l.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],l.__kBitConversionBuffer=new ArrayBuffer(8),l.__kBitConversionDouble=new Float64Array(l.__kBitConversionBuffer),l.__kBitConversionInts=new Int32Array(l.__kBitConversionBuffer),l.__clz30=Math.clz32?function(o){return Math.clz32(o)-2}:function(o){return o===0?30:0|29-(0|Math.log(o>>>0)/Math.LN2)},l.__imul=Math.imul||function(o,e){return 0|o*e};const eo={};function _t(o,e){Object.defineProperty(o.prototype,Symbol.toStringTag,{value:e,writable:!1,enumerable:!1,configurable:!0});for(const t of Object.getOwnPropertyNames(o)){const r=Object.getOwnPropertyDescriptor(o,t);r.configurable&&r.enumerable&&(r.enumerable=!1,Object.defineProperty(o,t,r))}for(const t of Object.getOwnPropertyNames(o.prototype)){const r=Object.getOwnPropertyDescriptor(o.prototype,t);r.configurable&&r.enumerable&&(r.enumerable=!1,Object.defineProperty(o.prototype,t,r))}ue(e,o),ue(`${e}.prototype`,o.prototype)}function ue(o,e){const t=`%${o}%`;if(eo[t]!==void 0)throw new Error(`intrinsic ${o} already exists`);eo[t]=e}function I(o){return eo[o]}var Ko,Qo;const j="slot-epochNanoSeconds",Ct="slot-timezone-identifier",O="slot-year",k="slot-month",Y="slot-day",U="slot-hour",Z="slot-minute",q="slot-second",S="slot-millisecond",B="slot-microsecond",z="slot-nanosecond",v="slot-calendar",Jo="slot-date-brand",ei="slot-year-month-brand",ti="slot-month-day-brand",Ae="slot-cached-instant",ie="slot-time-zone",Se="slot-years",Ye="slot-months",et="slot-weeks",Be="slot-days",ze="slot-hours",We="slot-minutes",Ge="slot-seconds",He="slot-milliseconds",Ve="slot-microseconds",Xe="slot-nanoseconds",me="slot-calendar-identifier",ri=new WeakMap,to=Symbol.for("@@Temporal__GetSlots");(Ko=globalThis)[to]||(Ko[to]=function(e){return ri.get(e)});const ro=globalThis[to],no=Symbol.for("@@Temporal__CreateSlots");(Qo=globalThis)[no]||(Qo[no]=function(e){ri.set(e,Object.create(null))});const It=globalThis[no];function Re(o,...e){if(!o||typeof o!="object")return!1;const t=ro(o);return!!t&&e.every(r=>r in t)}function a(o,e){var r;const t=(r=ro(o))==null?void 0:r[e];if(t===void 0)throw new TypeError(`Missing internal slot ${e}`);return t}function W(o,e,t){const r=ro(o);if(r===void 0)throw new TypeError("Missing slots for the given container");if(r[e])throw new TypeError(`${e} already has set`);r[e]=t}const ni=/\.[-A-Za-z_]|\.\.[-A-Za-z._]{1,12}|\.[-A-Za-z_][-A-Za-z._]{0,12}|[A-Za-z_][-A-Za-z._]{0,13}/,zr=new RegExp("(?:"+[`(?:${ni.source})(?:\\/(?:${ni.source}))*`,"Etc/GMT(?:0|[-+]\\d{1,2})","GMT[-+]?0","EST5EDT","CST6CDT","MST7MDT","PST8PDT",/(?:[+\u2212-][0-2][0-9](?::?[0-5][0-9](?::?[0-5][0-9](?:[.,]\d{1,9})?)?)?)/.source].join("|")+")"),oi=/(?:[+\u2212-]\d{6}|\d{4})/,pn=/(?:0[1-9]|1[0-2])/,oo=/(?:0[1-9]|[12]\d|3[01])/,Sa=new RegExp(`(${oi.source})(?:-(${pn.source})-(${oo.source})|(${pn.source})(${oo.source}))`),ii=/(\d{2})(?::(\d{2})(?::(\d{2})(?:[.,](\d{1,9}))?)?|(\d{2})(?:(\d{2})(?:[.,](\d{1,9}))?)?)?/,ai=/([+\u2212-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\d{1,9}))?)?)?/,si=new RegExp(`([zZ])|${ai.source}?`),Wt=/\[(!)?([a-z_][a-z0-9_-]*)=([A-Za-z0-9]+(?:-[A-Za-z0-9]+)*)\]/g,Ba=new RegExp([`^${Sa.source}`,`(?:(?:T|\\s+)${ii.source}(?:${si.source})?)?`,`(?:\\[!?(${zr.source})\\])?`,`((?:${Wt.source})*)$`].join(""),"i"),za=new RegExp([`^T?${ii.source}`,`(?:${si.source})?`,`(?:\\[!?${zr.source}\\])?`,`((?:${Wt.source})*)$`].join(""),"i"),Wa=new RegExp(`^(${oi.source})-?(${pn.source})(?:\\[!?${zr.source}\\])?((?:${Wt.source})*)$`),Ga=new RegExp(`^(?:--)?(${pn.source})-?(${oo.source})(?:\\[!?${zr.source}\\])?((?:${Wt.source})*)$`),io=/(\d+)(?:[.,](\d{1,9}))?/,Ha=new RegExp(`(?:${io.source}H)?(?:${io.source}M)?(?:${io.source}S)?`),Va=new RegExp(`^([+−-])?P${/(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?/.source}(?:T(?!$)${Ha.source})?$`,"i"),Xa=Array.prototype.includes,li=Array.prototype.push,ci=globalThis.Intl.DateTimeFormat,Ka=Math.min,Qa=Math.max,le=Math.abs,tt=Math.floor,pr=Math.sign,nr=Math.trunc,wn=Number.isNaN,Ke=Number.isFinite,Ja=Number,Wr=String,es=Number.MAX_SAFE_INTEGER,Le=Object.create,ts=Object.getOwnPropertyDescriptor,Tn=Reflect.apply,rs=Reflect.ownKeys,ye=l.BigInt(0),wr=l.BigInt(1),Mt=l.BigInt(60),di=l.BigInt(24),te=l.BigInt(1e3),ut=l.BigInt(1e6),Ot=l.BigInt(1e9),ns=l.BigInt(-1),hi=l.multiply(l.BigInt(3600),Ot),ui=l.multiply(Mt,Ot),Rt=l.multiply(hi,di),Gr=l.multiply(l.BigInt(-86400),l.BigInt(1e17)),Tr=l.multiply(l.BigInt(86400),l.BigInt(1e17)),vn=-271821,bn=275760,vr=l.multiply(l.BigInt(-388152),l.BigInt(1e13)),os=l.multiply(Rt,l.BigInt(3660)),mi=l.multiply(Rt,l.BigInt(366)),fi=l.multiply(Rt,l.BigInt(14)),is=["iso8601","hebrew","islamic","islamic-umalqura","islamic-tbla","islamic-civil","islamic-rgsa","islamicc","persian","ethiopic","ethioaa","coptic","chinese","dangi","roc","indian","buddhist","japanese","gregory"];function mt(o){return l.equal(o,ye)}function ne(o,e){const t=o[e];if(t!==void 0)return t}function F(o,e,t){const r=arguments.length>2?t:[];return Tn(o,e,r)}function ce(o){return typeof o=="object"&&o!==null||typeof o=="function"}function br(o){if(typeof o=="bigint")throw new TypeError("Cannot convert BigInt to number");return Ja(o)}function De(o){const e=br(o);if(wn(e)||e===0)return 0;if(!Ke(e))return e;const t=tt(le(e));return t===0?0:pr(e)*t}function at(o){if(typeof o!="number"||wn(o)||!Ke(o))return!1;const e=le(o);return tt(e)===e}function Qe(o){if(typeof o=="symbol")throw new TypeError("Cannot convert a Symbol value to a String");return Wr(o)}function ee(o){const e=br(o);if(e===0)return 0;if(wn(e)||!Ke(e))throw new RangeError("invalid number value");const t=nr(e);return t===0?0:t}function yi(o,e){const t=ee(o);if(t<=0)throw e!==void 0?new RangeError(`property '${e}' cannot be a a number less than one`):new RangeError("Cannot convert a number less than one to a positive integer");return t}function ke(o){const e=br(o);if(!Ke(e))throw new RangeError("infinity is out of range");if(!at(e))throw new RangeError(`unsupported fractional value ${o}`);return e===0?0:e}function ve(o,e){return{quotient:l.divide(o,e),remainder:l.remainder(o,e)}}function En(o){return l.lessThan(o,ye)}function gi(o){return mt(o)?0:En(o)?-1:1}function Tt(o){return l.lessThan(o,ye)?l.multiply(o,ns):o}const pi=new Map([["year",ee],["month",yi],["monthCode",Qe],["day",yi],["hour",ee],["minute",ee],["second",ee],["millisecond",ee],["microsecond",ee],["nanosecond",ee],["years",ke],["months",ke],["weeks",ke],["days",ke],["hours",ke],["minutes",ke],["seconds",ke],["milliseconds",ke],["microseconds",ke],["nanoseconds",ke],["era",Qe],["eraYear",De],["offset",Qe]]),as=new Map([["hour",0],["minute",0],["second",0],["millisecond",0],["microsecond",0],["nanosecond",0]]),Hr=[["years","year","date"],["months","month","date"],["weeks","week","date"],["days","day","date"],["hours","hour","time"],["minutes","minute","time"],["seconds","second","time"],["milliseconds","millisecond","time"],["microseconds","microsecond","time"],["nanoseconds","nanosecond","time"]],Dn=new Map(Hr.map(o=>[o[0],o[1]])),ss=new Map(Hr.map(([o,e])=>[e,o])),wi=Hr.map(([,o])=>o),Ti=Array.from(Dn.keys()).sort(),vi=new Map;function bi(o){let e=vi.get(o);return e===void 0&&(e=new ci("en-us",{timeZone:Wr(o),hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),vi.set(o,e)),e}function Ei(o){if(o==null)throw new TypeError(`Expected object not ${o}`);return Object(o)}function Er(o,e,t,r){if(e==null)return;const n=rs(e);for(const i of n)if(!t.some(s=>Object.is(s,i))&&Object.prototype.propertyIsEnumerable.call(e,i)){const s=e[i];if(r&&r.some(c=>Object.is(c,s)))continue;o[i]=s}}function Ie(o){return Re(o,j)&&!Re(o,ie,v)}function ft(o){return Re(o,Ct)}function ge(o){return Re(o,me)}function pe(o){return Re(o,Se,Ye,Be,ze,We,Ge,He,Ve,Xe)}function X(o){return Re(o,Jo)}function we(o){return Re(o,U,Z,q,S,B,z)&&!Re(o,O,k,Y)}function L(o){return Re(o,O,k,Y,U,Z,q,S,B,z)}function re(o){return Re(o,ei)}function $e(o){return Re(o,ti)}function N(o){return Re(o,j,ie,v)}function Dr(o){if(Re(o,v)||Re(o,ie))throw new TypeError("with() does not support a calendar or timeZone property");if(we(o))throw new TypeError("with() does not accept Temporal.PlainTime, use withPlainTime() instead");if(o.calendar!==void 0)throw new TypeError("with() does not support a calendar property");if(o.timeZone!==void 0)throw new TypeError("with() does not support a timeZone property")}function ls(o){const{ianaName:e,offset:t,z:r}=function(i){if(new RegExp(`^${zr.source}$`,"i").test(i))return{ianaName:i};try{const s=kt(i);if(s.z||s.offset||s.ianaName)return s}catch{}throw new RangeError(`Invalid time zone: ${i}`)}(o);return e?vo(e):r?"UTC":Zn(Ht(t))}function ao(o,e){return e==="never"?"":so(Fe(o),e)}function so(o,e){return e==="never"||e==="auto"&&o==="iso8601"?"":`[${e==="critical"?"!":""}u-ca=${o}]`}function kt(o){const e=Ba.exec(o);if(!e)throw new RangeError(`invalid ISO 8601 string: ${o}`);let t=e[1];if(t[0]==="−"&&(t=`-${t.slice(1)}`),t==="-000000")throw new RangeError(`invalid ISO 8601 string: ${o}`);const r=De(t),n=De(e[2]||e[4]),i=De(e[3]||e[5]),s=De(e[6]),c=e[6]!==void 0,d=De(e[7]||e[10]);let h=De(e[8]||e[11]);h===60&&(h=59);const u=(e[9]||e[12])+"000000000",m=De(u.slice(0,3)),f=De(u.slice(3,6)),y=De(u.slice(6,9));let g,p=!1;if(e[13])g=void 0,p=!0;else if(e[14]&&e[15]){const E=e[14]==="-"||e[14]==="−"?"-":"+",D=e[15]||"00",M=e[16]||"00",C=e[17]||"00";let _=e[18]||"0";if(g=`${E}${D}:${M}`,+_){for(;_.endsWith("0");)_=_.slice(0,-1);g+=`:${C}.${_}`}else+C&&(g+=`:${C}`);g==="-00:00"&&(g="+00:00")}const w=e[19],T=e[20];let b;for(const[,E,D,M]of T.matchAll(Wt))if(D==="u-ca")b===void 0&&(b=M);else if(E==="!")throw new RangeError(`Unrecognized annotation: !${D}=${M}`);return Co(r,n,i,s,d,h,m,f,y),{year:r,month:n,day:i,hasTime:c,hour:s,minute:d,second:h,millisecond:m,microsecond:f,nanosecond:y,ianaName:w,offset:g,z:p,calendar:b}}function lo(o){const e=Wa.exec(o);let t,r,n,i;if(e){let s=e[1];if(s[0]==="−"&&(s=`-${s.slice(1)}`),s==="-000000")throw new RangeError(`invalid ISO 8601 string: ${o}`);t=De(s),r=De(e[2]);const c=e[3];for(const[,d,h,u]of c.matchAll(Wt))if(h==="u-ca")n===void 0&&(n=u);else if(d==="!")throw new RangeError(`Unrecognized annotation: !${h}=${u}`);if(n!==void 0&&n!=="iso8601")throw new RangeError("YYYY-MM format is only valid with iso8601 calendar")}else{let s;if({year:t,month:r,calendar:n,day:i,z:s}=kt(o),s)throw new RangeError("Z designator not supported for PlainYearMonth")}return{year:t,month:r,calendar:n,referenceISODay:i}}function co(o){const e=Ga.exec(o);let t,r,n,i;if(e){t=De(e[1]),r=De(e[2]);const s=e[3];for(const[,c,d,h]of s.matchAll(Wt))if(d==="u-ca")n===void 0&&(n=h);else if(c==="!")throw new RangeError(`Unrecognized annotation: !${d}=${h}`);if(n!==void 0&&n!=="iso8601")throw new RangeError("MM-DD format is only valid with iso8601 calendar")}else{let s;if({month:t,day:r,calendar:n,year:i,z:s}=kt(o),s)throw new RangeError("Z designator not supported for PlainMonthDay")}return{month:t,day:r,calendar:n,referenceISOYear:i}}function cs(o){let{year:e,month:t,day:r,hour:n,minute:i,second:s,millisecond:c,microsecond:d,nanosecond:h,offset:u,z:m}=function(p){const w=kt(p);if(!w.z&&!w.offset)throw new RangeError("Temporal.Instant requires a time zone offset");return w}(o);if(!m&&!u)throw new RangeError("Temporal.Instant requires a time zone offset");const f=m?0:Ht(u);({year:e,month:t,day:r,hour:n,minute:i,second:s,millisecond:c,microsecond:d,nanosecond:h}=Do(e,t,r,n,i,s,c,d,h-f));const y=Vt(e,t,r,n,i,s,c,d,h);if(y===null)throw new RangeError("DateTime outside of supported range");return y}function _n(o,e,t,r){let n=o,i=e,s=t;switch(r){case"reject":Yt(n,i,s);break;case"constrain":({year:n,month:i,day:s}=Vi(n,i,s))}return{year:n,month:i,day:s}}function Cn(o,e,t,r,n,i,s){let c=o,d=e,h=t,u=r,m=n,f=i;switch(s){case"reject":Wn(c,d,h,u,m,f);break;case"constrain":({hour:c,minute:d,second:h,millisecond:u,microsecond:m,nanosecond:f}=function(g,p,w,T,b,E){const D=it(g,0,23),M=it(p,0,59),C=it(w,0,59),_=it(T,0,999),$=it(b,0,999),P=it(E,0,999);return{hour:D,minute:M,second:C,millisecond:_,microsecond:$,nanosecond:P}}(c,d,h,u,m,f))}return{hour:c,minute:d,second:h,millisecond:u,microsecond:m,nanosecond:f}}function or(o){if(!ce(o))return function(g){const p=Va.exec(g);if(!p)throw new RangeError(`invalid duration: ${g}`);if(p.slice(2).every(V=>V===void 0))throw new RangeError(`invalid duration: ${g}`);const w=p[1]==="-"||p[1]==="−"?-1:1,T=p[2]===void 0?0:ee(p[2])*w,b=p[3]===void 0?0:ee(p[3])*w,E=p[4]===void 0?0:ee(p[4])*w,D=p[5]===void 0?0:ee(p[5])*w,M=p[6]===void 0?0:ee(p[6])*w,C=p[7],_=p[8],$=p[9],P=p[10],oe=p[11];let Q=0,J=0,x=0;if(C!==void 0){if(_??$??P??oe)throw new RangeError("only the smallest unit can be fractional");x=3600*De((C+"000000000").slice(0,9))*w}else if(Q=_===void 0?0:ee(_)*w,$!==void 0){if(P??oe)throw new RangeError("only the smallest unit can be fractional");x=60*De(($+"000000000").slice(0,9))*w}else J=P===void 0?0:ee(P)*w,oe!==void 0&&(x=De((oe+"000000000").slice(0,9))*w);const H=x%1e3,R=nr(x/1e3)%1e3,A=nr(x/1e6)%1e3;return J+=nr(x/1e9)%60,Q+=nr(x/6e10),Gn(T,b,E,D,M,Q,J,A,R,H),{years:T,months:b,weeks:E,days:D,hours:M,minutes:Q,seconds:J,milliseconds:A,microseconds:R,nanoseconds:H}}(Qe(o));if(pe(o))return{years:a(o,Se),months:a(o,Ye),weeks:a(o,et),days:a(o,Be),hours:a(o,ze),minutes:a(o,We),seconds:a(o,Ge),milliseconds:a(o,He),microseconds:a(o,Ve),nanoseconds:a(o,Xe)};const e={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};let t=function(g){if(!ce(g))throw new TypeError("invalid duration-like");const p={years:void 0,months:void 0,weeks:void 0,days:void 0,hours:void 0,minutes:void 0,seconds:void 0,milliseconds:void 0,microseconds:void 0,nanoseconds:void 0};let w=!1;for(const T of Ti){const b=g[T];b!==void 0&&(w=!0,p[T]=ke(b))}if(!w)throw new TypeError("invalid duration-like");return p}(o);for(const y of Ti){const g=t[y];g!==void 0&&(e[y]=g)}let{years:r,months:n,weeks:i,days:s,hours:c,minutes:d,seconds:h,milliseconds:u,microseconds:m,nanoseconds:f}=e;return Gn(r,n,i,s,c,d,h,u,m,f),{years:r,months:n,weeks:i,days:s,hours:c,minutes:d,seconds:h,milliseconds:u,microseconds:m,nanoseconds:f}}function be(o){return o===void 0?"constrain":er(o,"overflow",["constrain","reject"],"constrain")}function _r(o){return o===void 0?"compatible":er(o,"disambiguation",["compatible","earlier","later","reject"],"compatible")}function vt(o,e){return er(o,"roundingMode",["ceil","floor","expand","trunc","halfCeil","halfFloor","halfExpand","halfTrunc","halfEven"],e)}function In(o,e){return o===void 0?e:er(o,"offset",["prefer","use","ignore","reject"],e)}function Vr(o){return er(o,"calendarName",["auto","always","never","critical"],"auto")}function Cr(o){let e=o.roundingIncrement;if(e===void 0)return 1;if(e=br(e),!Ke(e))throw new RangeError("roundingIncrement must be finite");const t=nr(e);if(t<1||t>1e9)throw new RangeError(`roundingIncrement must be at least 1 and at most 1e9, not ${e}`);return t}function Ir(o,e,t){const r=t?e:e-1;if(o>r)throw new RangeError(`roundingIncrement must be at least 1 and less than ${r}, not ${o}`);if(e%o!=0)throw new RangeError(`Rounding increment must divide evenly into ${e}`)}function Xr(o){const e=o.fractionalSecondDigits;if(e===void 0)return"auto";if(typeof e!="number"){if(Qe(e)!=="auto")throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${e}`);return"auto"}const t=tt(e);if(!Ke(t)||t<0||t>9)throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${e}`);return t}function Kr(o,e){switch(o){case"minute":return{precision:"minute",unit:"minute",increment:1};case"second":return{precision:0,unit:"second",increment:1};case"millisecond":return{precision:3,unit:"millisecond",increment:1};case"microsecond":return{precision:6,unit:"microsecond",increment:1};case"nanosecond":return{precision:9,unit:"nanosecond",increment:1}}switch(e){case"auto":return{precision:e,unit:"nanosecond",increment:1};case 0:return{precision:e,unit:"second",increment:1};case 1:case 2:case 3:return{precision:e,unit:"millisecond",increment:10**(3-e)};case 4:case 5:case 6:return{precision:e,unit:"microsecond",increment:10**(6-e)};case 7:case 8:case 9:return{precision:e,unit:"nanosecond",increment:10**(9-e)};default:throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${e}`)}}const ir=Symbol("~required~");function rt(o,e,t,r,n=[]){const i=[];for(const[,h,u]of Hr)t!=="datetime"&&t!==u||i.push(h);i.push(...n);let s=r;s===ir?s=void 0:s!==void 0&&i.push(s);const c=[...i];for(const h of i){const u=ss.get(h);u!==void 0&&c.push(u)}let d=er(o,e,c,s);if(d===void 0&&r===ir)throw new RangeError(`${e} is required`);return Dn.has(d)?Dn.get(d):d}function Mn(o){const e=o.relativeTo;if(e===void 0)return e;let t,r,n,i,s,c,d,h,u,m,f,y,g="option",p=!1;if(ce(e)){if(N(e)||X(e))return e;if(L(e))return kr(e);m=an(e);const w=_e(m,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);w.push("timeZone","offset");const T=G(e,w,[]),b=Le(null);b.overflow="constrain",{year:t,month:r,day:n,hour:i,minute:s,second:c,millisecond:d,microsecond:h,nanosecond:u}=Qr(m,T,b),y=T.offset,y===void 0&&(g="wall"),f=T.timeZone,f!==void 0&&(f=Ue(f))}else{let w,T;if({year:t,month:r,day:n,hour:i,minute:s,second:c,millisecond:d,microsecond:h,nanosecond:u,calendar:m,ianaName:w,offset:y,z:T}=kt(Qe(e)),w)f=Ue(w),T?g="exact":y||(g="wall"),p=!0;else if(T)throw new RangeError("Z designator not supported for PlainDate relativeTo; either remove the Z or add a bracketed time zone");if(m||(m="iso8601"),!St(m))throw new RangeError(`invalid calendar identifier ${m}`);m=Pt(m)}return f===void 0?yt(t,r,n,m):Ne(Rn(t,r,n,i,s,c,d,h,u,g,g==="option"?Ht(y):0,f,"compatible","reject",p),f,m)}function ho(o,e,t,r,n,i,s,c,d,h){for(const[u,m]of[["years",o],["months",e],["weeks",t],["days",r],["hours",n],["minutes",i],["seconds",s],["milliseconds",c],["microseconds",d],["nanoseconds",h]])if(m!==0)return Dn.get(u);return"nanosecond"}function ar(o,e){return wi.indexOf(o)>wi.indexOf(e)?e:o}function G(o,e,t,{emptySourceErrorMessage:r}={emptySourceErrorMessage:"no supported properties found"}){const n=Le(null);let i=!1;e.sort();for(const s of e){let c=o[s];if(c!==void 0)i=!0,pi.has(s)&&(c=pi.get(s)(c)),n[s]=c;else if(t!=="partial"){if(Xa.call(t,s))throw new TypeError(`required property '${s}' missing or undefined`);c=as.get(s),n[s]=c}}if(t==="partial"&&!i)throw new TypeError(r);return n}function On(o,e="complete"){const t=["hour","microsecond","millisecond","minute","nanosecond","second"],r=G(o,t,"partial",{emptySourceErrorMessage:"invalid time-like"}),n={};for(const i of t){const s=ts(r,i);s!==void 0?n[i]=s.value:e==="complete"&&(n[i]=0)}return n}function ae(o,e){let t=o;if(ce(t)){if(X(t))return t;if(N(t)&&(be(e),t=st(a(t,ie),a(t,Ae),a(t,v))),L(t))return be(e),yt(a(t,O),a(t,k),a(t,Y),a(t,v));const d=an(t);return At(d,G(t,_e(d,["day","month","monthCode","year"]),[]),e)}be(e);let{year:r,month:n,day:i,calendar:s,z:c}=function(h){return kt(h)}(Qe(t));if(c)throw new RangeError("Z designator not supported for PlainDate");if(s||(s="iso8601"),!St(s))throw new RangeError(`invalid calendar identifier ${s}`);return s=Pt(s),yt(r,n,i,s)}function Qr(o,e,t){let{hour:r,minute:n,second:i,millisecond:s,microsecond:c,nanosecond:d}=On(e);const h=be(t),u=At(o,e,t),m=a(u,O),f=a(u,k),y=a(u,Y);return{hour:r,minute:n,second:i,millisecond:s,microsecond:c,nanosecond:d}=Cn(r,n,i,s,c,d,h),{year:m,month:f,day:y,hour:r,minute:n,second:i,millisecond:s,microsecond:c,nanosecond:d}}function sr(o,e){let t,r,n,i,s,c,d,h,u,m;if(ce(o)){if(L(o))return o;if(N(o))return be(e),st(a(o,ie),a(o,Ae),a(o,v));if(X(o))return be(e),nt(a(o,O),a(o,k),a(o,Y),0,0,0,0,0,0,a(o,v));m=an(o);const f=G(o,_e(m,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]);({year:t,month:r,day:n,hour:i,minute:s,second:c,millisecond:d,microsecond:h,nanosecond:u}=Qr(m,f,e))}else{let f;if(be(e),{year:t,month:r,day:n,hour:i,minute:s,second:c,millisecond:d,microsecond:h,nanosecond:u,calendar:m,z:f}=function(g){return kt(g)}(Qe(o)),f)throw new RangeError("Z designator not supported for PlainDateTime");if(Co(t,r,n,i,s,c,d,h,u),m||(m="iso8601"),!St(m))throw new RangeError(`invalid calendar identifier ${m}`);m=Pt(m)}return nt(t,r,n,i,s,c,d,h,u,m)}function Mr(o){if(pe(o))return o;let{years:e,months:t,weeks:r,days:n,hours:i,minutes:s,seconds:c,milliseconds:d,microseconds:h,nanoseconds:u}=or(o);return new(I("%Temporal.Duration%"))(e,t,r,n,i,s,c,d,h,u)}function bt(o){if(Ie(o))return o;if(N(o))return new(I("%Temporal.Instant%"))(a(o,j));const e=cs(Qe(o));return new(I("%Temporal.Instant%"))(e)}function Di(o,e){let t=o;if(ce(t)){if($e(t))return t;let c,d;if(Re(t,v))c=a(t,v),d=!1;else{let u=t.calendar;d=u===void 0,u===void 0&&(u="iso8601"),c=ot(u)}const h=G(t,_e(c,["day","month","monthCode","year"]),[]);return d&&h.month!==void 0&&h.monthCode===void 0&&h.year===void 0&&(h.year=1972),Rr(c,h,e)}be(e);let{month:r,day:n,referenceISOYear:i,calendar:s}=co(Qe(t));if(s===void 0&&(s="iso8601"),!St(s))throw new RangeError(`invalid calendar identifier ${s}`);return s=Pt(s),i===void 0?(Yt(1972,r,n),tn(r,n,s)):Rr(s,tn(r,n,s,i))}function xt(o,e="constrain"){let t,r,n,i,s,c,d=o;if(ce(d)){if(we(d))return d;if(N(d)&&(d=st(a(d,ie),a(d,Ae),a(d,v))),L(d))return new(I("%Temporal.PlainTime%"))(a(d,U),a(d,Z),a(d,q),a(d,S),a(d,B),a(d,z));({hour:t,minute:r,second:n,millisecond:i,microsecond:s,nanosecond:c}=On(d)),{hour:t,minute:r,second:n,millisecond:i,microsecond:s,nanosecond:c}=Cn(t,r,n,i,s,c,e)}else({hour:t,minute:r,second:n,millisecond:i,microsecond:s,nanosecond:c}=function(u){const m=za.exec(u);let f,y,g,p,w,T,b;if(m){f=De(m[1]),y=De(m[2]||m[5]),g=De(m[3]||m[6]),g===60&&(g=59);const E=(m[4]||m[7])+"000000000";p=De(E.slice(0,3)),w=De(E.slice(3,6)),T=De(E.slice(6,9)),b=m[14];for(const[,D,M,C]of b.matchAll(Wt))if(M!=="u-ca"&&D==="!")throw new RangeError(`Unrecognized annotation: !${M}=${C}`);if(m[8])throw new RangeError("Z designator not supported for PlainTime")}else{let E,D;if({hasTime:D,hour:f,minute:y,second:g,millisecond:p,microsecond:w,nanosecond:T,z:E}=kt(u),!D)throw new RangeError(`time is missing in string: ${u}`);if(E)throw new RangeError("Z designator not supported for PlainTime")}if(/[tT ][0-9][0-9]/.test(u))return{hour:f,minute:y,second:g,millisecond:p,microsecond:w,nanosecond:T};try{const{month:E,day:D}=co(u);Yt(1972,E,D)}catch{try{const{year:E,month:D}=lo(u);Yt(E,D,1)}catch{return{hour:f,minute:y,second:g,millisecond:p,microsecond:w,nanosecond:T}}}throw new RangeError(`invalid ISO 8601 time-only string ${u}; may need a T prefix`)}(Qe(d))),Wn(t,r,n,i,s,c);return new(I("%Temporal.PlainTime%"))(t,r,n,i,s,c)}function Jr(o,e){if(ce(o)){if(re(o))return o;const s=an(o);return cr(s,G(o,_e(s,["month","monthCode","year"]),[]),e)}be(e);let{year:t,month:r,referenceISODay:n,calendar:i}=lo(Qe(o));if(i===void 0&&(i="iso8601"),!St(i))throw new RangeError(`invalid calendar identifier ${i}`);return i=Pt(i),n===void 0?(Yt(t,r,1),rn(t,r,i)):cr(i,rn(t,r,i,n))}function Rn(o,e,t,r,n,i,s,c,d,h,u,m,f,y,g){const p=new(I("%Temporal.PlainDateTime%"))(o,e,t,r,n,i,s,c,d);if(h==="wall"||y==="ignore")return a(Je(m,p,f),j);if(h==="exact"||y==="use"){const T=Vt(o,e,t,r,n,i,s,c,d);if(T===null)throw new RangeError("ZonedDateTime outside of supported range");return l.subtract(T,l.BigInt(u))}const w=Ln(m,p);for(const T of w){const b=Et(m,T),E=l.toNumber(lt(l.BigInt(b),ui,"halfExpand"));if(b===u||g&&E===u)return a(T,j)}if(y==="reject"){const T=Zn(u),b=ft(m)?a(m,Ct):"time zone";throw new RangeError(`Offset ${T} is invalid for ${p.toString()} in ${b}`)}return a(Yi(w,m,p,f),j)}function en(o,e){let t,r,n,i,s,c,d,h,u,m,f,y,g,p,w=!1,T="option";if(ce(o)){if(N(o))return o;y=an(o);const E=_e(y,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);E.push("timeZone","offset");const D=G(o,E,["timeZone"]);m=Ue(D.timeZone),f=D.offset,f===void 0&&(T="wall"),g=_r(e),p=In(e,"reject"),{year:t,month:r,day:n,hour:i,minute:s,second:c,millisecond:d,microsecond:h,nanosecond:u}=Qr(y,D,e)}else{let E,D;if({year:t,month:r,day:n,hour:i,minute:s,second:c,millisecond:d,microsecond:h,nanosecond:u,ianaName:E,offset:f,z:D,calendar:y}=function(C){const _=kt(C);if(!_.ianaName)throw new RangeError("Temporal.ZonedDateTime requires a time zone ID in brackets");return _}(Qe(o)),m=Ue(E),D?T="exact":f||(T="wall"),y||(y="iso8601"),!St(y))throw new RangeError(`invalid calendar identifier ${y}`);y=Pt(y),w=!0,g=_r(e),p=In(e,"reject"),be(e)}let b=0;return T==="option"&&(b=Ht(f)),Ne(Rn(t,r,n,i,s,c,d,h,u,T,b,m,g,p,w),m,y)}function _i(o,e,t,r,n){Yt(e,t,r),Xi(e,t,r),It(o),W(o,O,e),W(o,k,t),W(o,Y,r),W(o,v,n),W(o,Jo,!0)}function yt(o,e,t,r="iso8601"){const n=I("%Temporal.PlainDate%"),i=Le(n.prototype);return _i(i,o,e,t,r),i}function Ci(o,e,t,r,n,i,s,c,d,h,u){Co(e,t,r,n,i,s,c,d,h),Ki(e,t,r,n,i,s,c,d,h),It(o),W(o,O,e),W(o,k,t),W(o,Y,r),W(o,U,n),W(o,Z,i),W(o,q,s),W(o,S,c),W(o,B,d),W(o,z,h),W(o,v,u)}function nt(o,e,t,r,n,i,s,c,d,h="iso8601"){const u=I("%Temporal.PlainDateTime%"),m=Le(u.prototype);return Ci(m,o,e,t,r,n,i,s,c,d,h),m}function Ii(o,e,t,r,n){Yt(n,e,t),Xi(n,e,t),It(o),W(o,k,e),W(o,Y,t),W(o,O,n),W(o,v,r),W(o,ti,!0)}function tn(o,e,t="iso8601",r=1972){const n=I("%Temporal.PlainMonthDay%"),i=Le(n.prototype);return Ii(i,o,e,t,r),i}function Mi(o,e,t,r,n){Yt(e,t,n),function(s,c){je(s,vn,bn),s===vn?je(c,4,12):s===bn&&je(c,1,9)}(e,t),It(o),W(o,O,e),W(o,k,t),W(o,Y,n),W(o,v,r),W(o,ei,!0)}function rn(o,e,t="iso8601",r=1){const n=I("%Temporal.PlainYearMonth%"),i=Le(n.prototype);return Mi(i,o,e,t,r),i}function Oi(o,e,t,r){hr(e),It(o),W(o,j,e),W(o,ie,t),W(o,v,r);const n=new(I("%Temporal.Instant%"))(a(o,j));W(o,Ae,n)}function Ne(o,e,t="iso8601"){const r=I("%Temporal.ZonedDateTime%"),n=Le(r.prototype);return Oi(n,o,e,t),n}function _e(o,e){if(typeof o=="string"){const n=new(I("%Temporal.Calendar%"))(o);return F(I("%Temporal.Calendar.prototype.fields%"),n,[e])}const t=F(ne(o,"fields"),o,[e]),r=[];for(const n of t){if(typeof n!="string")throw new TypeError("bad return from calendar.fields()");li.call(r,n)}return r}function lr(o,e,t){if(typeof o=="string"){const n=new(I("%Temporal.Calendar%"))(o);return F(I("%Temporal.Calendar.prototype.mergeFields%"),n,[e,t])}const r=F(ne(o,"mergeFields"),o,[e,t]);if(!ce(r))throw new TypeError("bad return from calendar.mergeFields()");return r}function Pe(o,e,t,r,n){let i=n;if(typeof o=="string"){const c=new(I("%Temporal.Calendar%"))(o);return F(I("%Temporal.Calendar.prototype.dateAdd%"),c,[e,t,r])}i===void 0&&(i=ne(o,"dateAdd"));const s=Tn(i,o,[e,t,r]);if(!X(s))throw new TypeError("invalid result");return s}function Gt(o,e,t,r,n){let i=n;if(typeof o=="string"){const c=new(I("%Temporal.Calendar%"))(o);return F(I("%Temporal.Calendar.prototype.dateUntil%"),c,[e,t,r])}i===void 0&&(i=ne(o,"dateUntil"));const s=Tn(i,o,[e,t,r]);if(!pe(s))throw new TypeError("invalid result");return s}function kn(o,e){if(typeof o=="string"){const r=new(I("%Temporal.Calendar%"))(o);return F(I("%Temporal.Calendar.prototype.year%"),r,[e])}let t=F(ne(o,"year"),o,[e]);if(typeof t!="number")throw new TypeError("calendar year result must be an integer");if(!at(t))throw new RangeError("calendar year result must be an integer");return t}function $n(o,e){if(typeof o=="string"){const r=new(I("%Temporal.Calendar%"))(o);return F(I("%Temporal.Calendar.prototype.month%"),r,[e])}let t=F(ne(o,"month"),o,[e]);if(typeof t!="number")throw new TypeError("calendar month result must be a positive integer");if(!at(t)||t<1)throw new RangeError("calendar month result must be a positive integer");return t}function nn(o,e){if(typeof o=="string"){const r=new(I("%Temporal.Calendar%"))(o);return F(I("%Temporal.Calendar.prototype.monthCode%"),r,[e])}let t=F(ne(o,"monthCode"),o,[e]);if(typeof t!="string")throw new TypeError("calendar monthCode result must be a string");return t}function on(o,e){if(typeof o=="string"){const r=new(I("%Temporal.Calendar%"))(o);return F(I("%Temporal.Calendar.prototype.day%"),r,[e])}const t=F(ne(o,"day"),o,[e]);if(typeof t!="number")throw new TypeError("calendar day result must be a positive integer");if(!at(t)||t<1)throw new RangeError("calendar day result must be a positive integer");return t}function Yn(o,e){if(typeof o=="string"){const r=new(I("%Temporal.Calendar%"))(o);return F(I("%Temporal.Calendar.prototype.era%"),r,[e])}let t=F(ne(o,"era"),o,[e]);if(t===void 0)return t;if(typeof t!="string")throw new TypeError("calendar era result must be a string or undefined");return t}function Nn(o,e){if(typeof o=="string"){const r=new(I("%Temporal.Calendar%"))(o);return F(I("%Temporal.Calendar.prototype.eraYear%"),r,[e])}let t=F(ne(o,"eraYear"),o,[e]);if(t===void 0)return t;if(typeof t!="number")throw new TypeError("calendar eraYear result must be an integer or undefined");if(!at(t))throw new RangeError("calendar eraYear result must be an integer or undefined");return t}function uo(o,e){if(typeof o=="string"){const r=new(I("%Temporal.Calendar%"))(o);return F(I("%Temporal.Calendar.prototype.dayOfWeek%"),r,[e])}const t=F(ne(o,"dayOfWeek"),o,[e]);if(typeof t!="number")throw new TypeError("calendar dayOfWeek result must be a positive integer");if(!at(t)||t<1)throw new RangeError("calendar dayOfWeek result must be a positive integer");return t}function mo(o,e){if(typeof o=="string"){const r=new(I("%Temporal.Calendar%"))(o);return F(I("%Temporal.Calendar.prototype.dayOfYear%"),r,[e])}const t=F(ne(o,"dayOfYear"),o,[e]);if(typeof t!="number")throw new TypeError("calendar dayOfYear result must be a positive integer");if(!at(t)||t<1)throw new RangeError("calendar dayOfYear result must be a positive integer");return t}function fo(o,e){if(typeof o=="string"){const r=new(I("%Temporal.Calendar%"))(o);return F(I("%Temporal.Calendar.prototype.weekOfYear%"),r,[e])}const t=F(ne(o,"weekOfYear"),o,[e]);if(typeof t!="number")throw new TypeError("calendar weekOfYear result must be a positive integer");if(!at(t)||t<1)throw new RangeError("calendar weekOfYear result must be a positive integer");return t}function yo(o,e){if(typeof o=="string"){const r=new(I("%Temporal.Calendar%"))(o);return F(I("%Temporal.Calendar.prototype.yearOfWeek%"),r,[e])}const t=F(ne(o,"yearOfWeek"),o,[e]);if(typeof t!="number")throw new TypeError("calendar yearOfWeek result must be an integer");if(!at(t))throw new RangeError("calendar yearOfWeek result must be an integer");return t}function go(o,e){if(typeof o=="string"){const r=new(I("%Temporal.Calendar%"))(o);return F(I("%Temporal.Calendar.prototype.daysInWeek%"),r,[e])}const t=F(ne(o,"daysInWeek"),o,[e]);if(typeof t!="number")throw new TypeError("calendar daysInWeek result must be a positive integer");if(!at(t)||t<1)throw new RangeError("calendar daysInWeek result must be a positive integer");return t}function Pn(o,e){if(typeof o=="string"){const r=new(I("%Temporal.Calendar%"))(o);return F(I("%Temporal.Calendar.prototype.daysInMonth%"),r,[e])}const t=F(ne(o,"daysInMonth"),o,[e]);if(typeof t!="number")throw new TypeError("calendar daysInMonth result must be a positive integer");if(!at(t)||t<1)throw new RangeError("calendar daysInMonth result must be a positive integer");return t}function Fn(o,e){if(typeof o=="string"){const r=new(I("%Temporal.Calendar%"))(o);return F(I("%Temporal.Calendar.prototype.daysInYear%"),r,[e])}const t=F(ne(o,"daysInYear"),o,[e]);if(typeof t!="number")throw new TypeError("calendar daysInYear result must be a positive integer");if(!at(t)||t<1)throw new RangeError("calendar daysInYear result must be a positive integer");return t}function jn(o,e){if(typeof o=="string"){const r=new(I("%Temporal.Calendar%"))(o);return F(I("%Temporal.Calendar.prototype.monthsInYear%"),r,[e])}const t=F(ne(o,"monthsInYear"),o,[e]);if(typeof t!="number")throw new TypeError("calendar monthsInYear result must be a positive integer");if(!at(t)||t<1)throw new RangeError("calendar monthsInYear result must be a positive integer");return t}function xn(o,e){if(typeof o=="string"){const r=new(I("%Temporal.Calendar%"))(o);return F(I("%Temporal.Calendar.prototype.inLeapYear%"),r,[e])}const t=F(ne(o,"inLeapYear"),o,[e]);if(typeof t!="boolean")throw new TypeError("calendar inLeapYear result must be a boolean");return t}function ot(o){if(ce(o)){if(Re(o,v))return a(o,v);if(!function(n){return!!ge(n)||"dateAdd"in n&&"dateFromFields"in n&&"dateUntil"in n&&"day"in n&&"dayOfWeek"in n&&"dayOfYear"in n&&"daysInMonth"in n&&"daysInWeek"in n&&"daysInYear"in n&&"fields"in n&&"id"in n&&"inLeapYear"in n&&"mergeFields"in n&&"month"in n&&"monthCode"in n&&"monthDayFromFields"in n&&"monthsInYear"in n&&"weekOfYear"in n&&"year"in n&&"yearMonthFromFields"in n&&"yearOfWeek"in n}(o))throw new TypeError("expected a Temporal.Calendar or object implementing the Temporal.Calendar protocol");return o}const e=Qe(o);if(St(e))return Pt(e);let t;try{({calendar:t}=kt(e))}catch{try{({calendar:t}=lo(e))}catch{({calendar:t}=co(e))}}if(t||(t="iso8601"),!St(t))throw new RangeError(`invalid calendar identifier ${t}`);return Pt(t)}function an(o){if(Re(o,v))return a(o,v);const{calendar:e}=o;return e===void 0?"iso8601":ot(e)}function Fe(o){if(typeof o=="string")return o;const e=o.id;if(typeof e!="string")throw new TypeError("calendar.id should be a string");return e}function Or(o){return ce(o)?o:new(I("%Temporal.Calendar%"))(o)}function sn(o,e){return o===e?!0:Fe(o)===Fe(e)}function An(o,e,t){if(o===e)return;const r=Fe(o),n=Fe(e);if(r!==n)throw new RangeError(`cannot ${t} of ${r} and ${n} calendars`)}function Ri(o,e){if(o===e)return e;const t=Fe(o),r=Fe(e);if(t===r||t==="iso8601")return e;if(r==="iso8601")return o;throw new RangeError("irreconcilable calendars")}function At(o,e,t,r){if(typeof o=="string"){const i=new(I("%Temporal.Calendar%"))(o);return F(I("%Temporal.Calendar.prototype.dateFromFields%"),i,[e,t])}const n=F(r??ne(o,"dateFromFields"),o,[e,t]);if(!X(n))throw new TypeError("invalid result");return n}function cr(o,e,t){if(typeof o=="string"){const n=new(I("%Temporal.Calendar%"))(o);return F(I("%Temporal.Calendar.prototype.yearMonthFromFields%"),n,[e,t])}let r=F(ne(o,"yearMonthFromFields"),o,[e,t]);if(!re(r))throw new TypeError("invalid result");return r}function Rr(o,e,t){if(typeof o=="string"){const n=new(I("%Temporal.Calendar%"))(o);return F(I("%Temporal.Calendar.prototype.monthDayFromFields%"),n,[e,t])}let r=F(ne(o,"monthDayFromFields"),o,[e,t]);if(!$e(r))throw new TypeError("invalid result");return r}function Ue(o){if(ce(o)){if(N(o))return a(o,ie);if(!function(t){return!!ft(t)||"getOffsetNanosecondsFor"in t&&"getPossibleInstantsFor"in t&&"id"in t}(o))throw new TypeError("expected a Temporal.TimeZone or object implementing the Temporal.TimeZone protocol");return o}return ls(Qe(o))}function ln(o){if(typeof o=="string")return o;const e=o.id;if(typeof e!="string")throw new TypeError("timeZone.id should be a string");return e}function ki(o){return ce(o)?o:new(I("%Temporal.TimeZone%"))(o)}function $i(o,e){return o===e?!0:ln(o)===ln(e)}function kr(o){return yt(a(o,O),a(o,k),a(o,Y),a(o,v))}function po(o){return new(I("%Temporal.PlainTime%"))(a(o,U),a(o,Z),a(o,q),a(o,S),a(o,B),a(o,z))}function Et(o,e,t){if(typeof o=="string"){const n=new(I("%Temporal.TimeZone%"))(o);return F(I("%Temporal.TimeZone.prototype.getOffsetNanosecondsFor%"),n,[e])}const r=F(t??ne(o,"getOffsetNanosecondsFor"),o,[e]);if(typeof r!="number")throw new TypeError("bad return from getOffsetNanosecondsFor");if(!at(r)||le(r)>=864e11)throw new RangeError("out-of-range return from getOffsetNanosecondsFor");return r}function wo(o,e){return Zn(Et(o,e))}function st(o,e,t){const r=a(e,j),n=Et(o,e);let{year:i,month:s,day:c,hour:d,minute:h,second:u,millisecond:m,microsecond:f,nanosecond:y}=Ui(r);return{year:i,month:s,day:c,hour:d,minute:h,second:u,millisecond:m,microsecond:f,nanosecond:y}=Do(i,s,c,d,h,u,m,f,y+n),nt(i,s,c,d,h,u,m,f,y,t)}function Je(o,e,t){return Yi(Ln(o,e),o,e,t)}function Yi(o,e,t,r){const n=I("%Temporal.Instant%"),i=o.length;if(i===1)return o[0];if(i)switch(r){case"compatible":case"earlier":return o[0];case"later":return o[i-1];case"reject":throw new RangeError("multiple instants found")}const s=a(t,O),c=a(t,k),d=a(t,Y),h=a(t,U),u=a(t,Z),m=a(t,q),f=a(t,S),y=a(t,B),g=a(t,z),p=Vt(s,c,d,h,u,m,f,y,g);if(p===null)throw new RangeError("DateTime outside of supported range");const w=new n(l.subtract(p,Rt)),T=new n(l.add(p,Rt)),b=Et(e,w),E=Et(e,T)-b;switch(r){case"earlier":{const D=a(t,v),M=I("%Temporal.PlainDateTime%"),C=ko(s,c,d,h,u,m,f,y,g,D,0,0,0,0,0,0,0,0,0,-E,void 0);return Ln(e,new M(C.year,C.month,C.day,C.hour,C.minute,C.second,C.millisecond,C.microsecond,C.nanosecond,D))[0]}case"compatible":case"later":{const D=a(t,v),M=I("%Temporal.PlainDateTime%"),C=ko(s,c,d,h,u,m,f,y,g,D,0,0,0,0,0,0,0,0,0,E,void 0),_=Ln(e,new M(C.year,C.month,C.day,C.hour,C.minute,C.second,C.millisecond,C.microsecond,C.nanosecond,D));return _[_.length-1]}case"reject":throw new RangeError("no such instant found")}}function Ln(o,e,t){if(typeof o=="string"){const i=new(I("%Temporal.TimeZone%"))(o);return F(I("%Temporal.TimeZone.prototype.getPossibleInstantsFor%"),i,[e])}const r=F(t??ne(o,"getPossibleInstantsFor"),o,[e]),n=[];for(const i of r){if(!Ie(i))throw new TypeError("bad return from getPossibleInstantsFor");li.call(n,i)}return n}function dr(o){let e;return o<0||o>9999?e=(o<0?"-":"+")+`000000${le(o)}`.slice(-6):e=`0000${o}`.slice(-4),e}function de(o){return`00${o}`.slice(-2)}function Un(o,e,t,r,n){if(n==="minute")return"";const i=`:${de(o)}`;let s,c=1e6*e+1e3*t+r;if(n==="auto"){if(c===0)return i;for(s=`${c}`.padStart(9,"0");s[s.length-1]==="0";)s=s.slice(0,-1)}else{if(n===0)return i;s=`${c}`.padStart(9,"0").slice(0,n)}return`${i}.${s}`}function Ni(o,e,t){let r=e;r===void 0&&(r="UTC");const n=st(r,o,"iso8601"),i=dr(a(n,O)),s=de(a(n,k)),c=de(a(n,Y)),d=de(a(n,U)),h=de(a(n,Z)),u=Un(a(n,q),a(n,S),a(n,B),a(n,z),t);let m="Z";return e!==void 0&&(m=Li(Et(r,o))),`${i}-${s}-${c}T${d}:${h}${u}${m}`}function To(o,e="auto",t){function r(P){return P<=es?P.toString(10):l.BigInt(P).toString(10)}const n=a(o,Se),i=a(o,Ye),s=a(o,et),c=a(o,Be),d=a(o,ze),h=a(o,We);let u=a(o,Ge),m=a(o,He),f=a(o,Ve),y=a(o,Xe);const g=$t(n,i,s,c,d,h,u,m,f,y);if(t){const{unit:P,increment:oe,roundingMode:Q}=t;({seconds:u,milliseconds:m,microseconds:f,nanoseconds:y}=qt(0,0,0,0,0,0,u,m,f,y,oe,P,Q))}const p=[];n&&p.push(`${r(le(n))}Y`),i&&p.push(`${r(le(i))}M`),s&&p.push(`${r(le(s))}W`),c&&p.push(`${r(le(c))}D`);const w=[];d&&w.push(`${r(le(d))}H`),h&&w.push(`${r(le(h))}M`);const T=[];let b,E,D,M,C=Yr(0,0,0,u,m,f,y,0);({quotient:C,remainder:b}=ve(C,te)),{quotient:C,remainder:E}=ve(C,te),{quotient:M,remainder:D}=ve(C,te);const _=1e6*le(l.toNumber(D))+1e3*le(l.toNumber(E))+le(l.toNumber(b));let $;if(e==="auto"){if(_!==0)for($=`${_}`.padStart(9,"0");$[$.length-1]==="0";)$=$.slice(0,-1)}else e!==0&&($=`${_}`.padStart(9,"0").slice(0,e));return $&&T.unshift(".",$),l.equal(M,ye)&&!T.length&&e==="auto"||T.unshift(Tt(M).toString()),T.length&&w.push(`${T.join("")}S`),w.length&&w.unshift("T"),p.length||w.length?`${g<0?"-":""}P${p.join("")}${w.join("")}`:"PT0S"}function Pi(o,e="auto"){return`${dr(a(o,O))}-${de(a(o,k))}-${de(a(o,Y))}${ao(a(o,v),e)}`}function Fi(o,e,t="auto",r){let n=a(o,O),i=a(o,k),s=a(o,Y),c=a(o,U),d=a(o,Z),h=a(o,q),u=a(o,S),m=a(o,B),f=a(o,z);if(r){const{unit:y,increment:g,roundingMode:p}=r;({year:n,month:i,day:s,hour:c,minute:d,second:h,millisecond:u,microsecond:m,nanosecond:f}=$o(n,i,s,c,d,h,u,m,f,g,y,p))}return`${dr(n)}-${de(i)}-${de(s)}T${de(c)}:${de(d)}${Un(h,u,m,f,e)}${ao(a(o,v),t)}`}function ji(o,e="auto"){let t=`${de(a(o,k))}-${de(a(o,Y))}`;const r=Fe(a(o,v));(e==="always"||e==="critical"||r!=="iso8601")&&(t=`${dr(a(o,O))}-${t}`);const n=so(r,e);return n&&(t+=n),t}function xi(o,e="auto"){let t=`${dr(a(o,O))}-${de(a(o,k))}`;const r=Fe(a(o,v));(e==="always"||e==="critical"||r!=="iso8601")&&(t+=`-${de(a(o,Y))}`);const n=so(r,e);return n&&(t+=n),t}function Ai(o,e,t="auto",r="auto",n="auto",i){let s=a(o,Ae);if(i){const{unit:u,increment:m,roundingMode:f}=i,y=Hn(a(o,j),m,u,f);s=new(I("%Temporal.Instant%"))(y)}const c=a(o,ie),d=st(c,s,"iso8601");let h=`${dr(a(d,O))}-${de(a(d,k))}-${de(a(d,Y))}T${de(a(d,U))}:${de(a(d,Z))}${Un(a(d,q),a(d,S),a(d,B),a(d,z),e)}`;return n!=="never"&&(h+=Li(Et(c,s))),r!=="never"&&(h+=`[${r==="critical"?"!":""}${ln(c)}]`),h+=ao(a(o,v),t),h}function $r(o){return ga.test(Wr(o))}function Ht(o){const e=ga.exec(Wr(o));if(!e)throw new RangeError(`invalid time zone offset: ${o}`);return(e[1]==="-"||e[1]==="−"?-1:1)*(1e9*(60*(60*+e[2]+ +(e[3]||0))+ +(e[4]||0))+ +((e[5]||0)+"000000000").slice(0,9))}function vo(o){return $r(o)?Zn(Ht(o)):bi(Wr(o)).resolvedOptions().timeZone}function Lt(o,e){const{year:t,month:r,day:n,hour:i,minute:s,second:c,millisecond:d,microsecond:h,nanosecond:u}=Zi(o,e),m=t%400,f=(t-m)/400,y=l.multiply(l.BigInt(146097),Rt),g=Vt(m,r,n,i,s,c,d,h,u),p=l.add(g,l.multiply(y,l.BigInt(f)));return l.toNumber(l.subtract(p,e))}function Zn(o){const e=o<0?"-":"+",t=le(o),r=t%1e9,n=tt(t/1e9)%60,i=tt(t/6e10)%60,s=de(tt(t/36e11)),c=de(i),d=de(n);let h="";if(r){let u=`${r}`.padStart(9,"0");for(;u[u.length-1]==="0";)u=u.slice(0,-1);h=`:${d}.${u}`}else n&&(h=`:${d}`);return`${e}${s}:${c}${h}`}function Li(o){let e=l.toNumber(lt(l.BigInt(o),ui,"halfExpand"));const t=e<0?"-":"+";e=le(e);const r=e/6e10%60;return`${t}${de(tt(e/36e11))}:${de(r)}`}function Vt(o,e,t,r,n,i,s,c,d){const h=new Date;h.setUTCHours(r,n,i,s),h.setUTCFullYear(o,e-1,t);const u=h.getTime();if(wn(u))return null;let m=l.multiply(l.BigInt(u),ut);return m=l.add(m,l.multiply(l.BigInt(c),te)),m=l.add(m,l.BigInt(d)),l.lessThan(m,Gr)||l.greaterThan(m,Tr)?null:m}function Ui(o){const{quotient:e,remainder:t}=ve(o,ut);let r=l.toNumber(e),n=l.toNumber(t);n<0&&(n+=1e6,r-=1);const i=tt(n/1e3)%1e3,s=n%1e3,c=new Date(r);return{epochMilliseconds:r,year:c.getUTCFullYear(),month:c.getUTCMonth()+1,day:c.getUTCDate(),hour:c.getUTCHours(),minute:c.getUTCMinutes(),second:c.getUTCSeconds(),millisecond:c.getUTCMilliseconds(),microsecond:i,nanosecond:s}}function Zi(o,e){const{epochMilliseconds:t,millisecond:r,microsecond:n,nanosecond:i}=Ui(e),{year:s,month:c,day:d,hour:h,minute:u,second:m}=function(y,g){const p=bi(y).format(new Date(g));return function(T){const b=T.split(/[^\w]+/);if(b.length!==7)throw new RangeError(`expected 7 parts in "${T}`);const E=+b[0],D=+b[1];let M=+b[2];const C=b[3].toUpperCase();if(C==="B"||C==="BC")M=1-M;else if(C!=="A"&&C!=="AD")throw new RangeError(`Unknown era ${C} in "${T}`);let _=+b[4];_===24&&(_=0);const $=+b[5],P=+b[6];if(!(Ke(M)&&Ke(E)&&Ke(D)&&Ke(_)&&Ke($)&&Ke(P)))throw new RangeError(`Invalid number in "${T}`);return{year:M,month:E,day:D,hour:_,minute:$,second:P}}(p)}(o,t);return Do(s,c,d,h,u,m,r,n,i)}function qi(o,e){return l.lessThan(o,e)?e:o}function Si(){return l.add(No(),os)}function Bi(o,e){if(l.lessThan(e,vr))return Bi(o,vr);const t=l.add(e,mi),r=qi(Si(),t);let n=qi(vr,e);const i=Lt(o,n);let s=n,c=i;for(;i===c&&l.lessThan(l.BigInt(n),r);){if(s=l.add(n,fi),l.greaterThan(s,Tr))return null;c=Lt(o,s),i===c&&(n=s)}return i===c?null:pa(d=>Lt(o,d),n,s,i,c)}function bo(o,e){const t=Si(),r=l.greaterThan(e,t),n=r?l.subtract(e,mi):vr;if(o==="Africa/Casablanca"||o==="Africa/El_Aaiun"){const h=a(bt("2088-01-01T00Z"),j);if(l.lessThan(h,e))return bo(o,h)}let i=l.subtract(e,wr);if(l.lessThan(i,vr))return null;const s=Lt(o,i);let c=i,d=s;for(;s===d&&l.greaterThan(i,n);){if(c=l.subtract(i,fi),l.lessThan(c,vr))return null;d=Lt(o,c),s===d&&(i=c)}if(s===d){if(r){const h=l.subtract(t,Rt);return bo(o,h)}return null}return pa(h=>Lt(o,h),c,i,d,s)}function Xt(o){return o===void 0?!1:o%4==0&&(o%100!=0||o%400==0)}function Ut(o,e){return{standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]}[Xt(o)?"leapyear":"standard"][e-1]}function Eo(o,e,t){const r=e+(e<3?10:-2),n=o-(e<3?1:0),i=tt(n/100),s=n-100*i,c=(t+tt(2.6*r-.2)+(s+tt(s/4))+(tt(i/4)-2*i))%7;return c+(c<=0?7:0)}function qn(o,e,t){let r=t;for(let n=e-1;n>0;n--)r+=Ut(o,n);return r}function zi(o,e,t){const r=qn(o,e,t),n=Eo(o,e,t)||7,i=Eo(o,1,1),s=tt((r-n+10)/7);return s<1?i===5||i===6&&Xt(o-1)?{week:53,year:o-1}:{week:52,year:o-1}:s===53&&(Xt(o)?366:365)-r<4-n?{week:1,year:o+1}:{week:s,year:o}}function $t(o,e,t,r,n,i,s,c,d,h){for(const u of[o,e,t,r,n,i,s,c,d,h])if(u!==0)return u<0?-1:1;return 0}function Sn(o,e){let t=o,r=e;if(!Ke(t)||!Ke(r))throw new RangeError("infinity is out of range");return r-=1,t+=tt(r/12),r%=12,r<0&&(r+=12),r+=1,{year:t,month:r}}function Bn(o,e,t){let r=o,n=e,i=t;if(!Ke(i))throw new RangeError("infinity is out of range");({year:r,month:n}=Sn(r,n));const s=146097;if(le(i)>s){const h=nr(i/s);r+=400*h,i-=h*s}let c=0,d=n>2?r:r-1;for(;c=Xt(d)?366:365,i<-c;)r-=1,d-=1,i+=c;for(d+=1;c=Xt(d)?366:365,i>c;)r+=1,d+=1,i-=c;for(;i<1;)({year:r,month:n}=Sn(r,n-1)),i+=Ut(r,n);for(;i>Ut(r,n);)i-=Ut(r,n),{year:r,month:n}=Sn(r,n+1);return{year:r,month:n,day:i}}function Do(o,e,t,r,n,i,s,c,d){const{deltaDays:h,hour:u,minute:m,second:f,millisecond:y,microsecond:g,nanosecond:p}=Zt(r,n,i,s,c,d),{year:w,month:T,day:b}=Bn(o,e,t+h);return{year:w,month:T,day:b,hour:u,minute:m,second:f,millisecond:y,microsecond:g,nanosecond:p}}function Zt(o,e,t,r,n,i){let s,c=l.BigInt(o),d=l.BigInt(e),h=l.BigInt(t),u=l.BigInt(r),m=l.BigInt(n),f=l.BigInt(i);return{quotient:s,remainder:f}=mr(f,te),m=l.add(m,s),{quotient:s,remainder:m}=mr(m,te),u=l.add(u,s),{quotient:s,remainder:u}=mr(u,te),h=l.add(h,s),{quotient:s,remainder:h}=mr(h,Mt),d=l.add(d,s),{quotient:s,remainder:d}=mr(d,Mt),c=l.add(c,s),{quotient:s,remainder:c}=mr(c,di),{deltaDays:l.toNumber(s),hour:l.toNumber(c),minute:l.toNumber(d),second:l.toNumber(h),millisecond:l.toNumber(u),microsecond:l.toNumber(m),nanosecond:l.toNumber(f)}}function Yr(o,e,t,r,n,i,s,c){const d=l.BigInt(o);let h=l.BigInt(s);o!==0&&(h=l.subtract(l.BigInt(s),l.BigInt(c)));const u=l.add(l.BigInt(e),l.multiply(d,l.BigInt(24))),m=l.add(l.BigInt(t),l.multiply(u,Mt)),f=l.add(l.BigInt(r),l.multiply(m,Mt)),y=l.add(l.BigInt(n),l.multiply(f,te)),g=l.add(l.BigInt(i),l.multiply(y,te));return l.add(l.BigInt(h),l.multiply(g,te))}function _o(o,e){const t=I("%Temporal.Instant%"),r=pr(l.toNumber(o));let n=l.BigInt(o),i=864e11;if(r===0)return{days:0,nanoseconds:ye,dayLengthNs:i};if(!N(e)){let E;return{quotient:E,remainder:n}=ve(n,l.BigInt(i)),{days:l.toNumber(E),nanoseconds:n,dayLengthNs:i}}const s=a(e,j),c=a(e,Ae),d=l.add(s,n),h=new t(d),u=a(e,ie),m=a(e,v),f=st(u,c,m),y=st(u,h,m);let{days:g}=Oo(a(f,O),a(f,k),a(f,Y),a(f,U),a(f,Z),a(f,q),a(f,S),a(f,B),a(f,z),a(y,O),a(y,k),a(y,Y),a(y,U),a(y,Z),a(y,q),a(y,S),a(y,B),a(y,z),m,"day",Le(null)),p=gt(c,u,m,0,0,0,g,0,0,0,0,0,0),w=l.BigInt(g);if(r===1)for(;l.greaterThan(w,ye)&&l.greaterThan(p,d);)w=l.subtract(w,wr),p=gt(c,u,m,0,0,0,l.toNumber(w),0,0,0,0,0,0);n=l.subtract(d,p);let T=!1,b=new t(p);do{const E=gt(b,u,m,0,0,0,r,0,0,0,0,0,0),D=a(b,j);i=l.toNumber(l.subtract(E,D)),T=l.greaterThanOrEqual(l.multiply(l.subtract(n,l.BigInt(i)),l.BigInt(r)),ye),T&&(n=l.subtract(n,l.BigInt(i)),b=new t(E),w=l.add(w,l.BigInt(r)))}while(T);if(!mt(w)&&gi(w)!==r)throw new RangeError("Time zone or calendar converted nanoseconds into a number of days with the opposite sign");if(!mt(n)&&gi(n)!==r)throw En(n)&&r===1?new Error("assert not reached"):new RangeError("Time zone or calendar ended up with a remainder of nanoseconds with the opposite sign");if(l.greaterThanOrEqual(Tt(n),Tt(l.BigInt(i))))throw new Error("assert not reached");return{days:l.toNumber(w),nanoseconds:n,dayLengthNs:le(i)}}function pt(o,e,t,r,n,i,s,c,d){let h=Wi(o,e,t,r,n,i,s,c,d);if(h==="positive overflow"||h==="negative overflow")throw new RangeError("Duration out of range");return h}function Wi(o,e,t,r,n,i,s,c,d){let h,u,m,f,y,g,p=o;if(N(d)){const _=gt(a(d,Ae),a(d,ie),a(d,v),0,0,0,p,e,t,r,n,i,s),$=a(d,j);h=l.subtract(_,$)}else h=Yr(p,e,t,r,n,i,s,0);c==="year"||c==="month"||c==="week"||c==="day"?{days:p,nanoseconds:h}=_o(h,d):p=0;const w=l.lessThan(h,ye)?-1:1;switch(h=Tt(h),u=m=f=y=g=ye,c){case"year":case"month":case"week":case"day":case"hour":({quotient:u,remainder:h}=ve(h,te)),{quotient:m,remainder:u}=ve(u,te),{quotient:f,remainder:m}=ve(m,te),{quotient:y,remainder:f}=ve(f,Mt),{quotient:g,remainder:y}=ve(y,Mt);break;case"minute":({quotient:u,remainder:h}=ve(h,te)),{quotient:m,remainder:u}=ve(u,te),{quotient:f,remainder:m}=ve(m,te),{quotient:y,remainder:f}=ve(f,Mt);break;case"second":({quotient:u,remainder:h}=ve(h,te)),{quotient:m,remainder:u}=ve(u,te),{quotient:f,remainder:m}=ve(m,te);break;case"millisecond":({quotient:u,remainder:h}=ve(h,te)),{quotient:m,remainder:u}=ve(u,te);break;case"microsecond":({quotient:u,remainder:h}=ve(h,te));break;case"nanosecond":break;default:throw new Error("assert not reached")}const T=l.toNumber(g)*w,b=l.toNumber(y)*w,E=l.toNumber(f)*w,D=l.toNumber(m)*w,M=l.toNumber(u)*w,C=l.toNumber(h)*w;for(const _ of[p,T,b,E,D,M,C])if(!Ke(_))return w===1?"positive overflow":"negative overflow";return{days:p,hours:T,minutes:b,seconds:E,milliseconds:D,microseconds:M,nanoseconds:C}}function zn(o,e,t,r,n,i){const s=I("%Temporal.Duration%"),c=$t(o,e,t,r,0,0,0,0,0,0);if(c===0)return{years:o,months:e,weeks:t,days:r};const d=l.BigInt(c);let h,u,m=l.BigInt(o),f=l.BigInt(e),y=l.BigInt(t),g=l.BigInt(r);i&&(u=ae(i),h=a(u,v));const p=new s(c),w=new s(0,c),T=new s(0,0,c);switch(n){case"year":break;case"month":{if(!h)throw new RangeError("a starting point is required for months balancing");let b,E;for(typeof h!="string"&&(b=ne(h,"dateAdd"),E=ne(h,"dateUntil"));!mt(m);){const D=Pe(h,u,p,void 0,b),M=Le(null);M.largestUnit="month";const C=Gt(h,u,D,M,E),_=l.BigInt(a(C,Ye));u=D,f=l.add(f,_),m=l.subtract(m,d)}}break;case"week":{if(!h)throw new RangeError("a starting point is required for weeks balancing");const b=typeof h!="string"?ne(h,"dateAdd"):void 0;for(;!mt(m);){let E;({relativeTo:u,days:E}=Ze(h,u,p,b)),g=l.add(g,l.BigInt(E)),m=l.subtract(m,d)}for(;!mt(f);){let E;({relativeTo:u,days:E}=Ze(h,u,w,b)),g=l.add(g,l.BigInt(E)),f=l.subtract(f,d)}break}default:{if(mt(m)&&mt(f)&&mt(y))break;if(!h)throw new RangeError("a starting point is required for balancing calendar units");const b=typeof h!="string"?ne(h,"dateAdd"):void 0;for(;!mt(m);){let E;({relativeTo:u,days:E}=Ze(h,u,p,b)),g=l.add(g,l.BigInt(E)),m=l.subtract(m,d)}for(;!mt(f);){let E;({relativeTo:u,days:E}=Ze(h,u,w,b)),g=l.add(g,l.BigInt(E)),f=l.subtract(f,d)}for(;!mt(y);){let E;({relativeTo:u,days:E}=Ze(h,u,T,b)),g=l.add(g,l.BigInt(E)),y=l.subtract(y,d)}break}}return{years:l.toNumber(m),months:l.toNumber(f),weeks:l.toNumber(y),days:l.toNumber(g)}}function Gi(o,e,t,r,n){if(N(o)){const i=a(o,Ae),s=a(o,ie),c=a(o,v),d=Et(s,i),h=gt(i,s,c,e,t,r,n,0,0,0,0,0,0);return Et(s,new(I("%Temporal.Instant%"))(h))-d}return 0}function Hi(o){return new(I("%Temporal.Duration%"))(-a(o,Se),-a(o,Ye),-a(o,et),-a(o,Be),-a(o,ze),-a(o,We),-a(o,Ge),-a(o,He),-a(o,Ve),-a(o,Xe))}function it(o,e,t){return Ka(t,Qa(e,o))}function Vi(o,e,t){const r=it(e,1,12);return{year:o,month:r,day:it(t,1,Ut(o,r))}}function je(o,e,t){if(o<e||o>t)throw new RangeError(`value out of range: ${e} <= ${o} <= ${t}`)}function Yt(o,e,t){je(e,1,12),je(t,1,Ut(o,e))}function Xi(o,e,t){Ki(o,e,t,12,0,0,0,0,0)}function Wn(o,e,t,r,n,i){je(o,0,23),je(e,0,59),je(t,0,59),je(r,0,999),je(n,0,999),je(i,0,999)}function Co(o,e,t,r,n,i,s,c,d){Yt(o,e,t),Wn(r,n,i,s,c,d)}function Ki(o,e,t,r,n,i,s,c,d){if(je(o,vn,bn),o===vn&&Vt(o,e,t+1,r,n,i,s,c,d-1)==null||o===bn&&Vt(o,e,t-1,r,n,i,s,c,d+1)==null)throw new RangeError("DateTime outside of supported range")}function hr(o){if(l.lessThan(o,Gr)||l.greaterThan(o,Tr))throw new RangeError("Instant outside of supported range")}function Gn(o,e,t,r,n,i,s,c,d,h){const u=$t(o,e,t,r,n,i,s,c,d,h);for(const m of[o,e,t,r,n,i,s,c,d,h]){if(!Ke(m))throw new RangeError("infinite values not allowed as duration fields");const f=pr(m);if(f!==0&&f!==u)throw new RangeError("mixed-sign values not allowed as duration fields")}}function Io(o,e,t,r,n,i,s){switch(s){case"year":case"month":{const c=-Kt(o,e,t,r,n,i);if(c===0)return{years:0,months:0,weeks:0,days:0};const d={year:o,month:e,day:t},h={year:r,month:n,day:i};let u=h.year-d.year,m=ur(o,e,t,u,0,0,0,"constrain"),f=-Kt(m.year,m.month,m.day,r,n,i);if(f===0)return s==="year"?{years:u,months:0,weeks:0,days:0}:{years:0,months:12*u,weeks:0,days:0};let y=h.month-d.month;if(f!==c&&(u-=c,y+=12*c),m=ur(o,e,t,u,y,0,0,"constrain"),f=-Kt(m.year,m.month,m.day,r,n,i),f===0)return s==="year"?{years:u,months:y,weeks:0,days:0}:{years:0,months:y+12*u,weeks:0,days:0};f!==c&&(y-=c,y===-c&&(u-=c,y=11*c),m=ur(o,e,t,u,y,0,0,"constrain"));let g=0;return g=m.month===h.month?h.day-m.day:c<0?-m.day-(Ut(h.year,h.month)-h.day):h.day+(Ut(m.year,m.month)-m.day),s==="month"&&(y+=12*u,u=0),{years:u,months:y,weeks:0,days:g}}case"week":case"day":{let c,d,h;Kt(o,e,t,r,n,i)<0?(d={year:o,month:e,day:t},c={year:r,month:n,day:i},h=1):(d={year:r,month:n,day:i},c={year:o,month:e,day:t},h=-1);let u=qn(c.year,c.month,c.day)-qn(d.year,d.month,d.day);for(let f=d.year;f<c.year;++f)u+=Xt(f)?366:365;let m=0;return s==="week"&&(m=tt(u/7),u%=7),m*=h,u*=h,{years:0,months:0,weeks:m,days:u}}default:throw new Error("assert not reached")}}function Qi(o,e,t,r,n,i,s,c,d,h,u,m){let f=s-o,y=c-e,g=d-t,p=h-r,w=u-n,T=m-i;const b=$t(0,0,0,0,f,y,g,p,w,T);f*=b,y*=b,g*=b,p*=b,w*=b,T*=b;let E=0;if({deltaDays:E,hour:f,minute:y,second:g,millisecond:p,microsecond:w,nanosecond:T}=Zt(f,y,g,p,w,T),E!=0)throw new Error("assertion failure in DifferenceTime: _bt_.[[Days]] should be 0");return f*=b,y*=b,g*=b,p*=b,w*=b,T*=b,{hours:f,minutes:y,seconds:g,milliseconds:p,microseconds:w,nanoseconds:T}}function Mo(o,e,t,r,n,i){const s=l.subtract(e,o);let c=0,d=0,h=l.toNumber(l.remainder(s,te)),u=l.toNumber(l.remainder(l.divide(s,te),te)),m=l.toNumber(l.remainder(l.divide(s,ut),te)),f=l.toNumber(l.divide(s,Ot));return{hours:c,minutes:d,seconds:f,milliseconds:m,microseconds:u,nanoseconds:h}=qt(0,0,0,0,0,0,f,m,u,h,t,r,i),pt(0,c,d,f,m,u,h,n)}function Oo(o,e,t,r,n,i,s,c,d,h,u,m,f,y,g,p,w,T,b,E,D){let M=o,C=e,_=t,{hours:$,minutes:P,seconds:oe,milliseconds:Q,microseconds:J,nanoseconds:x}=Qi(r,n,i,s,c,d,f,y,g,p,w,T);const H=$t(0,0,0,0,$,P,oe,Q,J,x);Kt(h,u,m,M,C,_)===-H&&({year:M,month:C,day:_}=Bn(M,C,_-H),{hours:$,minutes:P,seconds:oe,milliseconds:Q,microseconds:J,nanoseconds:x}=pt(-H,$,P,oe,Q,J,x,E));const R=yt(M,C,_,b),A=yt(h,u,m,b),V=ar("day",E),Ce=Jt(D);Ce.largestUnit=V;let{years:Me,months:Oe,weeks:Ee,days:ct}=Gt(b,R,A,Ce);return{days:ct,hours:$,minutes:P,seconds:oe,milliseconds:Q,microseconds:J,nanoseconds:x}=pt(ct,$,P,oe,Q,J,x,E),{years:Me,months:Oe,weeks:Ee,days:ct,hours:$,minutes:P,seconds:oe,milliseconds:Q,microseconds:J,nanoseconds:x}}function Ji(o,e,t,r,n,i){const s=l.subtract(e,o);if(l.equal(s,ye))return{years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};const c=I("%Temporal.Instant%"),d=new c(o),h=new c(e),u=st(t,d,r),m=st(t,h,r);let{years:f,months:y,weeks:g,days:p}=Oo(a(u,O),a(u,k),a(u,Y),a(u,U),a(u,Z),a(u,q),a(u,S),a(u,B),a(u,z),a(m,O),a(m,k),a(m,Y),a(m,U),a(m,Z),a(m,q),a(m,S),a(m,B),a(m,z),r,n,i);const w=gt(d,t,r,f,y,g,0,0,0,0,0,0,0);let T=l.subtract(e,w);const b=Ne(w,t,r);({nanoseconds:T,days:p}=_o(T,b));const{hours:E,minutes:D,seconds:M,milliseconds:C,microseconds:_,nanoseconds:$}=pt(0,0,0,0,0,0,l.toNumber(T),"hour");return{years:f,months:y,weeks:g,days:p,hours:E,minutes:D,seconds:M,milliseconds:C,microseconds:_,nanoseconds:$}}function Nr(o,e,t,r,n,i){const s=Hr.reduce((y,g)=>{const p=g[0],w=g[1],T=g[2];return t!=="datetime"&&T!==t||r.includes(w)||y.push(w,p),y},[]);let c=rt(e,"largestUnit",t,"auto");if(r.includes(c))throw new RangeError(`largestUnit must be one of ${s.join(", ")}, not ${c}`);const d=Cr(e);let h=vt(e,"trunc");o==="since"&&(h=function(g){switch(g){case"ceil":return"floor";case"floor":return"ceil";case"halfCeil":return"halfFloor";case"halfFloor":return"halfCeil";default:return g}}(h));const u=rt(e,"smallestUnit",t,n);if(r.includes(u))throw new RangeError(`smallestUnit must be one of ${s.join(", ")}, not ${u}`);const m=ar(i,u);if(c==="auto"&&(c=m),ar(c,u)!==c)throw new RangeError(`largestUnit ${c} cannot be smaller than smallestUnit ${u}`);const f={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[u];return f!==void 0&&Ir(d,f,!1),{largestUnit:c,roundingIncrement:d,roundingMode:h,smallestUnit:u}}function ea(o,e,t,r){const n=o==="since"?-1:1,i=bt(t),s=Nr(o,Jt(r),"time",[],"nanosecond","second"),c=a(e,j),d=a(i,j);let{hours:h,minutes:u,seconds:m,milliseconds:f,microseconds:y,nanoseconds:g}=Mo(c,d,s.roundingIncrement,s.smallestUnit,s.largestUnit,s.roundingMode);return new(I("%Temporal.Duration%"))(0,0,0,0,n*h,n*u,n*m,n*f,n*y,n*g)}function ta(o,e,t,r){const n=o==="since"?-1:1,i=ae(t),s=a(e,v);An(s,a(i,v),"compute difference between dates");const c=Jt(r),d=Nr(o,c,"date",[],"day","day");c.largestUnit=d.largestUnit;let{years:h,months:u,weeks:m,days:f}=Gt(s,e,i,c);return d.smallestUnit==="day"&&d.roundingIncrement===1||({years:h,months:u,weeks:m,days:f}=qt(h,u,m,f,0,0,0,0,0,0,d.roundingIncrement,d.smallestUnit,d.roundingMode,e)),new(I("%Temporal.Duration%"))(n*h,n*u,n*m,n*f,0,0,0,0,0,0)}function ra(o,e,t,r){const n=o==="since"?-1:1,i=sr(t),s=a(e,v);An(s,a(i,v),"compute difference between dates");const c=Jt(r),d=Nr(o,c,"datetime",[],"nanosecond","day");let{years:h,months:u,weeks:m,days:f,hours:y,minutes:g,seconds:p,milliseconds:w,microseconds:T,nanoseconds:b}=Oo(a(e,O),a(e,k),a(e,Y),a(e,U),a(e,Z),a(e,q),a(e,S),a(e,B),a(e,z),a(i,O),a(i,k),a(i,Y),a(i,U),a(i,Z),a(i,q),a(i,S),a(i,B),a(i,z),s,d.largestUnit,c);const E=kr(e);return{years:h,months:u,weeks:m,days:f,hours:y,minutes:g,seconds:p,milliseconds:w,microseconds:T,nanoseconds:b}=qt(h,u,m,f,y,g,p,w,T,b,d.roundingIncrement,d.smallestUnit,d.roundingMode,E),{days:f,hours:y,minutes:g,seconds:p,milliseconds:w,microseconds:T,nanoseconds:b}=pt(f,y,g,p,w,T,b,d.largestUnit),new(I("%Temporal.Duration%"))(n*h,n*u,n*m,n*f,n*y,n*g,n*p,n*w,n*T,n*b)}function na(o,e,t,r){const n=o==="since"?-1:1,i=xt(t),s=Nr(o,Jt(r),"time",[],"nanosecond","hour");let{hours:c,minutes:d,seconds:h,milliseconds:u,microseconds:m,nanoseconds:f}=Qi(a(e,U),a(e,Z),a(e,q),a(e,S),a(e,B),a(e,z),a(i,U),a(i,Z),a(i,q),a(i,S),a(i,B),a(i,z));return{hours:c,minutes:d,seconds:h,milliseconds:u,microseconds:m,nanoseconds:f}=qt(0,0,0,0,c,d,h,u,m,f,s.roundingIncrement,s.smallestUnit,s.roundingMode),{hours:c,minutes:d,seconds:h,milliseconds:u,microseconds:m,nanoseconds:f}=pt(0,c,d,h,u,m,f,s.largestUnit),new(I("%Temporal.Duration%"))(0,0,0,0,n*c,n*d,n*h,n*u,n*m,n*f)}function oa(o,e,t,r){const n=o==="since"?-1:1,i=Jr(t),s=a(e,v);An(s,a(i,v),"compute difference between months");const c=Jt(r),d=Nr(o,c,"date",["week","day"],"month","year");c.largestUnit=d.largestUnit;const h=_e(s,["monthCode","year"]),u=G(e,h,[]);u.day=1;const m=At(s,u),f=G(i,h,[]);f.day=1;const y=At(s,f);let{years:g,months:p}=Gt(s,m,y,c);return d.smallestUnit==="month"&&d.roundingIncrement===1||({years:g,months:p}=qt(g,p,0,0,0,0,0,0,0,0,d.roundingIncrement,d.smallestUnit,d.roundingMode,m)),new(I("%Temporal.Duration%"))(n*g,n*p,0,0,0,0,0,0,0,0)}function ia(o,e,t,r){const n=o==="since"?-1:1,i=en(t),s=a(e,v);An(s,a(i,v),"compute difference between dates");const c=Jt(r),d=Nr(o,c,"datetime",[],"nanosecond","hour");c.largestUnit=d.largestUnit;const h=a(e,j),u=a(i,j);let m,f,y,g,p,w,T,b,E,D;if(d.largestUnit!=="year"&&d.largestUnit!=="month"&&d.largestUnit!=="week"&&d.largestUnit!=="day")m=0,f=0,y=0,g=0,{hours:p,minutes:w,seconds:T,milliseconds:b,microseconds:E,nanoseconds:D}=Mo(h,u,d.roundingIncrement,d.smallestUnit,d.largestUnit,d.roundingMode);else{const M=a(e,ie);if(!$i(M,a(i,ie)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");({years:m,months:f,weeks:y,days:g,hours:p,minutes:w,seconds:T,milliseconds:b,microseconds:E,nanoseconds:D}=Ji(h,u,M,s,d.largestUnit,c)),{years:m,months:f,weeks:y,days:g,hours:p,minutes:w,seconds:T,milliseconds:b,microseconds:E,nanoseconds:D}=qt(m,f,y,g,p,w,T,b,E,D,d.roundingIncrement,d.smallestUnit,d.roundingMode,e),{years:m,months:f,weeks:y,days:g,hours:p,minutes:w,seconds:T,milliseconds:b,microseconds:E,nanoseconds:D}=ya(m,f,y,g,p,w,T,b,E,D,d.roundingIncrement,d.smallestUnit,d.roundingMode,e)}return new(I("%Temporal.Duration%"))(n*m,n*f,n*y,n*g,n*p,n*w,n*T,n*b,n*E,n*D)}function ur(o,e,t,r,n,i,s,c){let d=o,h=e,u=t,m=i,f=s;return d+=r,h+=n,{year:d,month:h}=Sn(d,h),{year:d,month:h,day:u}=_n(d,h,u,c),f+=7*m,u+=f,{year:d,month:h,day:u}=Bn(d,h,u),{year:d,month:h,day:u}}function aa(o,e,t,r,n,i,s,c,d,h,u,m){let f=o,y=e,g=t,p=r,w=n,T=i;f+=s,y+=c,g+=d,p+=h,w+=u,T+=m;let b=0;return{deltaDays:b,hour:f,minute:y,second:g,millisecond:p,microsecond:w,nanosecond:T}=Zt(f,y,g,p,w,T),{deltaDays:b,hour:f,minute:y,second:g,millisecond:p,microsecond:w,nanosecond:T}}function sa(o,e,t,r,n,i,s,c,d,h,u,m,f,y,g,p,w,T,b,E,D){const M=ar(ho(o,e,t,r,n,i,s,c,d,h),ho(u,m,f,y,g,p,w,T,b,E));let C,_,$,P,oe,Q,J,x,H,R;if(D)if(X(D)){const A=I("%Temporal.Duration%"),V=a(D,v),Ce=new A(o,e,t,r,0,0,0,0,0,0),Me=new A(u,m,f,y,0,0,0,0,0,0),Oe=typeof V!="string"?ne(V,"dateAdd"):void 0,Ee=Pe(V,D,Ce,void 0,Oe),ct=Pe(V,Ee,Me,void 0,Oe),Ft=ar("day",M),jt=Le(null);jt.largestUnit=Ft,{years:C,months:_,weeks:$,days:P}=Gt(V,D,ct,jt),{days:P,hours:oe,minutes:Q,seconds:J,milliseconds:x,microseconds:H,nanoseconds:R}=pt(P,l.add(l.BigInt(n),l.BigInt(g)),l.add(l.BigInt(i),l.BigInt(p)),l.add(l.BigInt(s),l.BigInt(w)),l.add(l.BigInt(c),l.BigInt(T)),l.add(l.BigInt(d),l.BigInt(b)),l.add(l.BigInt(h),l.BigInt(E)),M)}else{const A=I("%Temporal.Instant%"),V=a(D,ie),Ce=a(D,v),Me=gt(a(D,Ae),V,Ce,o,e,t,r,n,i,s,c,d,h),Oe=gt(new A(Me),V,Ce,u,m,f,y,g,p,w,T,b,E);M!=="year"&&M!=="month"&&M!=="week"&&M!=="day"?(C=0,_=0,$=0,P=0,{hours:oe,minutes:Q,seconds:J,milliseconds:x,microseconds:H,nanoseconds:R}=Mo(a(D,j),Oe,1,"nanosecond",M,"halfExpand")):{years:C,months:_,weeks:$,days:P,hours:oe,minutes:Q,seconds:J,milliseconds:x,microseconds:H,nanoseconds:R}=Ji(a(D,j),Oe,V,Ce,M,Le(null))}else{if(M==="year"||M==="month"||M==="week")throw new RangeError("relativeTo is required for years, months, or weeks arithmetic");C=_=$=0,{days:P,hours:oe,minutes:Q,seconds:J,milliseconds:x,microseconds:H,nanoseconds:R}=pt(r+y,l.add(l.BigInt(n),l.BigInt(g)),l.add(l.BigInt(i),l.BigInt(p)),l.add(l.BigInt(s),l.BigInt(w)),l.add(l.BigInt(c),l.BigInt(T)),l.add(l.BigInt(d),l.BigInt(b)),l.add(l.BigInt(h),l.BigInt(E)),M)}return Gn(C,_,$,P,oe,Q,J,x,H,R),{years:C,months:_,weeks:$,days:P,hours:oe,minutes:Q,seconds:J,milliseconds:x,microseconds:H,nanoseconds:R}}function Ro(o,e,t,r,n,i,s){let c=ye;c=l.add(c,l.BigInt(s)),c=l.add(c,l.multiply(l.BigInt(i),te)),c=l.add(c,l.multiply(l.BigInt(n),ut)),c=l.add(c,l.multiply(l.BigInt(r),Ot)),c=l.add(c,l.multiply(l.BigInt(t),l.BigInt(6e10))),c=l.add(c,l.multiply(l.BigInt(e),l.BigInt(36e11)));const d=l.add(o,c);return hr(d),d}function ko(o,e,t,r,n,i,s,c,d,h,u,m,f,y,g,p,w,T,b,E,D){let M=y,{deltaDays:C,hour:_,minute:$,second:P,millisecond:oe,microsecond:Q,nanosecond:J}=aa(r,n,i,s,c,d,g,p,w,T,b,E);M+=C;const x=I("%Temporal.Duration%"),H=Pe(h,yt(o,e,t,h),new x(u,m,f,M,0,0,0,0,0,0),D);return{year:a(H,O),month:a(H,k),day:a(H,Y),hour:_,minute:$,second:P,millisecond:oe,microsecond:Q,nanosecond:J}}function gt(o,e,t,r,n,i,s,c,d,h,u,m,f,y){const g=I("%Temporal.Duration%");if($t(r,n,i,s,0,0,0,0,0,0)===0)return Ro(a(o,j),c,d,h,u,m,f);const p=st(e,o,t),w=Pe(t,yt(a(p,O),a(p,k),a(p,Y),t),new g(r,n,i,s,0,0,0,0,0,0),y),T=nt(a(w,O),a(w,k),a(w,Y),a(p,U),a(p,Z),a(p,q),a(p,S),a(p,B),a(p,z),t);return Ro(a(Je(e,T,"compatible"),j),c,d,h,u,m,f)}function la(o,e,t,r){const n=o==="subtract"?-1:1;let{years:i,months:s,weeks:c,days:d,hours:h,minutes:u,seconds:m,milliseconds:f,microseconds:y,nanoseconds:g}=or(t);const p=Mn(K(r));return{years:i,months:s,weeks:c,days:d,hours:h,minutes:u,seconds:m,milliseconds:f,microseconds:y,nanoseconds:g}=sa(a(e,Se),a(e,Ye),a(e,et),a(e,Be),a(e,ze),a(e,We),a(e,Ge),a(e,He),a(e,Ve),a(e,Xe),n*i,n*s,n*c,n*d,n*h,n*u,n*m,n*f,n*y,n*g,p),new(I("%Temporal.Duration%"))(i,s,c,d,h,u,m,f,y,g)}function ca(o,e,t){const r=o==="subtract"?-1:1,{hours:n,minutes:i,seconds:s,milliseconds:c,microseconds:d,nanoseconds:h}=function(f,y){let g=or(f);for(const p of y)if(g[p]!==0)throw new RangeError(`Duration field ${p} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`);return g}(t,["years","months","weeks","days"]),u=Ro(a(e,j),r*n,r*i,r*s,r*c,r*d,r*h);return new(I("%Temporal.Instant%"))(u)}function da(o,e,t,r){const n=o==="subtract"?-1:1,{years:i,months:s,weeks:c,days:d,hours:h,minutes:u,seconds:m,milliseconds:f,microseconds:y,nanoseconds:g}=or(t),p=K(r),w=a(e,v),{year:T,month:b,day:E,hour:D,minute:M,second:C,millisecond:_,microsecond:$,nanosecond:P}=ko(a(e,O),a(e,k),a(e,Y),a(e,U),a(e,Z),a(e,q),a(e,S),a(e,B),a(e,z),w,n*i,n*s,n*c,n*d,n*h,n*u,n*m,n*f,n*y,n*g,p);return nt(T,b,E,D,M,C,_,$,P,w)}function ha(o,e,t){const r=o==="subtract"?-1:1,{hours:n,minutes:i,seconds:s,milliseconds:c,microseconds:d,nanoseconds:h}=or(t);let{hour:u,minute:m,second:f,millisecond:y,microsecond:g,nanosecond:p}=aa(a(e,U),a(e,Z),a(e,q),a(e,S),a(e,B),a(e,z),r*n,r*i,r*s,r*c,r*d,r*h);return{hour:u,minute:m,second:f,millisecond:y,microsecond:g,nanosecond:p}=Cn(u,m,f,y,g,p,"reject"),new(I("%Temporal.PlainTime%"))(u,m,f,y,g,p)}function ua(o,e,t,r){let n=or(t);o==="subtract"&&(n={years:-n.years,months:-n.months,weeks:-n.weeks,days:-n.days,hours:-n.hours,minutes:-n.minutes,seconds:-n.seconds,milliseconds:-n.milliseconds,microseconds:-n.microseconds,nanoseconds:-n.nanoseconds});let{years:i,months:s,weeks:c,days:d,hours:h,minutes:u,seconds:m,milliseconds:f,microseconds:y,nanoseconds:g}=n;({days:d}=pt(d,h,u,m,f,y,g,"day"));const p=K(r),w=a(e,v),T=_e(w,["monthCode","year"]),b=G(e,T,[]),E=Le(null);Er(E,b,[]),b.day=1;let D=At(w,b);const M=$t(i,s,c,d,0,0,0,0,0,0),C=ne(w,"dateAdd"),_=I("%Temporal.Duration%");if(M<0){const oe=Pe(w,D,new _(0,1,0,0,0,0,0,0,0,0),void 0,C),Q=Pe(w,oe,new _(0,0,0,-1,0,0,0,0,0,0),void 0,C);E.day=on(w,Q),D=At(w,E)}const $=new _(i,s,c,d,0,0,0,0,0,0),P=Jt(p);return cr(w,G(Pe(w,D,$,p,C),T,[]),P)}function ma(o,e,t,r){const n=o==="subtract"?-1:1,{years:i,months:s,weeks:c,days:d,hours:h,minutes:u,seconds:m,milliseconds:f,microseconds:y,nanoseconds:g}=or(t),p=K(r),w=a(e,ie),T=a(e,v);return Ne(gt(a(e,Ae),w,T,n*i,n*s,n*c,n*d,n*h,n*u,n*m,n*f,n*y,n*g,p),w,T)}function lt(o,e,t){if(l.equal(e,wr))return o;let{quotient:r,remainder:n}=ve(o,e);if(l.equal(n,ye))return o;const i=l.lessThan(n,ye)?-1:1,s=Tt(l.multiply(n,l.BigInt(2))),c=l.equal(s,e),d=l.greaterThan(s,e);switch(t){case"ceil":i>0&&(r=l.add(r,l.BigInt(i)));break;case"floor":i<0&&(r=l.add(r,l.BigInt(i)));break;case"expand":r=l.add(r,l.BigInt(i));break;case"trunc":break;case"halfCeil":(d||c&&i>0)&&(r=l.add(r,l.BigInt(i)));break;case"halfFloor":(d||c&&i<0)&&(r=l.add(r,l.BigInt(i)));break;case"halfExpand":(d||c)&&(r=l.add(r,l.BigInt(i)));break;case"halfTrunc":d&&(r=l.add(r,l.BigInt(i)));break;case"halfEven":(d||c&&l.toNumber(l.remainder(Tt(r),l.BigInt(2)))===1)&&(r=l.add(r,l.BigInt(i)))}return l.multiply(r,e)}function Hn(o,e,t,r){let{remainder:n}=mr(o,Rt);const i=l.subtract(o,n),s=lt(n,l.BigInt(wa[t]*e),r);return l.add(i,s)}function $o(o,e,t,r,n,i,s,c,d,h,u,m,f=864e11){const{deltaDays:y,hour:g,minute:p,second:w,millisecond:T,microsecond:b,nanosecond:E}=Yo(r,n,i,s,c,d,h,u,m,f),{year:D,month:M,day:C}=Bn(o,e,t+y);return{year:D,month:M,day:C,hour:g,minute:p,second:w,millisecond:T,microsecond:b,nanosecond:E}}function Yo(o,e,t,r,n,i,s,c,d,h=864e11){let u=ye;switch(c){case"day":case"hour":u=l.BigInt(o);case"minute":u=l.add(l.multiply(u,Mt),l.BigInt(e));case"second":u=l.add(l.multiply(u,Mt),l.BigInt(t));case"millisecond":u=l.add(l.multiply(u,te),l.BigInt(r));case"microsecond":u=l.add(l.multiply(u,te),l.BigInt(n));case"nanosecond":u=l.add(l.multiply(u,te),l.BigInt(i))}const m=c==="day"?h:wa[c],f=lt(u,l.BigInt(m*s),d),y=l.toNumber(l.divide(f,l.BigInt(m)));switch(c){case"day":return{deltaDays:y,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0};case"hour":return Zt(y,0,0,0,0,0);case"minute":return Zt(o,y,0,0,0,0);case"second":return Zt(o,e,y,0,0,0);case"millisecond":return Zt(o,e,t,y,0,0);case"microsecond":return Zt(o,e,t,r,y,0);case"nanosecond":return Zt(o,e,t,r,n,y);default:throw new Error(`Invalid unit ${c}`)}}function Vn(o,e){return Io(a(o,O),a(o,k),a(o,Y),a(e,O),a(e,k),a(e,Y),"day").days}function Ze(o,e,t,r){const n=Pe(o,e,t,void 0,r);return{relativeTo:n,days:Vn(e,n)}}function fa(o,e,t,r,n){const i=a(o,ie),s=a(o,v);return Ne(gt(a(o,Ae),i,s,e,t,r,n,0,0,0,0,0,0),i,s)}function ya(o,e,t,r,n,i,s,c,d,h,u,m,f,y){let g=o,p=e,w=t,T=r,b=n,E=i,D=s,M=c,C=d,_=h;if(!N(y)||m==="year"||m==="month"||m==="week"||m==="day"||m==="nanosecond"&&u===1)return{years:g,months:p,weeks:w,days:T,hours:b,minutes:E,seconds:D,milliseconds:M,microseconds:C,nanoseconds:_};let $=Yr(0,b,E,D,M,C,_,0);const P=pr(l.toNumber($)),oe=a(y,ie),Q=a(y,v),J=gt(a(y,Ae),oe,Q,g,p,w,T,0,0,0,0,0,0),x=gt(new(I("%Temporal.Instant%"))(J),oe,Q,0,0,0,P,0,0,0,0,0,0),H=l.subtract(x,J);return l.greaterThanOrEqual(l.multiply(l.subtract($,H),l.BigInt(P)),ye)&&({years:g,months:p,weeks:w,days:T}=sa(g,p,w,T,0,0,0,0,0,0,0,0,0,P,0,0,0,0,0,0,y),$=Hn(l.subtract($,H),u,m,f),{hours:b,minutes:E,seconds:D,milliseconds:M,microseconds:C,nanoseconds:_}=pt(0,0,0,0,0,0,l.toNumber($),"hour")),{years:g,months:p,weeks:w,days:T,hours:b,minutes:E,seconds:D,milliseconds:M,microseconds:C,nanoseconds:_}}function qt(o,e,t,r,n,i,s,c,d,h,u,m,f,y){let g=o,p=e,w=t,T=r,b=n,E=i,D=s,M=c,C=d,_=l.BigInt(h);const $=I("%Temporal.Duration%");let P,oe,Q,J,x=y;if(x){if(N(x))oe=x,x=ae(x);else if(!X(x))throw new TypeError("starting point must be PlainDate or ZonedDateTime");P=a(x,v)}if(m==="year"||m==="month"||m==="week"||m==="day"){let H,R,A;_=Yr(0,b,E,D,M,C,h,0),oe&&(H=fa(oe,g,p,w,T)),{days:R,nanoseconds:_,dayLengthNs:A}=_o(_,H),Q=l.BigInt(A),T+=R,b=E=D=M=C=0}switch(m){case"year":{if(!P)throw new RangeError("A starting point is required for years rounding");const H=new $(g),R=typeof P!="string"?ne(P,"dateAdd"):void 0,A=Pe(P,x,H,void 0,R),V=Pe(P,x,new $(g,p,w),void 0,R);x=A,T+=Vn(A,V);const Ce=Pe(P,x,new $(0,0,0,T),void 0,R),Me=Le(null);Me.largestUnit="year";const Oe=Gt(P,x,Ce,Me).years;g+=Oe;const Ee=x;x=Pe(P,x,new $(Oe),void 0,R),T-=Vn(Ee,x);const ct=new $(T<0?-1:1);let{days:Ft}=Ze(P,x,ct,R);Ft=le(Ft);const jt=l.multiply(l.BigInt(Ft),Q);_=l.add(l.add(l.multiply(jt,l.BigInt(g)),l.multiply(l.BigInt(T),Q)),_);const dt=lt(_,l.multiply(jt,l.BigInt(u)),f);J=Nt(_,jt),g=l.toNumber(l.divide(dt,jt)),_=ye,p=w=T=0;break}case"month":{if(!P)throw new RangeError("A starting point is required for months rounding");const H=new $(g,p),R=typeof P!="string"?ne(P,"dateAdd"):void 0,A=Pe(P,x,H,void 0,R),V=Pe(P,x,new $(g,p,w),void 0,R);x=A,T+=Vn(A,V);const Ce=pr(T),Me=new $(0,T<0?-1:1);let Oe;for({relativeTo:x,days:Oe}=Ze(P,x,Me,R);le(T)>=le(Oe);)p+=Ce,T-=Oe,{relativeTo:x,days:Oe}=Ze(P,x,Me,R);Oe=le(Oe);const Ee=l.multiply(l.BigInt(Oe),Q);_=l.add(l.add(l.multiply(Ee,l.BigInt(p)),l.multiply(l.BigInt(T),Q)),_);const ct=lt(_,l.multiply(Ee,l.BigInt(u)),f);J=Nt(_,Ee),p=l.toNumber(l.divide(ct,Ee)),_=ye,w=T=0;break}case"week":{if(!P)throw new RangeError("A starting point is required for weeks rounding");const H=pr(T),R=new $(0,0,T<0?-1:1),A=typeof P!="string"?ne(P,"dateAdd"):void 0;let V;for({relativeTo:x,days:V}=Ze(P,x,R,A);le(T)>=le(V);)w+=H,T-=V,{relativeTo:x,days:V}=Ze(P,x,R,A);V=le(V);const Ce=l.multiply(l.BigInt(V),Q);_=l.add(l.add(l.multiply(Ce,l.BigInt(w)),l.multiply(l.BigInt(T),Q)),_);const Me=lt(_,l.multiply(Ce,l.BigInt(u)),f);J=Nt(_,Ce),w=l.toNumber(l.divide(Me,Ce)),_=ye,T=0;break}case"day":{const H=Q;_=l.add(l.multiply(H,l.BigInt(T)),_);const R=lt(_,l.multiply(H,l.BigInt(u)),f);J=Nt(_,H),T=l.toNumber(l.divide(R,H)),_=ye;break}case"hour":{let R=l.multiply(l.BigInt(b),l.BigInt(36e11));R=l.add(R,l.multiply(l.BigInt(E),l.BigInt(6e10))),R=l.add(R,l.multiply(l.BigInt(D),Ot)),R=l.add(R,l.multiply(l.BigInt(M),ut)),R=l.add(R,l.multiply(l.BigInt(C),te)),R=l.add(R,_),J=Nt(R,l.BigInt(36e11));const A=lt(R,l.BigInt(36e11*u),f);b=l.toNumber(l.divide(A,l.BigInt(36e11))),_=ye,E=D=M=C=0;break}case"minute":{let R=l.multiply(l.BigInt(E),l.BigInt(6e10));R=l.add(R,l.multiply(l.BigInt(D),Ot)),R=l.add(R,l.multiply(l.BigInt(M),ut)),R=l.add(R,l.multiply(l.BigInt(C),te)),R=l.add(R,_),J=Nt(R,l.BigInt(6e10));const A=lt(R,l.BigInt(6e10*u),f);E=l.toNumber(l.divide(A,l.BigInt(6e10))),_=ye,D=M=C=0;break}case"second":{let R=l.multiply(l.BigInt(D),Ot);R=l.add(R,l.multiply(l.BigInt(M),ut)),R=l.add(R,l.multiply(l.BigInt(C),te)),R=l.add(R,_),J=Nt(R,l.BigInt(1e9));const A=lt(R,l.BigInt(1e9*u),f);D=l.toNumber(l.divide(A,l.BigInt(1e9))),_=ye,M=C=0;break}case"millisecond":{let R=l.multiply(l.BigInt(M),ut);R=l.add(R,l.multiply(l.BigInt(C),te)),R=l.add(R,_),J=Nt(R,l.BigInt(1e6));const A=lt(R,l.BigInt(1e6*u),f);M=l.toNumber(l.divide(A,l.BigInt(1e6))),_=ye,C=0;break}case"microsecond":{let R=l.multiply(l.BigInt(C),te);R=l.add(R,_),J=Nt(R,l.BigInt(1e3));const A=lt(R,l.BigInt(1e3*u),f);C=l.toNumber(l.divide(A,l.BigInt(1e3))),_=ye;break}case"nanosecond":J=l.toNumber(_),_=lt(l.BigInt(_),l.BigInt(u),f)}return{years:g,months:p,weeks:w,days:T,hours:b,minutes:E,seconds:D,milliseconds:M,microseconds:C,nanoseconds:l.toNumber(_),total:J}}function Kt(o,e,t,r,n,i){for(const[s,c]of[[o,r],[e,n],[t,i]])if(s!==c)return fr(s-c);return 0}function mr(o,e){let{quotient:t,remainder:r}=ve(o,e);return l.lessThan(r,ye)&&(t=l.subtract(t,wr),r=l.add(r,e)),{quotient:t,remainder:r}}function Pr(o,e){const{quotient:t,remainder:r}=ve(o,e);return mt(r)||!En(o)==!En(e)?t:l.subtract(t,wr)}function Nt(o,e){const{quotient:t,remainder:r}=ve(o,e);return l.toNumber(t)+l.toNumber(r)/l.toNumber(e)}function Xn(o){const e=cn(o);return globalThis.BigInt!==void 0?globalThis.BigInt(e.toString(10)):e}function cn(o){let e=o;if(typeof o=="object"){const t=o[Symbol.toPrimitive];t&&typeof t=="function"&&(e=Tn(t,o,["number"]))}if(typeof e=="number")throw new TypeError("cannot convert number to bigint");return typeof e=="bigint"?l.BigInt(e.toString(10)):l.BigInt(e)}const No=(()=>{let o=l.BigInt(Date.now()%1e6);return()=>{const e=l.BigInt(Date.now()),t=l.add(l.multiply(e,ut),o);return o=l.remainder(e,ut),l.greaterThan(t,Tr)?Tr:l.lessThan(t,Gr)?Gr:t}})();function Qt(){return new ci().resolvedOptions().timeZone}function fr(o){return o<0?-1:o>0?1:o}function K(o){if(o===void 0)return Le(null);if(ce(o)&&o!==null)return o;throw new TypeError("Options parameter must be an object, not "+(o===null?"null":typeof o))}function Fr(o,e){const t=Le(null);return t[o]=e,t}function Jt(o){const e=Le(null);return Er(e,K(o),[]),e}function er(o,e,t,r){let n=o[e];if(n!==void 0){if(n=Qe(n),!t.includes(n))throw new RangeError(`${e} must be one of ${t.join(", ")}, not ${n}`);return n}return r}function St(o){return is.includes(Pt(o))}function Pt(o){return o.replace(/[A-Z]/g,e=>{const t=e.charCodeAt(0);return String.fromCharCode(t+32)})}const ga=new RegExp(`^${ai.source}$`);function pa(o,e,t,r=o(e),n=o(t)){let i=l.BigInt(e),s=l.BigInt(t),c=r,d=n;for(;l.greaterThan(l.subtract(s,i),wr);){const h=l.divide(l.add(i,s),l.BigInt(2)),u=o(h);if(u===c)i=h,c=u;else{if(u!==d)throw new Error(`invalid state in bisection ${c} - ${u} - ${d}`);s=h,d=u}}return s}const wa={hour:36e11,minute:6e10,second:1e9,millisecond:1e6,microsecond:1e3,nanosecond:1},Ta=Symbol("date"),va=Symbol("ym"),ba=Symbol("md"),Ea=Symbol("time"),Da=Symbol("datetime"),_a=Symbol("instant"),jr=Symbol("original"),xr=Symbol("timezone"),wt=Symbol("calendar-id"),Ca=Symbol("locale"),Po=Symbol("options"),dn=o=>({value:o,enumerable:!0,writable:!1,configurable:!0}),Ar=globalThis.Intl.DateTimeFormat,Bt=Object.assign,ds=Object.prototype.hasOwnProperty,hs=Reflect.apply;function Lr(o,e){let t=o[e];return typeof t=="function"&&(t=new Ar(o[Ca],t(o[Po])),o[e]=t),t}function yr(o,e={}){if(!(this instanceof yr))return new yr(o,e);const t=e!==void 0,r=t?Bt({},e):{},n=new Ar(o,r),i=n.resolvedOptions();if(t){const s=Bt({},i);for(const c in s)hs(ds,r,[c])||delete s[c];this[Po]=s}else this[Po]=r;this[Ca]=i.locale,this[jr]=n,this[xr]=i.timeZone,this[wt]=i.calendar,this[Ta]=ys,this[va]=ms,this[ba]=fs,this[Ea]=us,this[Da]=gs,this[_a]=ps}Object.defineProperty(yr,"name",{writable:!0,value:"DateTimeFormat"}),yr.supportedLocalesOf=function(o,e){return Ar.supportedLocalesOf(o,e)};const Fo={resolvedOptions:dn(function(){return this[jr].resolvedOptions()}),format:dn(function(e,...t){let{instant:r,formatter:n}=Zr(e,this);return r&&n?n.format(r.epochMilliseconds):this[jr].format(e,...t)}),formatRange:dn(function(e,t){if(Ur(e)||Ur(t)){if(!Ia(e,t))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");const{instant:r,formatter:n}=Zr(e,this),{instant:i,formatter:s}=Zr(t,this);if(r&&i&&n&&s&&n===s)return n.formatRange(r.epochMilliseconds,i.epochMilliseconds)}return this[jr].formatRange(e,t)})};"formatToParts"in Ar.prototype&&(Fo.formatToParts=dn(function(e,...t){let{instant:r,formatter:n}=Zr(e,this);return r&&n?n.formatToParts(r.epochMilliseconds):this[jr].formatToParts(e,...t)})),"formatRangeToParts"in Ar.prototype&&(Fo.formatRangeToParts=dn(function(e,t){if(Ur(e)||Ur(t)){if(!Ia(e,t))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");const{instant:r,formatter:n}=Zr(e,this),{instant:i,formatter:s}=Zr(t,this);if(r&&i&&n&&s&&n===s)return n.formatRangeToParts(r.epochMilliseconds,i.epochMilliseconds)}return this[jr].formatRangeToParts(e,t)})),yr.prototype=Object.create(Ar.prototype,Fo),Object.defineProperty(yr,"prototype",{writable:!1,enumerable:!1,configurable:!1});const tr=yr;function hn(o={},e={}){const t=Bt({},o);for(const r of["year","month","day","hour","minute","second","weekday","dayPeriod","timeZoneName","dateStyle","timeStyle"])t[r]=r in e?e[r]:t[r],t[r]!==!1&&t[r]!==void 0||delete t[r];return t}function us(o){let e=hn(o,{year:!1,month:!1,day:!1,weekday:!1,timeZoneName:!1,dateStyle:!1});return xo(e)||(e=Bt({},e,{hour:"numeric",minute:"numeric",second:"numeric"})),e}function ms(o){let e=hn(o,{day:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"year"in e||"month"in e||(e=Bt(e,{year:"numeric",month:"numeric"})),e}function fs(o){let e=hn(o,{year:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"month"in e||"day"in e||(e=Bt({},e,{month:"numeric",day:"numeric"})),e}function ys(o){let e=hn(o,{hour:!1,minute:!1,second:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});return jo(e)||(e=Bt({},e,{year:"numeric",month:"numeric",day:"numeric"})),e}function gs(o){let e=hn(o,{timeZoneName:!1});return xo(e)||jo(e)||(e=Bt({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),e}function ps(o){let e=o;return xo(e)||jo(e)||(e=Bt({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),e}function jo(o){return"year"in o||"month"in o||"day"in o||"weekday"in o||"dateStyle"in o}function xo(o){return"hour"in o||"minute"in o||"second"in o||"timeStyle"in o||"dayPeriod"in o}function Ur(o){return X(o)||we(o)||L(o)||N(o)||re(o)||$e(o)||Ie(o)}function Ia(o,e){return!(!Ur(o)||!Ur(e))&&!(we(o)&&!we(e))&&!(X(o)&&!X(e))&&!(L(o)&&!L(e))&&!(N(o)&&!N(e))&&!(re(o)&&!re(e))&&!($e(o)&&!$e(e))&&!(Ie(o)&&!Ie(e))}function Zr(o,e){const t=I("%Temporal.PlainDateTime%");if(we(o)){const r=new t(1970,1,1,a(o,U),a(o,Z),a(o,q),a(o,S),a(o,B),a(o,z),e[wt]);return{instant:Je(e[xr],r,"compatible"),formatter:Lr(e,Ea)}}if(re(o)){const r=a(o,O),n=a(o,k),i=a(o,Y),s=Fe(a(o,v));if(s!==e[wt])throw new RangeError(`cannot format PlainYearMonth with calendar ${s} in locale with calendar ${e[wt]}`);const c=new t(r,n,i,12,0,0,0,0,0,s);return{instant:Je(e[xr],c,"compatible"),formatter:Lr(e,va)}}if($e(o)){const r=a(o,O),n=a(o,k),i=a(o,Y),s=Fe(a(o,v));if(s!==e[wt])throw new RangeError(`cannot format PlainMonthDay with calendar ${s} in locale with calendar ${e[wt]}`);const c=new t(r,n,i,12,0,0,0,0,0,s);return{instant:Je(e[xr],c,"compatible"),formatter:Lr(e,ba)}}if(X(o)){const r=a(o,O),n=a(o,k),i=a(o,Y),s=Fe(a(o,v));if(s!=="iso8601"&&s!==e[wt])throw new RangeError(`cannot format PlainDate with calendar ${s} in locale with calendar ${e[wt]}`);const c=new t(r,n,i,12,0,0,0,0,0,e[wt]);return{instant:Je(e[xr],c,"compatible"),formatter:Lr(e,Ta)}}if(L(o)){const r=a(o,O),n=a(o,k),i=a(o,Y),s=a(o,U),c=a(o,Z),d=a(o,q),h=a(o,S),u=a(o,B),m=a(o,z),f=Fe(a(o,v));if(f!=="iso8601"&&f!==e[wt])throw new RangeError(`cannot format PlainDateTime with calendar ${f} in locale with calendar ${e[wt]}`);let y=o;return f==="iso8601"&&(y=new t(r,n,i,s,c,d,h,u,m,e[wt])),{instant:Je(e[xr],y,"compatible"),formatter:Lr(e,Da)}}if(N(o))throw new TypeError("Temporal.ZonedDateTime not supported in DateTimeFormat methods. Use toLocaleString() instead.");return Ie(o)?{instant:o,formatter:Lr(e,_a)}:{}}class Dt{constructor(e){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");const t=cn(e);hr(t),It(this),W(this,j,t)}get epochSeconds(){if(!Ie(this))throw new TypeError("invalid receiver");const e=a(this,j);return l.toNumber(Pr(e,Ot))}get epochMilliseconds(){if(!Ie(this))throw new TypeError("invalid receiver");const e=l.BigInt(a(this,j));return l.toNumber(Pr(e,ut))}get epochMicroseconds(){if(!Ie(this))throw new TypeError("invalid receiver");return Xn(Pr(l.BigInt(a(this,j)),te))}get epochNanoseconds(){if(!Ie(this))throw new TypeError("invalid receiver");return Xn(l.BigInt(a(this,j)))}add(e){if(!Ie(this))throw new TypeError("invalid receiver");return ca("add",this,e)}subtract(e){if(!Ie(this))throw new TypeError("invalid receiver");return ca("subtract",this,e)}until(e,t){if(!Ie(this))throw new TypeError("invalid receiver");return ea("until",this,e,t)}since(e,t){if(!Ie(this))throw new TypeError("invalid receiver");return ea("since",this,e,t)}round(e){if(!Ie(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const t=typeof e=="string"?Fr("smallestUnit",e):K(e),r=Cr(t),n=vt(t,"halfExpand"),i=rt(t,"smallestUnit","time",ir);Ir(r,{hour:24,minute:1440,second:86400,millisecond:864e5,microsecond:864e8,nanosecond:864e11}[i],!0);const s=Hn(a(this,j),r,i,n);return new Dt(s)}equals(e){if(!Ie(this))throw new TypeError("invalid receiver");const t=bt(e),r=a(this,j),n=a(t,j);return l.equal(l.BigInt(r),l.BigInt(n))}toString(e){if(!Ie(this))throw new TypeError("invalid receiver");const t=K(e),r=Xr(t),n=vt(t,"trunc"),i=rt(t,"smallestUnit","time",void 0);if(i==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');let s=t.timeZone;s!==void 0&&(s=Ue(s));const{precision:c,unit:d,increment:h}=Kr(i,r),u=Hn(a(this,j),h,d,n);return Ni(new Dt(u),s,c)}toJSON(){if(!Ie(this))throw new TypeError("invalid receiver");return Ni(this,void 0,"auto")}toLocaleString(e,t){if(!Ie(this))throw new TypeError("invalid receiver");return new tr(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.Instant")}toZonedDateTime(e){if(!Ie(this))throw new TypeError("invalid receiver");if(!ce(e))throw new TypeError("invalid argument in toZonedDateTime");const t=e.calendar;if(t===void 0)throw new TypeError("missing calendar property in toZonedDateTime");const r=ot(t),n=e.timeZone;if(n===void 0)throw new TypeError("missing timeZone property in toZonedDateTime");const i=Ue(n);return Ne(a(this,j),i,r)}toZonedDateTimeISO(e){if(!Ie(this))throw new TypeError("invalid receiver");const t=Ue(e);return Ne(a(this,j),t,"iso8601")}static fromEpochSeconds(e){const t=br(e),r=l.multiply(l.BigInt(t),Ot);return hr(r),new Dt(r)}static fromEpochMilliseconds(e){const t=br(e),r=l.multiply(l.BigInt(t),ut);return hr(r),new Dt(r)}static fromEpochMicroseconds(e){const t=cn(e),r=l.multiply(t,te);return hr(r),new Dt(r)}static fromEpochNanoseconds(e){const t=cn(e);return hr(t),new Dt(t)}static from(e){return Ie(e)?new Dt(a(e,j)):bt(e)}static compare(e,t){const r=bt(e),n=bt(t),i=a(r,j),s=a(n,j);return l.lessThan(i,s)?-1:l.greaterThan(i,s)?1:0}}_t(Dt,"Temporal.Instant");const Ma=Array.prototype.includes,ws=Array.prototype.push,Ts=globalThis.Intl.DateTimeFormat,vs=Array.prototype.sort,bs=Math.abs,Es=Math.floor,Ao=Object.create,Lo=Object.entries,Oa=Set,Ra=Reflect.ownKeys,qe=Set.prototype.add,ka=Set.prototype.values,he={};class Te{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: id is required");const t=Qe(e);if(!St(t))throw new RangeError(`invalid calendar identifier ${t}`);It(this),W(this,me,Pt(t))}get id(){if(!ge(this))throw new TypeError("invalid receiver");return a(this,me)}dateFromFields(e,t){if(!ge(this))throw new TypeError("invalid receiver");if(!ce(e))throw new TypeError("invalid fields");const r=K(t),n=a(this,me);return he[n].dateFromFields(e,r,n)}yearMonthFromFields(e,t){if(!ge(this))throw new TypeError("invalid receiver");if(!ce(e))throw new TypeError("invalid fields");const r=K(t),n=a(this,me);return he[n].yearMonthFromFields(e,r,n)}monthDayFromFields(e,t){if(!ge(this))throw new TypeError("invalid receiver");if(!ce(e))throw new TypeError("invalid fields");const r=K(t),n=a(this,me);return he[n].monthDayFromFields(e,r,n)}fields(e){if(!ge(this))throw new TypeError("invalid receiver");const t=[],r=new Set(["year","month","monthCode","day","hour","minute","second","millisecond","microsecond","nanosecond"]);for(const n of e){if(typeof n!="string")throw new TypeError("invalid fields");if(!r.has(n))throw new RangeError(`invalid field name ${n}`);r.delete(n),ws.call(t,n)}return he[a(this,me)].fields(t)}mergeFields(e,t){if(!ge(this))throw new TypeError("invalid receiver");const r=Ei(e),n=Ao(null);Er(n,r,[],[void 0]);const i=Ei(t),s=Ao(null);Er(s,i,[],[void 0]);const c=Ra(s),d=he[a(this,me)].fieldKeysToIgnore(c),h=Ao(null),u=Ra(n);for(const m of u){let f;f=F(Ma,d,[m])?s[m]:n[m],f!==void 0&&(h[m]=f)}return Er(h,s,[]),h}dateAdd(e,t,r){if(!ge(this))throw new TypeError("invalid receiver");const n=ae(e),i=Mr(t),s=be(K(r)),{days:c}=pt(a(i,Be),a(i,ze),a(i,We),a(i,Ge),a(i,He),a(i,Ve),a(i,Xe),"day"),d=a(this,me);return he[d].dateAdd(n,a(i,Se),a(i,Ye),a(i,et),c,s,d)}dateUntil(e,t,r){if(!ge(this))throw new TypeError("invalid receiver");const n=ae(e),i=ae(t);let s=rt(K(r),"largestUnit","date","auto");s==="auto"&&(s="day");const{years:c,months:d,weeks:h,days:u}=he[a(this,me)].dateUntil(n,i,s);return new(I("%Temporal.Duration%"))(c,d,h,u,0,0,0,0,0,0)}year(e){let t=e;if(!ge(this))throw new TypeError("invalid receiver");return re(t)||(t=ae(t)),he[a(this,me)].year(t)}month(e){let t=e;if(!ge(this))throw new TypeError("invalid receiver");if($e(t))throw new TypeError("use monthCode on PlainMonthDay instead");return re(t)||(t=ae(t)),he[a(this,me)].month(t)}monthCode(e){let t=e;if(!ge(this))throw new TypeError("invalid receiver");return re(t)||$e(t)||(t=ae(t)),he[a(this,me)].monthCode(t)}day(e){let t=e;if(!ge(this))throw new TypeError("invalid receiver");return $e(t)||(t=ae(t)),he[a(this,me)].day(t)}era(e){let t=e;if(!ge(this))throw new TypeError("invalid receiver");return re(t)||(t=ae(t)),he[a(this,me)].era(t)}eraYear(e){let t=e;if(!ge(this))throw new TypeError("invalid receiver");return re(t)||(t=ae(t)),he[a(this,me)].eraYear(t)}dayOfWeek(e){if(!ge(this))throw new TypeError("invalid receiver");const t=ae(e);return he[a(this,me)].dayOfWeek(t)}dayOfYear(e){if(!ge(this))throw new TypeError("invalid receiver");const t=ae(e);return he[a(this,me)].dayOfYear(t)}weekOfYear(e){if(!ge(this))throw new TypeError("invalid receiver");const t=ae(e);return he[a(this,me)].weekOfYear(t)}yearOfWeek(e){if(!ge(this))throw new TypeError("invalid receiver");const t=ae(e);return he[a(this,me)].yearOfWeek(t)}daysInWeek(e){if(!ge(this))throw new TypeError("invalid receiver");const t=ae(e);return he[a(this,me)].daysInWeek(t)}daysInMonth(e){let t=e;if(!ge(this))throw new TypeError("invalid receiver");return re(t)||(t=ae(t)),he[a(this,me)].daysInMonth(t)}daysInYear(e){let t=e;if(!ge(this))throw new TypeError("invalid receiver");return re(t)||(t=ae(t)),he[a(this,me)].daysInYear(t)}monthsInYear(e){let t=e;if(!ge(this))throw new TypeError("invalid receiver");return re(t)||(t=ae(t)),he[a(this,me)].monthsInYear(t)}inLeapYear(e){let t=e;if(!ge(this))throw new TypeError("invalid receiver");return re(t)||(t=ae(t)),he[a(this,me)].inLeapYear(t)}toString(){if(!ge(this))throw new TypeError("invalid receiver");return a(this,me)}toJSON(){if(!ge(this))throw new TypeError("invalid receiver");return a(this,me)}static from(e){return Or(ot(e))}}function Uo(o){if(!o.startsWith("M"))throw new RangeError(`Invalid month code: ${o}.  Month codes must start with M.`);const e=+o.slice(1);if(isNaN(e))throw new RangeError(`Invalid month code: ${o}`);return e}function zt(o,e=!1){return`M${o.toString().padStart(2,"0")}${e?"L":""}`}function Kn(o,e,t=12){let{month:r,monthCode:n}=o;if(n===void 0){if(r===void 0)throw new TypeError("Either month or monthCode are required");e==="reject"&&je(r,1,t),e==="constrain"&&(r=it(r,1,t)),n=zt(r)}else{const i=Uo(n);if(r!==void 0&&r!==i)throw new RangeError(`monthCode ${n} and month ${r} must match if both are present`);if(n!==zt(i))throw new RangeError(`Invalid month code: ${n}`);if(r=i,r<1||r>t)throw new RangeError(`Invalid monthCode: ${n}`)}return{...o,month:r,monthCode:n}}_t(Te,"Temporal.Calendar"),ue("Temporal.Calendar.from",Te.from),ue("Temporal.Calendar.prototype.dateAdd",Te.prototype.dateAdd),ue("Temporal.Calendar.prototype.dateFromFields",Te.prototype.dateFromFields),ue("Temporal.Calendar.prototype.dateUntil",Te.prototype.dateUntil),ue("Temporal.Calendar.prototype.day",Te.prototype.day),ue("Temporal.Calendar.prototype.dayOfWeek",Te.prototype.dayOfWeek),ue("Temporal.Calendar.prototype.dayOfYear",Te.prototype.dayOfYear),ue("Temporal.Calendar.prototype.daysInMonth",Te.prototype.daysInMonth),ue("Temporal.Calendar.prototype.daysInWeek",Te.prototype.daysInWeek),ue("Temporal.Calendar.prototype.daysInYear",Te.prototype.daysInYear),ue("Temporal.Calendar.prototype.era",Te.prototype.era),ue("Temporal.Calendar.prototype.eraYear",Te.prototype.eraYear),ue("Temporal.Calendar.prototype.fields",Te.prototype.fields),ue("Temporal.Calendar.prototype.inLeapYear",Te.prototype.inLeapYear),ue("Temporal.Calendar.prototype.mergeFields",Te.prototype.mergeFields),ue("Temporal.Calendar.prototype.month",Te.prototype.month),ue("Temporal.Calendar.prototype.monthCode",Te.prototype.monthCode),ue("Temporal.Calendar.prototype.monthDayFromFields",Te.prototype.monthDayFromFields),ue("Temporal.Calendar.prototype.monthsInYear",Te.prototype.monthsInYear),ue("Temporal.Calendar.prototype.weekOfYear",Te.prototype.weekOfYear),ue("Temporal.Calendar.prototype.year",Te.prototype.year),ue("Temporal.Calendar.prototype.yearMonthFromFields",Te.prototype.yearMonthFromFields),ue("Temporal.Calendar.prototype.yearOfWeek",Te.prototype.yearOfWeek),he.iso8601={dateFromFields(o,e,t){let r=G(o,["day","month","monthCode","year"],["year","day"]);const n=be(e);r=Kn(r);let{year:i,month:s,day:c}=r;return{year:i,month:s,day:c}=_n(i,s,c,n),yt(i,s,c,t)},yearMonthFromFields(o,e,t){let r=G(o,["month","monthCode","year"],["year"]);const n=be(e);r=Kn(r);let{year:i,month:s}=r;return{year:i,month:s}=function(d,h,u){let m=d,f=h;switch(u){case"reject":Yt(m,f,1);break;case"constrain":({year:m,month:f}=Vi(m,f))}return{year:m,month:f}}(i,s,n),rn(i,s,t,1)},monthDayFromFields(o,e,t){let r=G(o,["day","month","monthCode","year"],["day"]);const n=be(e);if(r.month!==void 0&&r.year===void 0&&r.monthCode===void 0)throw new TypeError("either year or monthCode required with month");const i=r.monthCode===void 0;r=Kn(r);let{month:s,day:c,year:d}=r;return{month:s,day:c}=_n(i?d:1972,s,c,n),tn(s,c,t,1972)},fields:o=>o,fieldKeysToIgnore(o){const e=new Oa;for(let t=0;t<o.length;t++){const r=o[t];F(qe,e,[r]),r==="month"?F(qe,e,["monthCode"]):r==="monthCode"&&F(qe,e,["month"])}return[...F(ka,e,[])]},dateAdd(o,e,t,r,n,i,s){let c=a(o,O),d=a(o,k),h=a(o,Y);return{year:c,month:d,day:h}=ur(c,d,h,e,t,r,n,i),yt(c,d,h,s)},dateUntil:(o,e,t)=>Io(a(o,O),a(o,k),a(o,Y),a(e,O),a(e,k),a(e,Y),t),year:o=>a(o,O),era(){},eraYear(){},month:o=>a(o,k),monthCode:o=>zt(a(o,k)),day:o=>a(o,Y),dayOfWeek:o=>Eo(a(o,O),a(o,k),a(o,Y)),dayOfYear:o=>qn(a(o,O),a(o,k),a(o,Y)),weekOfYear:o=>zi(a(o,O),a(o,k),a(o,Y)).week,yearOfWeek:o=>zi(a(o,O),a(o,k),a(o,Y)).year,daysInWeek:()=>7,daysInMonth:o=>Ut(a(o,O),a(o,k)),daysInYear(o){let e=o;return Re(e,O)||(e=ae(e)),Xt(a(e,O))?366:365},monthsInYear:()=>12,inLeapYear(o){let e=o;return Re(e,O)||(e=ae(e)),Xt(a(e,O))}};class fe{constructor(e){if(this.map=new Map,this.calls=0,this.hits=0,this.misses=0,this.now=globalThis.performance?globalThis.performance.now():Date.now(),e!==void 0){let t=0;for(const r of e.map.entries()){if(++t>fe.MAX_CACHE_ENTRIES)break;this.map.set(...r)}}}get(e){const t=this.map.get(e);return t&&(this.hits++,this.report()),this.calls++,t}set(e,t){this.map.set(e,t),this.misses++,this.report()}report(){}setObject(e){if(fe.objectMap.get(e))throw new RangeError("object already cached");fe.objectMap.set(e,this),this.report()}static getCacheForObject(e){let t=fe.objectMap.get(e);return t||(t=new fe,fe.objectMap.set(e,t)),t}}function $a({isoYear:o,isoMonth:e,isoDay:t}){return`${dr(o)}-${de(e)}-${de(t)}T00:00Z`}function Zo(o,e){return{years:o.year-e.year,months:o.month-e.month,days:o.day-e.day}}fe.objectMap=new WeakMap,fe.MAX_CACHE_ENTRIES=1e3;class qr{constructor(){this.eraLength="short",this.hasEra=!0,this.erasBeginMidYear=!1}getFormatter(){return this.formatter===void 0&&(this.formatter=new Ts(`en-US-u-ca-${this.id}`,{day:"numeric",month:"numeric",year:"numeric",era:this.eraLength,timeZone:"UTC"})),this.formatter}isoToCalendarDate(e,t){const{year:r,month:n,day:i}=e,s=JSON.stringify({func:"isoToCalendarDate",isoYear:r,isoMonth:n,isoDay:i,id:this.id}),c=t.get(s);if(c)return c;const d=this.getFormatter();let h,u;try{u=$a({isoYear:r,isoMonth:n,isoDay:i}),h=d.formatToParts(new Date(u))}catch{throw new RangeError(`Invalid ISO date: ${JSON.stringify({isoYear:r,isoMonth:n,isoDay:i})}`)}const m={};for(let{type:y,value:g}of h){if(y==="year"&&(m.eraYear=+g),y==="relatedYear"&&(m.eraYear=+g),y==="month"){const p=/^([0-9]*)(.*?)$/.exec(g);if(!p||p.length!=3||!p[1]&&!p[2])throw new RangeError(`Unexpected month: ${g}`);if(m.month=p[1]?+p[1]:1,m.month<1)throw new RangeError(`Invalid month ${g} from ${u}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)`);if(m.month>13)throw new RangeError(`Invalid month ${g} from ${u}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)`);p[2]&&(m.monthExtra=p[2])}y==="day"&&(m.day=+g),this.hasEra&&y==="era"&&g!=null&&g!==""&&(g=g.split(" (")[0],m.era=g.normalize("NFD").replace(/[^-0-9 \p{L}]/gu,"").replace(" ","-").toLowerCase())}if(m.eraYear===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);if(this.reviseIntlEra){const{era:y,eraYear:g}=this.reviseIntlEra(m,e);m.era=y,m.eraYear=g}this.checkIcuBugs&&this.checkIcuBugs(e);const f=this.adjustCalendarDate(m,t,"constrain",!0);if(f.year===void 0)throw new RangeError(`Missing year converting ${JSON.stringify(e)}`);if(f.month===void 0)throw new RangeError(`Missing month converting ${JSON.stringify(e)}`);if(f.day===void 0)throw new RangeError(`Missing day converting ${JSON.stringify(e)}`);return t.set(s,f),["constrain","reject"].forEach(y=>{const g=JSON.stringify({func:"calendarToIsoDate",year:f.year,month:f.month,day:f.day,overflow:y,id:this.id});t.set(g,e)}),f}validateCalendarDate(e){const{era:t,month:r,year:n,day:i,eraYear:s,monthCode:c,monthExtra:d}=e;if(d!==void 0)throw new RangeError("Unexpected `monthExtra` value");if(n===void 0&&s===void 0)throw new TypeError("year or eraYear is required");if(r===void 0&&c===void 0)throw new TypeError("month or monthCode is required");if(i===void 0)throw new RangeError("Missing day");if(c!==void 0){if(typeof c!="string")throw new RangeError("monthCode must be a string, not "+typeof c);if(!/^M([01]?\d)(L?)$/.test(c))throw new RangeError(`Invalid monthCode: ${c}`)}if(this.constantEra){if(t!==void 0&&t!==this.constantEra)throw new RangeError(`era must be ${this.constantEra}, not ${t}`);if(s!==void 0&&n!==void 0&&s!==n)throw new RangeError(`eraYear ${s} does not match year ${n}`)}if(this.hasEra&&e.era===void 0!=(e.eraYear===void 0))throw new RangeError("properties 'era' and 'eraYear' must be provided together")}adjustCalendarDate(e,t,r="constrain",n=!1){if(this.calendarType==="lunisolar")throw new RangeError("Override required for lunisolar calendars");let i=e;if(this.validateCalendarDate(i),this.constantEra){const{year:h,eraYear:u}=i;i={...i,era:this.constantEra,year:h!==void 0?h:u,eraYear:u!==void 0?u:h}}const s=this.monthsInYear(i,t);let{month:c,monthCode:d}=i;return{month:c,monthCode:d}=Kn(i,r,s),{...i,month:c,monthCode:d}}regulateMonthDayNaive(e,t,r){const n=this.monthsInYear(e,r);let{month:i,day:s}=e;return t==="reject"?(je(i,1,n),je(s,1,this.maximumMonthLength(e))):(i=it(i,1,n),s=it(s,1,this.maximumMonthLength({...e,month:i}))),{...e,month:i,day:s}}calendarToIsoDate(e,t="constrain",r){const n=e;let i=this.adjustCalendarDate(e,r,t,!1);i=this.regulateMonthDayNaive(i,t,r);const{year:s,month:c,day:d}=i,h=JSON.stringify({func:"calendarToIsoDate",year:s,month:c,day:d,overflow:t,id:this.id});let u,m=r.get(h);if(m||n.year!==void 0&&n.month!==void 0&&n.day!==void 0&&(n.year!==i.year||n.month!==i.month||n.day!==i.day)&&(u=JSON.stringify({func:"calendarToIsoDate",year:n.year,month:n.month,day:n.day,overflow:t,id:this.id}),m=r.get(u),m))return m;let f=this.estimateIsoDate({year:s,month:c,day:d});const y=b=>{let E=this.addDaysIso(f,b);if(i.day>this.minimumMonthLength(i)){let D=this.isoToCalendarDate(E,r);for(;D.month!==c||D.year!==s;){if(t==="reject")throw new RangeError(`day ${d} does not exist in month ${c} of year ${s}`);E=this.addDaysIso(E,-1),D=this.isoToCalendarDate(E,r)}}return E};let g=0,p=this.isoToCalendarDate(f,r),w=Zo(i,p);if(w.years!==0||w.months!==0||w.days!==0){const b=365*w.years+30*w.months+w.days;f=this.addDaysIso(f,b),p=this.isoToCalendarDate(f,r),w=Zo(i,p),w.years===0&&w.months===0?f=y(w.days):g=this.compareCalendarDates(i,p)}let T=8;for(;g;){f=this.addDaysIso(f,g*T);const b=p;p=this.isoToCalendarDate(f,r);const E=g;if(g=this.compareCalendarDates(i,p),g){if(w=Zo(i,p),w.years===0&&w.months===0)f=y(w.days),g=0;else if(E&&g!==E)if(T>1)T/=2;else{if(t==="reject")throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify({...n})}`);this.compareCalendarDates(p,b)>0&&(f=this.addDaysIso(f,-1)),g=0}}}if(r.set(h,f),u&&r.set(u,f),i.year===void 0||i.month===void 0||i.day===void 0||i.monthCode===void 0||this.hasEra&&(i.era===void 0||i.eraYear===void 0))throw new RangeError("Unexpected missing property");return f}temporalToCalendarDate(e,t){const r={year:a(e,O),month:a(e,k),day:a(e,Y)};return this.isoToCalendarDate(r,t)}compareCalendarDates(e,t){const r=G(e,["day","month","year"],["day","month","year"]),n=G(t,["day","month","year"],["day","month","year"]);return r.year!==n.year?fr(r.year-n.year):r.month!==n.month?fr(r.month-n.month):r.day!==n.day?fr(r.day-n.day):0}regulateDate(e,t="constrain",r){const n=this.calendarToIsoDate(e,t,r);return this.isoToCalendarDate(n,r)}addDaysIso(e,t){return ur(e.year,e.month,e.day,0,0,0,t,"constrain")}addDaysCalendar(e,t,r){const n=this.calendarToIsoDate(e,"constrain",r),i=this.addDaysIso(n,t);return this.isoToCalendarDate(i,r)}addMonthsCalendar(e,t,r,n){let i=e;const{day:s}=i;for(let c=0,d=bs(t);c<d;c++){const{month:h}=i,u=i,m=t<0?-Math.max(s,this.daysInPreviousMonth(i,n)):this.daysInMonth(i,n),f=this.calendarToIsoDate(i,"constrain",n);let y=this.addDaysIso(f,m);if(i=this.isoToCalendarDate(y,n),t>0){const g=this.monthsInYear(u,n);for(;i.month-1!=h%g;)y=this.addDaysIso(y,-1),i=this.isoToCalendarDate(y,n)}i.day!==s&&(i=this.regulateDate({...i,day:s},"constrain",n))}if(r==="reject"&&i.day!==s)throw new RangeError(`Day ${s} does not exist in resulting calendar month`);return i}addCalendar(e,{years:t=0,months:r=0,weeks:n=0,days:i=0},s,c){const{year:d,day:h,monthCode:u}=e,m=this.adjustCalendarDate({year:d+t,monthCode:u,day:h},c),f=this.addMonthsCalendar(m,r,s,c),y=i+7*n;return this.addDaysCalendar(f,y,c)}untilCalendar(e,t,r,n){let i=0,s=0,c=0,d=0;switch(r){case"day":i=this.calendarDaysUntil(e,t,n);break;case"week":{const h=this.calendarDaysUntil(e,t,n);i=h%7,s=(h-i)/7;break}case"month":case"year":{const h=this.compareCalendarDates(t,e);if(!h)return{years:0,months:0,weeks:0,days:0};const u=t.year-e.year,m=t.day-e.day;if(r==="year"&&u){let g=0;t.monthCode>e.monthCode&&(g=1),t.monthCode<e.monthCode&&(g=-1),g||(g=Math.sign(m)),d=g*h<0?u-h:u}let f,y=d?this.addCalendar(e,{years:d},"constrain",n):e;do c+=h,f=y,y=this.addMonthsCalendar(f,h,"constrain",n),y.day!==e.day&&(y=this.regulateDate({...y,day:e.day},"constrain",n));while(this.compareCalendarDates(t,y)*h>=0);c-=h,i=this.calendarDaysUntil(f,t,n);break}}return{years:d,months:c,weeks:s,days:i}}daysInMonth(e,t){const{day:r}=e,n=this.maximumMonthLength(e),i=this.minimumMonthLength(e);if(i===n)return i;const s=r<=n-i?n:i,c=this.calendarToIsoDate(e,"constrain",t),d=this.addDaysIso(c,s),h=this.isoToCalendarDate(d,t),u=this.addDaysIso(d,-h.day);return this.isoToCalendarDate(u,t).day}daysInPreviousMonth(e,t){const{day:r,month:n,year:i}=e;let s={year:n>1?i:i-1,month:n,day:1};const c=n>1?n-1:this.monthsInYear(s,t);s={...s,month:c};const d=this.minimumMonthLength(s),h=this.maximumMonthLength(s);if(d===h)return h;const u=this.calendarToIsoDate(e,"constrain",t),m=this.addDaysIso(u,-r);return this.isoToCalendarDate(m,t).day}startOfCalendarYear(e){return{year:e.year,month:1,monthCode:"M01",day:1}}startOfCalendarMonth(e){return{year:e.year,month:e.month,day:1}}calendarDaysUntil(e,t,r){const n=this.calendarToIsoDate(e,"constrain",r),i=this.calendarToIsoDate(t,"constrain",r);return this.isoDaysUntil(n,i)}isoDaysUntil(e,t){return Io(e.year,e.month,e.day,t.year,t.month,t.day,"day").days}monthDayFromFields(e,t,r){let n,i,s,c,d,{monthCode:h,day:u}=e;if(h===void 0){let{year:y,era:g,eraYear:p}=e;if(y===void 0&&(g===void 0||p===void 0))throw new TypeError("when `monthCode` is omitted, `year` (or `era` and `eraYear`) and `month` are required");({monthCode:h,day:u}=this.isoToCalendarDate(this.calendarToIsoDate(e,t,r),r))}const m=this.isoToCalendarDate({year:1972,month:12,day:31},r),f=m.monthCode>h||m.monthCode===h&&m.day>=u?m.year:m.year-1;for(let y=0;y<100;y++){const g=this.adjustCalendarDate({day:u,monthCode:h,year:f-y},r),p=this.calendarToIsoDate(g,"constrain",r),w=this.isoToCalendarDate(p,r);if({year:n,month:i,day:s}=p,w.monthCode===h&&w.day===u)return{month:i,day:s,year:n};t==="constrain"&&(c===void 0||w.monthCode===c.monthCode&&w.day>c.day)&&(c=w,d=p)}if(t==="constrain"&&d!==void 0)return d;throw new RangeError(`No recent ${this.id} year with monthCode ${h} and day ${u}`)}}class Ds extends qr{constructor(){super(...arguments),this.id="hebrew",this.calendarType="lunisolar",this.months={Tishri:{leap:1,regular:1,monthCode:"M01",days:30},Heshvan:{leap:2,regular:2,monthCode:"M02",days:{min:29,max:30}},Kislev:{leap:3,regular:3,monthCode:"M03",days:{min:29,max:30}},Tevet:{leap:4,regular:4,monthCode:"M04",days:29},Shevat:{leap:5,regular:5,monthCode:"M05",days:30},Adar:{leap:void 0,regular:6,monthCode:"M06",days:29},"Adar I":{leap:6,regular:void 0,monthCode:"M05L",days:30},"Adar II":{leap:7,regular:void 0,monthCode:"M06",days:29},Nisan:{leap:8,regular:7,monthCode:"M07",days:30},Iyar:{leap:9,regular:8,monthCode:"M08",days:29},Sivan:{leap:10,regular:9,monthCode:"M09",days:30},Tamuz:{leap:11,regular:10,monthCode:"M10",days:29},Av:{leap:12,regular:11,monthCode:"M11",days:30},Elul:{leap:13,regular:12,monthCode:"M12",days:29}},this.hasEra=!1}inLeapYear(e){const{year:t}=e;return(7*t+1)%19<7}monthsInYear(e){return this.inLeapYear(e)?13:12}minimumMonthLength(e){return this.minMaxMonthLength(e,"min")}maximumMonthLength(e){return this.minMaxMonthLength(e,"max")}minMaxMonthLength(e,t){const{month:r,year:n}=e,i=this.getMonthCode(n,r),s=Lo(this.months).find(d=>d[1].monthCode===i);if(s===void 0)throw new RangeError(`unmatched Hebrew month: ${r}`);const c=s[1].days;return typeof c=="number"?c:c[t]}estimateIsoDate(e){const{year:t}=e;return{year:t-3760,month:1,day:1}}getMonthCode(e,t){return this.inLeapYear({year:e})?t===6?zt(5,!0):zt(t<6?t:t-1):zt(t)}adjustCalendarDate(e,t,r="constrain",n=!1){let{year:i,eraYear:s,month:c,monthCode:d,day:h,monthExtra:u}=e;if(i===void 0&&s!==void 0&&(i=s),s===void 0&&i!==void 0&&(s=i),n){if(u){const m=this.months[u];if(!m)throw new RangeError(`Unrecognized month from formatToParts: ${u}`);c=this.inLeapYear({year:i})?m.leap:m.regular}return d=this.getMonthCode(i,c),{year:i,month:c,day:h,era:void 0,eraYear:s,monthCode:d}}if(this.validateCalendarDate(e),c===void 0)if(d.endsWith("L")){if(d!=="M05L")throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${d}`);if(c=6,!this.inLeapYear({year:i})){if(r==="reject")throw new RangeError(`Hebrew monthCode M05L is invalid in year ${i} which is not a leap year`);c=6,d="M06"}}else{c=Uo(d),this.inLeapYear({year:i})&&c>=6&&c++;const m=this.monthsInYear({year:i});if(c<1||c>m)throw new RangeError(`Invalid monthCode: ${d}`)}else if(r==="reject"?(je(c,1,this.monthsInYear({year:i})),je(h,1,this.maximumMonthLength({year:i,month:c}))):(c=it(c,1,this.monthsInYear({year:i})),h=it(h,1,this.maximumMonthLength({year:i,month:c}))),d===void 0)d=this.getMonthCode(i,c);else if(this.getMonthCode(i,c)!==d)throw new RangeError(`monthCode ${d} doesn't correspond to month ${c} in Hebrew year ${i}`);return{...e,day:h,month:c,monthCode:d,year:i,eraYear:s}}}class Sr extends qr{constructor(){super(...arguments),this.calendarType="lunar",this.DAYS_PER_ISLAMIC_YEAR=354+11/30,this.DAYS_PER_ISO_YEAR=365.2425,this.constantEra="ah"}inLeapYear(e,t){return this.daysInMonth({year:e.year,month:12,day:1},t)===30}monthsInYear(){return 12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}estimateIsoDate(e){const{year:t}=this.adjustCalendarDate(e);return{year:Es(t*this.DAYS_PER_ISLAMIC_YEAR/this.DAYS_PER_ISO_YEAR)+622,month:1,day:1}}}class Ya extends Sr{constructor(){super(...arguments),this.id="islamic"}}class _s extends Sr{constructor(){super(...arguments),this.id="islamic-umalqura"}}class Cs extends Sr{constructor(){super(...arguments),this.id="islamic-tbla"}}class Is extends Sr{constructor(){super(...arguments),this.id="islamic-civil"}}class Ms extends Sr{constructor(){super(...arguments),this.id="islamic-rgsa"}}class Os extends Sr{constructor(){super(...arguments),this.id="islamicc"}}class Rs extends qr{constructor(){super(...arguments),this.id="persian",this.calendarType="solar",this.constantEra="ap"}inLeapYear(e,t){return Ya.prototype.inLeapYear.call(this,e,t)}monthsInYear(){return 12}minimumMonthLength(e){const{month:t}=e;return t===12?29:t<=6?31:30}maximumMonthLength(e){const{month:t}=e;return t===12?30:t<=6?31:30}estimateIsoDate(e){const{year:t}=this.adjustCalendarDate(e);return{year:t+621,month:1,day:1}}}class ks extends qr{constructor(){super(...arguments),this.id="indian",this.calendarType="solar",this.constantEra="saka",this.months={1:{length:30,month:3,day:22,leap:{length:31,month:3,day:21}},2:{length:31,month:4,day:21},3:{length:31,month:5,day:22},4:{length:31,month:6,day:22},5:{length:31,month:7,day:23},6:{length:31,month:8,day:23},7:{length:30,month:9,day:23},8:{length:30,month:10,day:23},9:{length:30,month:11,day:22},10:{length:30,month:12,day:22},11:{length:30,month:1,nextYear:!0,day:21},12:{length:30,month:2,nextYear:!0,day:20}},this.vulnerableToBceBug=new Date("0000-01-01T00:00Z").toLocaleDateString("en-US-u-ca-indian",{timeZone:"UTC"})!=="10/11/-79 Saka"}inLeapYear(e){return Na(e.year+78)}monthsInYear(){return 12}minimumMonthLength(e){return this.getMonthInfo(e).length}maximumMonthLength(e){return this.getMonthInfo(e).length}getMonthInfo(e){const{month:t}=e;let r=this.months[t];if(r===void 0)throw new RangeError(`Invalid month: ${t}`);return this.inLeapYear(e)&&r.leap&&(r=r.leap),r}estimateIsoDate(e){const t=this.adjustCalendarDate(e),r=this.getMonthInfo(t);return ur(t.year+78+(r.nextYear?1:0),r.month,r.day,0,0,0,t.day-1,"constrain")}checkIcuBugs(e){if(this.vulnerableToBceBug&&e.year<1)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 0001-01-01 (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)`)}}function Na(o){return o%4==0&&(o%100!=0||o%400==0)}class un extends qr{constructor(e,t){super(),this.calendarType="solar",this.v8IsVulnerableToJulianBug=new Date("+001001-01-01T00:00Z").toLocaleDateString("en-US-u-ca-japanese",{timeZone:"UTC"}).startsWith("12"),this.calendarIsVulnerableToJulianBug=!1,this.id=e;const{eras:r,anchorEra:n}=function(s){let c,d=s;if(d.length===0)throw new RangeError("Invalid era data: eras are required");if(d.length===1&&d[0].reverseOf)throw new RangeError("Invalid era data: anchor era cannot count years backwards");if(d.length===1&&!d[0].name)throw new RangeError("Invalid era data: at least one named era is required");if(d.filter(u=>u.reverseOf!=null).length>1)throw new RangeError("Invalid era data: only one era can count years backwards");d.forEach(u=>{if(u.isAnchor||!u.anchorEpoch&&!u.reverseOf){if(c)throw new RangeError("Invalid era data: cannot have multiple anchor eras");c=u,u.anchorEpoch={year:u.hasYearZero?0:1}}else if(!u.name)throw new RangeError("If era name is blank, it must be the anchor era")}),d=d.filter(u=>u.name),d.forEach(u=>{const{reverseOf:m}=u;if(m){const f=d.find(y=>y.name===m);if(f===void 0)throw new RangeError(`Invalid era data: unmatched reverseOf era: ${m}`);u.reverseOf=f,u.anchorEpoch=f.anchorEpoch,u.isoEpoch=f.isoEpoch}u.anchorEpoch.month===void 0&&(u.anchorEpoch.month=1),u.anchorEpoch.day===void 0&&(u.anchorEpoch.day=1)}),vs.call(d,(u,m)=>{if(u.reverseOf)return 1;if(m.reverseOf)return-1;if(!u.isoEpoch||!m.isoEpoch)throw new RangeError("Invalid era data: missing ISO epoch");return m.isoEpoch.year-u.isoEpoch.year});const h=d[d.length-1].reverseOf;if(h&&h!==d[d.length-2])throw new RangeError("Invalid era data: invalid reverse-sign era");return d.forEach((u,m)=>{u.genericName="era"+(d.length-1-m)}),{eras:d,anchorEra:c||d[0]}}(t);this.anchorEra=n,this.eras=r}inLeapYear(e){const{year:t}=this.estimateIsoDate({month:1,day:1,year:e.year});return Na(t)}monthsInYear(){return 12}minimumMonthLength(e){const{month:t}=e;return t===2?this.inLeapYear(e)?29:28:[4,6,9,11].indexOf(t)>=0?30:31}maximumMonthLength(e){return this.minimumMonthLength(e)}completeEraYear(e){const t=(c,d)=>{const h=e[c];if(h!=null&&h!=d)throw new RangeError(`Input ${c} ${h} doesn't match calculated value ${d}`)},r=c=>{let d;const h={...e,year:c},u=this.eras.find((m,f)=>{if(f===this.eras.length-1){if(m.reverseOf){if(c>0)throw new RangeError(`Signed year ${c} is invalid for era ${m.name}`);return d=m.anchorEpoch.year-c,!0}return d=c-m.anchorEpoch.year+(m.hasYearZero?0:1),!0}return this.compareCalendarDates(h,m.anchorEpoch)>=0&&(d=c-m.anchorEpoch.year+(m.hasYearZero?0:1),!0)});if(!u)throw new RangeError(`Year ${c} was not matched by any era`);return{eraYear:d,era:u.name}};let{year:n,eraYear:i,era:s}=e;if(n!=null)({eraYear:i,era:s}=r(n)),t("era",s),t("eraYear",i);else{if(i==null)throw new RangeError("Either `year` or `eraYear` and `era` are required");{const c=s===void 0?void 0:this.eras.find(d=>d.name===s||d.genericName===s);if(!c)throw new RangeError(`Era ${s} (ISO year ${i}) was not matched by any era`);if(i<1&&c.reverseOf)throw new RangeError(`Years in ${s} era must be positive, not ${n}`);n=c.reverseOf?c.anchorEpoch.year-i:i+c.anchorEpoch.year-(c.hasYearZero?0:1),t("year",n),{eraYear:i,era:s}=r(n)}}return{...e,year:n,eraYear:i,era:s}}adjustCalendarDate(e,t,r="constrain"){let n=e;const{month:i,monthCode:s}=n;return i===void 0&&(n={...n,month:Uo(s)}),this.validateCalendarDate(n),n=this.completeEraYear(n),super.adjustCalendarDate(n,t,r)}estimateIsoDate(e){const t=this.adjustCalendarDate(e),{year:r,month:n,day:i}=t,{anchorEra:s}=this;return _n(r+s.isoEpoch.year-(s.hasYearZero?0:1),n,i,"constrain")}checkIcuBugs(e){if(this.calendarIsVulnerableToJulianBug&&this.v8IsVulnerableToJulianBug&&Kt(e.year,e.month,e.day,1582,10,15)<0)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 1582-10-15 (see https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)`)}}class qo extends un{constructor(e,t){super(e,t)}inLeapYear(e){const{year:t}=e;return(t+1)%4==0}monthsInYear(){return 13}minimumMonthLength(e){const{month:t}=e;return t===13?this.inLeapYear(e)?6:5:30}maximumMonthLength(e){return this.minimumMonthLength(e)}}class $s extends qo{constructor(){super("ethioaa",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}}])}}class Ys extends qo{constructor(){super("coptic",[{name:"era1",isoEpoch:{year:284,month:8,day:29}},{name:"era0",reverseOf:"era1"}])}}class Ns extends qo{constructor(){super("ethiopic",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}},{name:"era1",isoEpoch:{year:8,month:8,day:27},anchorEpoch:{year:5501}}])}}class Ps extends un{constructor(){super("roc",[{name:"minguo",isoEpoch:{year:1912,month:1,day:1}},{name:"before-roc",reverseOf:"minguo"}]),this.calendarIsVulnerableToJulianBug=!0}}class Fs extends un{constructor(){super("buddhist",[{name:"be",hasYearZero:!0,isoEpoch:{year:-543,month:1,day:1}}]),this.calendarIsVulnerableToJulianBug=!0}}class js extends un{constructor(){super("gregory",[{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}])}reviseIntlEra(e){let{era:t,eraYear:r}=e;return t!=="bc"&&t!=="b"||(t="bce"),t!=="ad"&&t!=="a"||(t="ce"),{era:t,eraYear:r}}}class xs extends un{constructor(){super("japanese",[{name:"reiwa",isoEpoch:{year:2019,month:5,day:1},anchorEpoch:{year:2019,month:5,day:1}},{name:"heisei",isoEpoch:{year:1989,month:1,day:8},anchorEpoch:{year:1989,month:1,day:8}},{name:"showa",isoEpoch:{year:1926,month:12,day:25},anchorEpoch:{year:1926,month:12,day:25}},{name:"taisho",isoEpoch:{year:1912,month:7,day:30},anchorEpoch:{year:1912,month:7,day:30}},{name:"meiji",isoEpoch:{year:1868,month:9,day:8},anchorEpoch:{year:1868,month:9,day:8}},{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}]),this.calendarIsVulnerableToJulianBug=!0,this.eraLength="long",this.erasBeginMidYear=!0}reviseIntlEra(e,t){const{era:r,eraYear:n}=e,{year:i}=t;return this.eras.find(s=>s.name===r)?{era:r,eraYear:n}:i<1?{era:"bce",eraYear:1-i}:{era:"ce",eraYear:i}}}class Pa extends qr{constructor(){super(...arguments),this.calendarType="lunisolar",this.hasEra=!1}inLeapYear(e,t){const r=this.getMonthList(e.year,t);return Lo(r).length===13}monthsInYear(e,t){return this.inLeapYear(e,t)?13:12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}getMonthList(e,t){if(e===void 0)throw new TypeError("Missing year");const r=JSON.stringify({func:"getMonthList",calendarYear:e,id:this.id}),n=t.get(r);if(n)return n;const i=this.getFormatter(),s=(w,T)=>{const b=$a({isoYear:w,isoMonth:2,isoDay:1}),E=new Date(b);E.setUTCDate(T+1);const D=i.formatToParts(E),M=D.find($=>$.type==="month").value,C=+D.find($=>$.type==="day").value;let _=D.find($=>$.type==="relatedYear");if(_===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);return _=+_.value,{calendarMonthString:M,calendarDay:C,calendarYearToVerify:_}};let c=17,{calendarMonthString:d,calendarDay:h,calendarYearToVerify:u}=s(e,c);d!=="1"&&(c+=29,{calendarMonthString:d,calendarDay:h}=s(e,c)),c-=h-5;const m={};let f,y,g=1,p=!1;do({calendarMonthString:d,calendarDay:h,calendarYearToVerify:u}=s(e,c)),f&&(m[y].daysInMonth=f+30-h),u!==e?p=!0:(m[d]={monthIndex:g++},c+=30),f=h,y=d;while(!p);return m[y].daysInMonth=f+30-h,t.set(r,m),m}estimateIsoDate(e){const{year:t,month:r}=e;return{year:t,month:r>=12?12:r+1,day:1}}adjustCalendarDate(e,t,r="constrain",n=!1){let{year:i,month:s,monthExtra:c,day:d,monthCode:h,eraYear:u}=e;if(n){if(i=u,c&&c!=="bis")throw new RangeError(`Unexpected leap month suffix: ${c}`);const m=zt(s,c!==void 0),f=`${s}${c||""}`,y=this.getMonthList(i,t)[f];if(y===void 0)throw new RangeError(`Unmatched month ${f} in Chinese year ${i}`);return s=y.monthIndex,{year:i,month:s,day:d,era:void 0,eraYear:u,monthCode:m}}if(this.validateCalendarDate(e),i===void 0&&(i=u),u===void 0&&(u=i),s===void 0){const m=this.getMonthList(i,t);let f=h.replace("L","bis").slice(1);f[0]==="0"&&(f=f.slice(1));let y=m[f];if(s=y&&y.monthIndex,s===void 0&&h.endsWith("L")&&h!="M13L"&&r==="constrain"){let g=h.slice(1,-1);g[0]==="0"&&(g=g.slice(1)),y=m[g],y&&(s=y.monthIndex,h=zt(g))}if(s===void 0)throw new RangeError(`Unmatched month ${h} in Chinese year ${i}`)}else if(h===void 0){const m=this.getMonthList(i,t),f=Lo(m),y=f.length;r==="reject"?(je(s,1,y),je(d,1,this.maximumMonthLength())):(s=it(s,1,y),d=it(d,1,this.maximumMonthLength()));const g=f.find(([,p])=>p.monthIndex===s);if(g===void 0)throw new RangeError(`Invalid month ${s} in Chinese year ${i}`);h=zt(g[0].replace("bis",""),g[0].indexOf("bis")!==-1)}else{const m=this.getMonthList(i,t);let f=h.replace("L","bis").slice(1);f[0]==="0"&&(f=f.slice(1));const y=m[f];if(!y)throw new RangeError(`Unmatched monthCode ${h} in Chinese year ${i}`);if(s!==y.monthIndex)throw new RangeError(`monthCode ${h} doesn't correspond to month ${s} in Chinese year ${i}`)}return{...e,year:i,eraYear:u,month:s,monthCode:h,day:d}}}class As extends Pa{constructor(){super(...arguments),this.id="chinese"}}class Ls extends Pa{constructor(){super(...arguments),this.id="dangi"}}class Us{constructor(e){this.helper=e}dateFromFields(e,t,r){const n=new fe,i=G(e,this.fields(["day","month","monthCode","year"]),[]),s=be(t),{year:c,month:d,day:h}=this.helper.calendarToIsoDate(i,s,n),u=yt(c,d,h,r);return n.setObject(u),u}yearMonthFromFields(e,t,r){const n=new fe,i=G(e,this.fields(["month","monthCode","year"]),[]),s=be(t),{year:c,month:d,day:h}=this.helper.calendarToIsoDate({...i,day:1},s,n),u=rn(c,d,r,h);return n.setObject(u),u}monthDayFromFields(e,t,r){const n=new fe,i=G(e,this.fields(["day","month","monthCode","year"]),[]),s=be(t),{year:c,month:d,day:h}=this.helper.monthDayFromFields(i,s,n),u=tn(d,h,r,c);return n.setObject(u),u}fields(e){let t=e;return Ma.call(t,"year")&&(t=[...t,"era","eraYear"]),t}fieldKeysToIgnore(e){const t=new Oa;for(let r=0;r<e.length;r++){const n=e[r];switch(F(qe,t,[n]),n){case"era":F(qe,t,["eraYear"]),F(qe,t,["year"]);break;case"eraYear":F(qe,t,["era"]),F(qe,t,["year"]);break;case"year":F(qe,t,["era"]),F(qe,t,["eraYear"]);break;case"month":F(qe,t,["monthCode"]),this.helper.erasBeginMidYear&&(F(qe,t,["era"]),F(qe,t,["eraYear"]));break;case"monthCode":F(qe,t,["month"]),this.helper.erasBeginMidYear&&(F(qe,t,["era"]),F(qe,t,["eraYear"]));break;case"day":this.helper.erasBeginMidYear&&(F(qe,t,["era"]),F(qe,t,["eraYear"]))}}return[...F(ka,t,[])]}dateAdd(e,t,r,n,i,s,c){const d=fe.getCacheForObject(e),h=this.helper.temporalToCalendarDate(e,d),u=this.helper.addCalendar(h,{years:t,months:r,weeks:n,days:i},s,d),m=this.helper.calendarToIsoDate(u,"constrain",d),{year:f,month:y,day:g}=m,p=yt(f,y,g,c);return new fe(d).setObject(p),p}dateUntil(e,t,r){const n=fe.getCacheForObject(e),i=fe.getCacheForObject(t),s=this.helper.temporalToCalendarDate(e,n),c=this.helper.temporalToCalendarDate(t,i);return this.helper.untilCalendar(s,c,r,n)}year(e){const t=fe.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).year}month(e){const t=fe.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).month}day(e){const t=fe.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).day}era(e){if(!this.helper.hasEra)return;const t=fe.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).era}eraYear(e){if(!this.helper.hasEra)return;const t=fe.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).eraYear}monthCode(e){const t=fe.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).monthCode}dayOfWeek(e){return he.iso8601.dayOfWeek(e)}dayOfYear(e){const t=fe.getCacheForObject(e),r=this.helper.isoToCalendarDate(e,t),n=this.helper.startOfCalendarYear(r);return this.helper.calendarDaysUntil(n,r,t)+1}weekOfYear(e){return he.iso8601.weekOfYear(e)}yearOfWeek(e){return he.iso8601.yearOfWeek(e)}daysInWeek(e){return he.iso8601.daysInWeek(e)}daysInMonth(e){const t=fe.getCacheForObject(e),r=this.helper.temporalToCalendarDate(e,t),n=this.helper.maximumMonthLength(r);if(n===this.helper.minimumMonthLength(r))return n;const i=this.helper.startOfCalendarMonth(r),s=this.helper.addMonthsCalendar(i,1,"constrain",t);return this.helper.calendarDaysUntil(i,s,t)}daysInYear(e){let t=e;Re(t,O)||(t=ae(t));const r=fe.getCacheForObject(t),n=this.helper.temporalToCalendarDate(t,r),i=this.helper.startOfCalendarYear(n),s=this.helper.addCalendar(i,{years:1},"constrain",r);return this.helper.calendarDaysUntil(i,s,r)}monthsInYear(e){const t=fe.getCacheForObject(e),r=this.helper.temporalToCalendarDate(e,t);return this.helper.monthsInYear(r,t)}inLeapYear(e){let t=e;Re(t,O)||(t=ae(t));const r=fe.getCacheForObject(t),n=this.helper.temporalToCalendarDate(t,r);return this.helper.inLeapYear(n,r)}}for(const o of[Ds,Rs,Ns,$s,Ys,As,Ls,Ps,ks,Fs,js,xs,Ya,_s,Cs,Is,Ms,Os]){const e=new o;he[e.id]=new Us(e)}class mn{constructor(e,t,r,n="iso8601"){_i(this,ee(e),ee(t),ee(r),ot(n))}get calendarId(){if(!X(this))throw new TypeError("invalid receiver");return Fe(a(this,v))}get era(){if(!X(this))throw new TypeError("invalid receiver");return Yn(a(this,v),this)}get eraYear(){if(!X(this))throw new TypeError("invalid receiver");return Nn(a(this,v),this)}get year(){if(!X(this))throw new TypeError("invalid receiver");return kn(a(this,v),this)}get month(){if(!X(this))throw new TypeError("invalid receiver");return $n(a(this,v),this)}get monthCode(){if(!X(this))throw new TypeError("invalid receiver");return nn(a(this,v),this)}get day(){if(!X(this))throw new TypeError("invalid receiver");return on(a(this,v),this)}get dayOfWeek(){if(!X(this))throw new TypeError("invalid receiver");return uo(a(this,v),this)}get dayOfYear(){if(!X(this))throw new TypeError("invalid receiver");return mo(a(this,v),this)}get weekOfYear(){if(!X(this))throw new TypeError("invalid receiver");return fo(a(this,v),this)}get yearOfWeek(){if(!X(this))throw new TypeError("invalid receiver");return yo(a(this,v),this)}get daysInWeek(){if(!X(this))throw new TypeError("invalid receiver");return go(a(this,v),this)}get daysInMonth(){if(!X(this))throw new TypeError("invalid receiver");return Pn(a(this,v),this)}get daysInYear(){if(!X(this))throw new TypeError("invalid receiver");return Fn(a(this,v),this)}get monthsInYear(){if(!X(this))throw new TypeError("invalid receiver");return jn(a(this,v),this)}get inLeapYear(){if(!X(this))throw new TypeError("invalid receiver");return xn(a(this,v),this)}with(e,t){if(!X(this))throw new TypeError("invalid receiver");if(!ce(e))throw new TypeError("invalid argument");Dr(e);const r=K(t),n=a(this,v),i=_e(n,["day","month","monthCode","year"]);let s=G(this,i,[]);return s=lr(n,s,G(e,i,"partial")),s=G(s,i,[]),At(n,s,r)}withCalendar(e){if(!X(this))throw new TypeError("invalid receiver");const t=ot(e);return new mn(a(this,O),a(this,k),a(this,Y),t)}add(e,t){if(!X(this))throw new TypeError("invalid receiver");const r=Mr(e),n=K(t);return Pe(a(this,v),this,r,n)}subtract(e,t){if(!X(this))throw new TypeError("invalid receiver");const r=Hi(Mr(e)),n=K(t);return Pe(a(this,v),this,r,n)}until(e,t){if(!X(this))throw new TypeError("invalid receiver");return ta("until",this,e,t)}since(e,t){if(!X(this))throw new TypeError("invalid receiver");return ta("since",this,e,t)}equals(e){if(!X(this))throw new TypeError("invalid receiver");const t=ae(e);for(const r of[O,k,Y])if(a(this,r)!==a(t,r))return!1;return sn(a(this,v),a(t,v))}toString(e){if(!X(this))throw new TypeError("invalid receiver");return Pi(this,Vr(K(e)))}toJSON(){if(!X(this))throw new TypeError("invalid receiver");return Pi(this)}toLocaleString(e,t){if(!X(this))throw new TypeError("invalid receiver");return new tr(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDate")}toPlainDateTime(e){if(!X(this))throw new TypeError("invalid receiver");const t=a(this,O),r=a(this,k),n=a(this,Y),i=a(this,v);if(e===void 0)return nt(t,r,n,0,0,0,0,0,0,i);const s=xt(e);return nt(t,r,n,a(s,U),a(s,Z),a(s,q),a(s,S),a(s,B),a(s,z),i)}toZonedDateTime(e){if(!X(this))throw new TypeError("invalid receiver");let t,r;if(ce(e))if(ft(e))t=e;else{const g=e.timeZone;g===void 0?t=Ue(e):(t=Ue(g),r=e.plainTime)}else t=Ue(e);const n=a(this,O),i=a(this,k),s=a(this,Y),c=a(this,v);let d=0,h=0,u=0,m=0,f=0,y=0;return r!==void 0&&(r=xt(r),d=a(r,U),h=a(r,Z),u=a(r,q),m=a(r,S),f=a(r,B),y=a(r,z)),Ne(a(Je(t,nt(n,i,s,d,h,u,m,f,y,c),"compatible"),j),t,c)}toPlainYearMonth(){if(!X(this))throw new TypeError("invalid receiver");const e=a(this,v);return cr(e,G(this,_e(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!X(this))throw new TypeError("invalid receiver");const e=a(this,v);return Rr(e,G(this,_e(e,["day","monthCode"]),[]))}getISOFields(){if(!X(this))throw new TypeError("invalid receiver");return{calendar:a(this,v),isoDay:a(this,Y),isoMonth:a(this,k),isoYear:a(this,O)}}getCalendar(){if(!X(this))throw new TypeError("invalid receiver");return Or(a(this,v))}static from(e,t){const r=K(t);return X(e)?(be(r),yt(a(e,O),a(e,k),a(e,Y),a(e,v))):ae(e,r)}static compare(e,t){const r=ae(e),n=ae(t);return Kt(a(r,O),a(r,k),a(r,Y),a(n,O),a(n,k),a(n,Y))}}_t(mn,"Temporal.PlainDate");class fn{constructor(e,t,r,n=0,i=0,s=0,c=0,d=0,h=0,u="iso8601"){Ci(this,ee(e),ee(t),ee(r),n===void 0?0:ee(n),i===void 0?0:ee(i),s===void 0?0:ee(s),c===void 0?0:ee(c),d===void 0?0:ee(d),h===void 0?0:ee(h),ot(u))}get calendarId(){if(!L(this))throw new TypeError("invalid receiver");return Fe(a(this,v))}get year(){if(!L(this))throw new TypeError("invalid receiver");return kn(a(this,v),this)}get month(){if(!L(this))throw new TypeError("invalid receiver");return $n(a(this,v),this)}get monthCode(){if(!L(this))throw new TypeError("invalid receiver");return nn(a(this,v),this)}get day(){if(!L(this))throw new TypeError("invalid receiver");return on(a(this,v),this)}get hour(){if(!L(this))throw new TypeError("invalid receiver");return a(this,U)}get minute(){if(!L(this))throw new TypeError("invalid receiver");return a(this,Z)}get second(){if(!L(this))throw new TypeError("invalid receiver");return a(this,q)}get millisecond(){if(!L(this))throw new TypeError("invalid receiver");return a(this,S)}get microsecond(){if(!L(this))throw new TypeError("invalid receiver");return a(this,B)}get nanosecond(){if(!L(this))throw new TypeError("invalid receiver");return a(this,z)}get era(){if(!L(this))throw new TypeError("invalid receiver");return Yn(a(this,v),this)}get eraYear(){if(!L(this))throw new TypeError("invalid receiver");return Nn(a(this,v),this)}get dayOfWeek(){if(!L(this))throw new TypeError("invalid receiver");return uo(a(this,v),this)}get dayOfYear(){if(!L(this))throw new TypeError("invalid receiver");return mo(a(this,v),this)}get weekOfYear(){if(!L(this))throw new TypeError("invalid receiver");return fo(a(this,v),this)}get yearOfWeek(){if(!L(this))throw new TypeError("invalid receiver");return yo(a(this,v),this)}get daysInWeek(){if(!L(this))throw new TypeError("invalid receiver");return go(a(this,v),this)}get daysInYear(){if(!L(this))throw new TypeError("invalid receiver");return Fn(a(this,v),this)}get daysInMonth(){if(!L(this))throw new TypeError("invalid receiver");return Pn(a(this,v),this)}get monthsInYear(){if(!L(this))throw new TypeError("invalid receiver");return jn(a(this,v),this)}get inLeapYear(){if(!L(this))throw new TypeError("invalid receiver");return xn(a(this,v),this)}with(e,t){if(!L(this))throw new TypeError("invalid receiver");if(!ce(e))throw new TypeError("invalid argument");Dr(e);const r=K(t),n=a(this,v),i=_e(n,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);let s=G(this,i,[]);s=lr(n,s,G(e,i,"partial")),s=G(s,i,[]);const{year:c,month:d,day:h,hour:u,minute:m,second:f,millisecond:y,microsecond:g,nanosecond:p}=Qr(n,s,r);return nt(c,d,h,u,m,f,y,g,p,n)}withPlainTime(e){if(!L(this))throw new TypeError("invalid receiver");const t=a(this,O),r=a(this,k),n=a(this,Y),i=a(this,v);if(e===void 0)return nt(t,r,n,0,0,0,0,0,0,i);const s=xt(e);return nt(t,r,n,a(s,U),a(s,Z),a(s,q),a(s,S),a(s,B),a(s,z),i)}withPlainDate(e){if(!L(this))throw new TypeError("invalid receiver");const t=ae(e),r=a(t,O),n=a(t,k),i=a(t,Y);let s=a(t,v);const c=a(this,U),d=a(this,Z),h=a(this,q),u=a(this,S),m=a(this,B),f=a(this,z);return s=Ri(a(this,v),s),nt(r,n,i,c,d,h,u,m,f,s)}withCalendar(e){if(!L(this))throw new TypeError("invalid receiver");const t=ot(e);return new fn(a(this,O),a(this,k),a(this,Y),a(this,U),a(this,Z),a(this,q),a(this,S),a(this,B),a(this,z),t)}add(e,t){if(!L(this))throw new TypeError("invalid receiver");return da("add",this,e,t)}subtract(e,t){if(!L(this))throw new TypeError("invalid receiver");return da("subtract",this,e,t)}until(e,t){if(!L(this))throw new TypeError("invalid receiver");return ra("until",this,e,t)}since(e,t){if(!L(this))throw new TypeError("invalid receiver");return ra("since",this,e,t)}round(e){if(!L(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const t=typeof e=="string"?Fr("smallestUnit",e):K(e),r=Cr(t),n=vt(t,"halfExpand"),i=rt(t,"smallestUnit","time",ir,["day"]),s={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[i];Ir(r,s,s===1);let c=a(this,O),d=a(this,k),h=a(this,Y),u=a(this,U),m=a(this,Z),f=a(this,q),y=a(this,S),g=a(this,B),p=a(this,z);return{year:c,month:d,day:h,hour:u,minute:m,second:f,millisecond:y,microsecond:g,nanosecond:p}=$o(c,d,h,u,m,f,y,g,p,r,i,n),nt(c,d,h,u,m,f,y,g,p,a(this,v))}equals(e){if(!L(this))throw new TypeError("invalid receiver");const t=sr(e);for(const r of[O,k,Y,U,Z,q,S,B,z])if(a(this,r)!==a(t,r))return!1;return sn(a(this,v),a(t,v))}toString(e){if(!L(this))throw new TypeError("invalid receiver");const t=K(e),r=Vr(t),n=Xr(t),i=vt(t,"trunc"),s=rt(t,"smallestUnit","time",void 0);if(s==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:c,unit:d,increment:h}=Kr(s,n);return Fi(this,c,r,{unit:d,increment:h,roundingMode:i})}toJSON(){if(!L(this))throw new TypeError("invalid receiver");return Fi(this,"auto")}toLocaleString(e,t){if(!L(this))throw new TypeError("invalid receiver");return new tr(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDateTime")}toZonedDateTime(e,t){if(!L(this))throw new TypeError("invalid receiver");const r=Ue(e);return Ne(a(Je(r,this,_r(K(t))),j),r,a(this,v))}toPlainDate(){if(!L(this))throw new TypeError("invalid receiver");return kr(this)}toPlainYearMonth(){if(!L(this))throw new TypeError("invalid receiver");const e=a(this,v);return cr(e,G(this,_e(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!L(this))throw new TypeError("invalid receiver");const e=a(this,v);return Rr(e,G(this,_e(e,["day","monthCode"]),[]))}toPlainTime(){if(!L(this))throw new TypeError("invalid receiver");return po(this)}getISOFields(){if(!L(this))throw new TypeError("invalid receiver");return{calendar:a(this,v),isoDay:a(this,Y),isoHour:a(this,U),isoMicrosecond:a(this,B),isoMillisecond:a(this,S),isoMinute:a(this,Z),isoMonth:a(this,k),isoNanosecond:a(this,z),isoSecond:a(this,q),isoYear:a(this,O)}}getCalendar(){if(!L(this))throw new TypeError("invalid receiver");return Or(a(this,v))}static from(e,t){const r=K(t);return L(e)?(be(r),nt(a(e,O),a(e,k),a(e,Y),a(e,U),a(e,Z),a(e,q),a(e,S),a(e,B),a(e,z),a(e,v))):sr(e,r)}static compare(e,t){const r=sr(e),n=sr(t);for(const i of[O,k,Y,U,Z,q,S,B,z]){const s=a(r,i),c=a(n,i);if(s!==c)return fr(s-c)}return 0}}_t(fn,"Temporal.PlainDateTime");class rr{constructor(e=0,t=0,r=0,n=0,i=0,s=0,c=0,d=0,h=0,u=0){const m=e===void 0?0:ke(e),f=t===void 0?0:ke(t),y=r===void 0?0:ke(r),g=n===void 0?0:ke(n),p=i===void 0?0:ke(i),w=s===void 0?0:ke(s),T=c===void 0?0:ke(c),b=d===void 0?0:ke(d),E=h===void 0?0:ke(h),D=u===void 0?0:ke(u);Gn(m,f,y,g,p,w,T,b,E,D),It(this),W(this,Se,m),W(this,Ye,f),W(this,et,y),W(this,Be,g),W(this,ze,p),W(this,We,w),W(this,Ge,T),W(this,He,b),W(this,Ve,E),W(this,Xe,D)}get years(){if(!pe(this))throw new TypeError("invalid receiver");return a(this,Se)}get months(){if(!pe(this))throw new TypeError("invalid receiver");return a(this,Ye)}get weeks(){if(!pe(this))throw new TypeError("invalid receiver");return a(this,et)}get days(){if(!pe(this))throw new TypeError("invalid receiver");return a(this,Be)}get hours(){if(!pe(this))throw new TypeError("invalid receiver");return a(this,ze)}get minutes(){if(!pe(this))throw new TypeError("invalid receiver");return a(this,We)}get seconds(){if(!pe(this))throw new TypeError("invalid receiver");return a(this,Ge)}get milliseconds(){if(!pe(this))throw new TypeError("invalid receiver");return a(this,He)}get microseconds(){if(!pe(this))throw new TypeError("invalid receiver");return a(this,Ve)}get nanoseconds(){if(!pe(this))throw new TypeError("invalid receiver");return a(this,Xe)}get sign(){if(!pe(this))throw new TypeError("invalid receiver");return $t(a(this,Se),a(this,Ye),a(this,et),a(this,Be),a(this,ze),a(this,We),a(this,Ge),a(this,He),a(this,Ve),a(this,Xe))}get blank(){if(!pe(this))throw new TypeError("invalid receiver");return $t(a(this,Se),a(this,Ye),a(this,et),a(this,Be),a(this,ze),a(this,We),a(this,Ge),a(this,He),a(this,Ve),a(this,Xe))===0}with(e){if(!pe(this))throw new TypeError("invalid receiver");const t=G(e,["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"],"partial"),{years:r=a(this,Se),months:n=a(this,Ye),weeks:i=a(this,et),days:s=a(this,Be),hours:c=a(this,ze),minutes:d=a(this,We),seconds:h=a(this,Ge),milliseconds:u=a(this,He),microseconds:m=a(this,Ve),nanoseconds:f=a(this,Xe)}=t;return new rr(r,n,i,s,c,d,h,u,m,f)}negated(){if(!pe(this))throw new TypeError("invalid receiver");return Hi(this)}abs(){if(!pe(this))throw new TypeError("invalid receiver");return new rr(Math.abs(a(this,Se)),Math.abs(a(this,Ye)),Math.abs(a(this,et)),Math.abs(a(this,Be)),Math.abs(a(this,ze)),Math.abs(a(this,We)),Math.abs(a(this,Ge)),Math.abs(a(this,He)),Math.abs(a(this,Ve)),Math.abs(a(this,Xe)))}add(e,t){if(!pe(this))throw new TypeError("invalid receiver");return la("add",this,e,t)}subtract(e,t){if(!pe(this))throw new TypeError("invalid receiver");return la("subtract",this,e,t)}round(e){if(!pe(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let t=a(this,Se),r=a(this,Ye),n=a(this,et),i=a(this,Be),s=a(this,ze),c=a(this,We),d=a(this,Ge),h=a(this,He),u=a(this,Ve),m=a(this,Xe),f=ho(t,r,n,i,s,c,d,h,u,m);const y=typeof e=="string"?Fr("smallestUnit",e):K(e);let g=rt(y,"largestUnit","datetime",void 0,["auto"]),p=Mn(y);const w=Cr(y),T=vt(y,"halfExpand");let b=rt(y,"smallestUnit","datetime",void 0),E=!0;b||(E=!1,b="nanosecond"),f=ar(f,b);let D=!0;if(g||(D=!1,g=f),g==="auto"&&(g=f),!E&&!D)throw new RangeError("at least one of smallestUnit or largestUnit is required");if(ar(g,b)!==g)throw new RangeError(`largestUnit ${g} cannot be smaller than smallestUnit ${b}`);const M={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[b];return M!==void 0&&Ir(w,M,!1),{years:t,months:r,weeks:n,days:i}=zn(t,r,n,i,g,p),{years:t,months:r,weeks:n,days:i,hours:s,minutes:c,seconds:d,milliseconds:h,microseconds:u,nanoseconds:m}=qt(t,r,n,i,s,c,d,h,u,m,w,b,T,p),{years:t,months:r,weeks:n,days:i,hours:s,minutes:c,seconds:d,milliseconds:h,microseconds:u,nanoseconds:m}=ya(t,r,n,i,s,c,d,h,u,m,w,b,T,p),{days:i,hours:s,minutes:c,seconds:d,milliseconds:h,microseconds:u,nanoseconds:m}=pt(i,s,c,d,h,u,m,g,p),{years:t,months:r,weeks:n,days:i}=function(_,$,P,oe,Q,J){const x=I("%Temporal.Duration%"),H=$t(_,$,P,oe,0,0,0,0,0,0);if(H===0)return{years:_,months:$,weeks:P,days:oe};const R=l.BigInt(H);let A,V,Ce=l.BigInt(_),Me=l.BigInt($),Oe=l.BigInt(P),Ee=l.BigInt(oe);J&&(V=ae(J),A=a(V,v));const ct=new x(H),Ft=new x(0,H),jt=new x(0,0,H);switch(Q){case"year":{if(!A)throw new RangeError("a starting point is required for years balancing");const dt=typeof A!="string"?ne(A,"dateAdd"):void 0;let xe,ht,Jn;for({relativeTo:xe,days:ht}=Ze(A,V,ct,dt);l.greaterThanOrEqual(Tt(Ee),l.BigInt(le(ht)));)Ee=l.subtract(Ee,l.BigInt(ht)),Ce=l.add(Ce,R),V=xe,{relativeTo:xe,days:ht}=Ze(A,V,ct,dt);for({relativeTo:xe,days:Jn}=Ze(A,V,Ft,dt);l.greaterThanOrEqual(Tt(Ee),l.BigInt(le(Jn)));)Ee=l.subtract(Ee,l.BigInt(Jn)),Me=l.add(Me,R),V=xe,{relativeTo:xe,days:Jn}=Ze(A,V,Ft,dt);xe=Pe(A,V,ct,void 0,dt);const La=typeof A!="string"?ne(A,"dateUntil"):void 0,Ua=Le(null);Ua.largestUnit="month";let Vo=Gt(A,V,xe,Ua,La),Xo=a(Vo,Ye);for(;l.greaterThanOrEqual(Tt(Me),l.BigInt(le(Xo)));){Me=l.subtract(Me,l.BigInt(Xo)),Ce=l.add(Ce,R),V=xe,xe=Pe(A,V,ct,void 0,dt);const Za=Le(null);Za.largestUnit="month",Vo=Gt(A,V,xe,Za,La),Xo=a(Vo,Ye)}break}case"month":{if(!A)throw new RangeError("a starting point is required for months balancing");const dt=typeof A!="string"?ne(A,"dateAdd"):void 0;let xe,ht;for({relativeTo:xe,days:ht}=Ze(A,V,Ft,dt);l.greaterThanOrEqual(Tt(Ee),l.BigInt(le(ht)));)Ee=l.subtract(Ee,l.BigInt(ht)),Me=l.add(Me,R),V=xe,{relativeTo:xe,days:ht}=Ze(A,V,Ft,dt);break}case"week":{if(!A)throw new RangeError("a starting point is required for weeks balancing");const dt=typeof A!="string"?ne(A,"dateAdd"):void 0;let xe,ht;for({relativeTo:xe,days:ht}=Ze(A,V,jt,dt);l.greaterThanOrEqual(Tt(Ee),l.BigInt(le(ht)));)Ee=l.subtract(Ee,l.BigInt(ht)),Oe=l.add(Oe,R),V=xe,{relativeTo:xe,days:ht}=Ze(A,V,jt,dt);break}}return{years:l.toNumber(Ce),months:l.toNumber(Me),weeks:l.toNumber(Oe),days:l.toNumber(Ee)}}(t,r,n,i,g,p),new rr(t,r,n,i,s,c,d,h,u,m)}total(e){if(!pe(this))throw new TypeError("invalid receiver");let t=a(this,Se),r=a(this,Ye),n=a(this,et),i=a(this,Be),s=a(this,ze),c=a(this,We),d=a(this,Ge),h=a(this,He),u=a(this,Ve),m=a(this,Xe);if(e===void 0)throw new TypeError("options argument is required");const f=typeof e=="string"?Fr("unit",e):K(e),y=Mn(f),g=rt(f,"unit","datetime",ir);let p;({years:t,months:r,weeks:n,days:i}=zn(t,r,n,i,g,y)),N(y)&&(p=fa(y,t,r,n,0));let w=Wi(i,s,c,d,h,u,m,g,p);if(w==="positive overflow")return 1/0;if(w==="negative overflow")return-1/0;({days:i,hours:s,minutes:c,seconds:d,milliseconds:h,microseconds:u,nanoseconds:m}=w);const{total:T}=qt(t,r,n,i,s,c,d,h,u,m,1,g,"trunc",y);return T}toString(e){if(!pe(this))throw new TypeError("invalid receiver");const t=K(e),r=Xr(t),n=vt(t,"trunc"),i=rt(t,"smallestUnit","time",void 0);if(i==="hour"||i==="minute")throw new RangeError('smallestUnit must be a time unit other than "hours" or "minutes"');const{precision:s,unit:c,increment:d}=Kr(i,r);return To(this,s,{unit:c,increment:d,roundingMode:n})}toJSON(){if(!pe(this))throw new TypeError("invalid receiver");return To(this)}toLocaleString(e,t){if(!pe(this))throw new TypeError("invalid receiver");return typeof Intl<"u"&&Intl.DurationFormat!==void 0?new Intl.DurationFormat(e,t).format(this):(console.warn("Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat."),To(this))}valueOf(){throw new TypeError("use compare() to compare Temporal.Duration")}static from(e){return pe(e)?new rr(a(e,Se),a(e,Ye),a(e,et),a(e,Be),a(e,ze),a(e,We),a(e,Ge),a(e,He),a(e,Ve),a(e,Xe)):Mr(e)}static compare(e,t,r){const n=Mr(e),i=Mr(t),s=Mn(K(r)),c=a(n,Se),d=a(n,Ye),h=a(n,et);let u=a(n,Be);const m=a(n,ze),f=a(n,We),y=a(n,Ge),g=a(n,He),p=a(n,Ve);let w=a(n,Xe);const T=a(i,Se),b=a(i,Ye),E=a(i,et);let D=a(i,Be);const M=a(i,ze),C=a(i,We),_=a(i,Ge),$=a(i,He),P=a(i,Ve);let oe=a(i,Xe);const Q=Gi(s,c,d,h,u),J=Gi(s,T,b,E,D);c===0&&T===0&&d===0&&b===0&&h===0&&E===0||({days:u}=zn(c,d,h,u,"day",s),{days:D}=zn(T,b,E,D,"day",s));const x=Yr(u,m,f,y,g,p,w,Q),H=Yr(D,M,C,_,$,P,oe,J);return fr(l.toNumber(l.subtract(x,H)))}}_t(rr,"Temporal.Duration");const Zs=Object.create;class So{constructor(e,t,r="iso8601",n=1972){Ii(this,ee(e),ee(t),ot(r),ee(n))}get monthCode(){if(!$e(this))throw new TypeError("invalid receiver");return nn(a(this,v),this)}get day(){if(!$e(this))throw new TypeError("invalid receiver");return on(a(this,v),this)}get calendarId(){if(!$e(this))throw new TypeError("invalid receiver");return Fe(a(this,v))}with(e,t){if(!$e(this))throw new TypeError("invalid receiver");if(!ce(e))throw new TypeError("invalid argument");Dr(e);const r=K(t),n=a(this,v),i=_e(n,["day","month","monthCode","year"]);let s=G(this,i,[]);return s=lr(n,s,G(e,i,"partial")),s=G(s,i,[]),Rr(n,s,r)}equals(e){if(!$e(this))throw new TypeError("invalid receiver");const t=Di(e);for(const r of[k,Y,O])if(a(this,r)!==a(t,r))return!1;return sn(a(this,v),a(t,v))}toString(e){if(!$e(this))throw new TypeError("invalid receiver");return ji(this,Vr(K(e)))}toJSON(){if(!$e(this))throw new TypeError("invalid receiver");return ji(this)}toLocaleString(e,t){if(!$e(this))throw new TypeError("invalid receiver");return new tr(e,t).format(this)}valueOf(){throw new TypeError("use equals() to compare Temporal.PlainMonthDay")}toPlainDate(e){if(!$e(this))throw new TypeError("invalid receiver");if(!ce(e))throw new TypeError("argument should be an object");const t=a(this,v),r=_e(t,["day","monthCode"]),n=G(this,r,[]),i=_e(t,["year"]);let s=lr(t,n,G(e,i,[]));s=G(s,[...new Set([...r,...i])],[]);const c=Zs(null);return c.overflow="reject",At(t,s,c)}getISOFields(){if(!$e(this))throw new TypeError("invalid receiver");return{calendar:a(this,v),isoDay:a(this,Y),isoMonth:a(this,k),isoYear:a(this,O)}}getCalendar(){if(!$e(this))throw new TypeError("invalid receiver");return Or(a(this,v))}static from(e,t){const r=K(t);return $e(e)?(be(r),tn(a(e,k),a(e,Y),a(e,v),a(e,O))):Di(e,r)}}_t(So,"Temporal.PlainMonthDay");const Bo=()=>new(I("%Temporal.Instant%"))(No()),Fa=(o,e=Qt())=>{const t=Ue(e),r=ot(o);return st(t,Bo(),r)},zo=(o=Qt())=>st(Ue(o),Bo(),"iso8601"),ja=(o,e=Qt())=>{const t=Ue(e),r=ot(o);return Ne(No(),t,r)},xa={instant:Bo,plainDateTime:Fa,plainDateTimeISO:zo,plainDate:(o,e=Qt())=>kr(Fa(o,e)),plainDateISO:(o=Qt())=>kr(zo(o)),plainTimeISO:(o=Qt())=>po(zo(o)),timeZoneId:()=>Qt(),zonedDateTime:ja,zonedDateTimeISO:(o=Qt())=>ja("iso8601",o),[Symbol.toStringTag]:"Temporal.Now"};Object.defineProperty(xa,Symbol.toStringTag,{value:"Temporal.Now",writable:!1,enumerable:!1,configurable:!0});const qs=Object.assign;function Aa(o,e,t){let r=a(o,U),n=a(o,Z),i=a(o,q),s=a(o,S),c=a(o,B),d=a(o,z);if(t){const{unit:h,increment:u,roundingMode:m}=t;({hour:r,minute:n,second:i,millisecond:s,microsecond:c,nanosecond:d}=Yo(r,n,i,s,c,d,u,h,m))}return`${de(r)}:${de(n)}${Un(i,s,c,d,e)}`}class gr{constructor(e=0,t=0,r=0,n=0,i=0,s=0){const c=e===void 0?0:ee(e),d=t===void 0?0:ee(t),h=r===void 0?0:ee(r),u=n===void 0?0:ee(n),m=i===void 0?0:ee(i),f=s===void 0?0:ee(s);Wn(c,d,h,u,m,f),It(this),W(this,U,c),W(this,Z,d),W(this,q,h),W(this,S,u),W(this,B,m),W(this,z,f)}get hour(){if(!we(this))throw new TypeError("invalid receiver");return a(this,U)}get minute(){if(!we(this))throw new TypeError("invalid receiver");return a(this,Z)}get second(){if(!we(this))throw new TypeError("invalid receiver");return a(this,q)}get millisecond(){if(!we(this))throw new TypeError("invalid receiver");return a(this,S)}get microsecond(){if(!we(this))throw new TypeError("invalid receiver");return a(this,B)}get nanosecond(){if(!we(this))throw new TypeError("invalid receiver");return a(this,z)}with(e,t){if(!we(this))throw new TypeError("invalid receiver");if(!ce(e))throw new TypeError("invalid argument");Dr(e);const r=be(K(t)),n=On(e,"partial"),i=On(this);let{hour:s,minute:c,second:d,millisecond:h,microsecond:u,nanosecond:m}=qs(i,n);return{hour:s,minute:c,second:d,millisecond:h,microsecond:u,nanosecond:m}=Cn(s,c,d,h,u,m,r),new gr(s,c,d,h,u,m)}add(e){if(!we(this))throw new TypeError("invalid receiver");return ha("add",this,e)}subtract(e){if(!we(this))throw new TypeError("invalid receiver");return ha("subtract",this,e)}until(e,t){if(!we(this))throw new TypeError("invalid receiver");return na("until",this,e,t)}since(e,t){if(!we(this))throw new TypeError("invalid receiver");return na("since",this,e,t)}round(e){if(!we(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const t=typeof e=="string"?Fr("smallestUnit",e):K(e),r=Cr(t),n=vt(t,"halfExpand"),i=rt(t,"smallestUnit","time",ir);Ir(r,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[i],!1);let s=a(this,U),c=a(this,Z),d=a(this,q),h=a(this,S),u=a(this,B),m=a(this,z);return{hour:s,minute:c,second:d,millisecond:h,microsecond:u,nanosecond:m}=Yo(s,c,d,h,u,m,r,i,n),new gr(s,c,d,h,u,m)}equals(e){if(!we(this))throw new TypeError("invalid receiver");const t=xt(e);for(const r of[U,Z,q,S,B,z])if(a(this,r)!==a(t,r))return!1;return!0}toString(e){if(!we(this))throw new TypeError("invalid receiver");const t=K(e),r=Xr(t),n=vt(t,"trunc"),i=rt(t,"smallestUnit","time",void 0);if(i==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:s,unit:c,increment:d}=Kr(i,r);return Aa(this,s,{unit:c,increment:d,roundingMode:n})}toJSON(){if(!we(this))throw new TypeError("invalid receiver");return Aa(this,"auto")}toLocaleString(e,t){if(!we(this))throw new TypeError("invalid receiver");return new tr(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainTime")}toPlainDateTime(e){if(!we(this))throw new TypeError("invalid receiver");const t=ae(e),r=a(t,O),n=a(t,k),i=a(t,Y),s=a(t,v);return nt(r,n,i,a(this,U),a(this,Z),a(this,q),a(this,S),a(this,B),a(this,z),s)}toZonedDateTime(e){if(!we(this))throw new TypeError("invalid receiver");if(!ce(e))throw new TypeError("invalid argument");const t=e.plainDate;if(t===void 0)throw new TypeError("missing date property");const r=ae(t),n=e.timeZone;if(n===void 0)throw new TypeError("missing timeZone property");const i=Ue(n),s=a(r,O),c=a(r,k),d=a(r,Y),h=a(r,v),u=a(this,U),m=a(this,Z),f=a(this,q),y=a(this,S),g=a(this,B),p=a(this,z);return Ne(a(Je(i,new(I("%Temporal.PlainDateTime%"))(s,c,d,u,m,f,y,g,p,h),"compatible"),j),i,h)}getISOFields(){if(!we(this))throw new TypeError("invalid receiver");return{isoHour:a(this,U),isoMicrosecond:a(this,B),isoMillisecond:a(this,S),isoMinute:a(this,Z),isoNanosecond:a(this,z),isoSecond:a(this,q)}}static from(e,t){const r=be(K(t));return we(e)?new gr(a(e,U),a(e,Z),a(e,q),a(e,S),a(e,B),a(e,z)):xt(e,r)}static compare(e,t){const r=xt(e),n=xt(t);for(const i of[U,Z,q,S,B,z]){const s=a(r,i),c=a(n,i);if(s!==c)return fr(s-c)}return 0}}_t(gr,"Temporal.PlainTime");class yn{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: identifier is required");const t=vo(e);It(this),W(this,Ct,t)}get id(){if(!ft(this))throw new TypeError("invalid receiver");return a(this,Ct)}getOffsetNanosecondsFor(e){if(!ft(this))throw new TypeError("invalid receiver");const t=bt(e),r=a(this,Ct);return $r(r)?Ht(r):Lt(r,a(t,j))}getOffsetStringFor(e){if(!ft(this))throw new TypeError("invalid receiver");return wo(this,bt(e))}getPlainDateTimeFor(e,t="iso8601"){if(!ft(this))throw new TypeError("invalid receiver");return st(this,bt(e),ot(t))}getInstantFor(e,t){if(!ft(this))throw new TypeError("invalid receiver");return Je(this,sr(e),_r(K(t)))}getPossibleInstantsFor(e){if(!ft(this))throw new TypeError("invalid receiver");const t=sr(e),r=I("%Temporal.Instant%"),n=a(this,Ct);if($r(n)){const s=Vt(a(t,O),a(t,k),a(t,Y),a(t,U),a(t,Z),a(t,q),a(t,S),a(t,B),a(t,z));if(s===null)throw new RangeError("DateTime outside of supported range");const c=Ht(n);return[new r(l.subtract(s,l.BigInt(c)))]}return function(c,d,h,u,m,f,y,g,p,w){const T=Vt(d,h,u,m,f,y,g,p,w);if(T===null)throw new RangeError("DateTime outside of supported range");let b=l.subtract(T,Rt);l.lessThan(b,Gr)&&(b=T);let E=l.add(T,Rt);l.greaterThan(E,Tr)&&(E=T);const D=Lt(c,b),M=Lt(c,E);return(D===M?[D]:[D,M]).map(C=>{const _=l.subtract(T,l.BigInt(C)),$=Zi(c,_);if(d===$.year&&h===$.month&&u===$.day&&m===$.hour&&f===$.minute&&y===$.second&&g===$.millisecond&&p===$.microsecond&&w===$.nanosecond)return _}).filter(C=>C!==void 0)}(n,a(t,O),a(t,k),a(t,Y),a(t,U),a(t,Z),a(t,q),a(t,S),a(t,B),a(t,z)).map(s=>new r(s))}getNextTransition(e){if(!ft(this))throw new TypeError("invalid receiver");const t=bt(e),r=a(this,Ct);if($r(r)||r==="UTC")return null;let n=a(t,j);const i=I("%Temporal.Instant%");return n=Bi(r,n),n===null?null:new i(n)}getPreviousTransition(e){if(!ft(this))throw new TypeError("invalid receiver");const t=bt(e),r=a(this,Ct);if($r(r)||r==="UTC")return null;let n=a(t,j);const i=I("%Temporal.Instant%");return n=bo(r,n),n===null?null:new i(n)}toString(){if(!ft(this))throw new TypeError("invalid receiver");return a(this,Ct)}toJSON(){if(!ft(this))throw new TypeError("invalid receiver");return a(this,Ct)}static from(e){return ki(Ue(e))}}_t(yn,"Temporal.TimeZone"),ue("Temporal.TimeZone.prototype.getOffsetNanosecondsFor",yn.prototype.getOffsetNanosecondsFor),ue("Temporal.TimeZone.prototype.getPossibleInstantsFor",yn.prototype.getPossibleInstantsFor);const Ss=Object.create;class Wo{constructor(e,t,r="iso8601",n=1){Mi(this,ee(e),ee(t),ot(r),ee(n))}get year(){if(!re(this))throw new TypeError("invalid receiver");return kn(a(this,v),this)}get month(){if(!re(this))throw new TypeError("invalid receiver");return $n(a(this,v),this)}get monthCode(){if(!re(this))throw new TypeError("invalid receiver");return nn(a(this,v),this)}get calendarId(){if(!re(this))throw new TypeError("invalid receiver");return Fe(a(this,v))}get era(){if(!re(this))throw new TypeError("invalid receiver");return Yn(a(this,v),this)}get eraYear(){if(!re(this))throw new TypeError("invalid receiver");return Nn(a(this,v),this)}get daysInMonth(){if(!re(this))throw new TypeError("invalid receiver");return Pn(a(this,v),this)}get daysInYear(){if(!re(this))throw new TypeError("invalid receiver");return Fn(a(this,v),this)}get monthsInYear(){if(!re(this))throw new TypeError("invalid receiver");return jn(a(this,v),this)}get inLeapYear(){if(!re(this))throw new TypeError("invalid receiver");return xn(a(this,v),this)}with(e,t){if(!re(this))throw new TypeError("invalid receiver");if(!ce(e))throw new TypeError("invalid argument");Dr(e);const r=K(t),n=a(this,v),i=_e(n,["month","monthCode","year"]);let s=G(this,i,[]);return s=lr(n,s,G(e,i,"partial")),s=G(s,i,[]),cr(n,s,r)}add(e,t){if(!re(this))throw new TypeError("invalid receiver");return ua("add",this,e,t)}subtract(e,t){if(!re(this))throw new TypeError("invalid receiver");return ua("subtract",this,e,t)}until(e,t){if(!re(this))throw new TypeError("invalid receiver");return oa("until",this,e,t)}since(e,t){if(!re(this))throw new TypeError("invalid receiver");return oa("since",this,e,t)}equals(e){if(!re(this))throw new TypeError("invalid receiver");const t=Jr(e);for(const r of[O,k,Y])if(a(this,r)!==a(t,r))return!1;return sn(a(this,v),a(t,v))}toString(e){if(!re(this))throw new TypeError("invalid receiver");return xi(this,Vr(K(e)))}toJSON(){if(!re(this))throw new TypeError("invalid receiver");return xi(this)}toLocaleString(e,t){if(!re(this))throw new TypeError("invalid receiver");return new tr(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainYearMonth")}toPlainDate(e){if(!re(this))throw new TypeError("invalid receiver");if(!ce(e))throw new TypeError("argument should be an object");const t=a(this,v),r=_e(t,["monthCode","year"]),n=G(this,r,[]),i=_e(t,["day"]);let s=lr(t,n,G(e,i,[]));s=G(s,[...new Set([...r,...i])],[]);const c=Ss(null);return c.overflow="reject",At(t,s,c)}getISOFields(){if(!re(this))throw new TypeError("invalid receiver");return{calendar:a(this,v),isoDay:a(this,Y),isoMonth:a(this,k),isoYear:a(this,O)}}getCalendar(){if(!re(this))throw new TypeError("invalid receiver");return Or(a(this,v))}static from(e,t){const r=K(t);return re(e)?(be(r),rn(a(e,O),a(e,k),a(e,v),a(e,Y))):Jr(e,r)}static compare(e,t){const r=Jr(e),n=Jr(t);return Kt(a(r,O),a(r,k),a(r,Y),a(n,O),a(n,k),a(n,Y))}}_t(Wo,"Temporal.PlainYearMonth");const Bs=tr.prototype.resolvedOptions,zs=Object.create;class Go{constructor(e,t,r="iso8601"){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");Oi(this,cn(e),Ue(t),ot(r))}get calendarId(){if(!N(this))throw new TypeError("invalid receiver");return Fe(a(this,v))}get timeZoneId(){if(!N(this))throw new TypeError("invalid receiver");return ln(a(this,ie))}get year(){if(!N(this))throw new TypeError("invalid receiver");return kn(a(this,v),se(this))}get month(){if(!N(this))throw new TypeError("invalid receiver");return $n(a(this,v),se(this))}get monthCode(){if(!N(this))throw new TypeError("invalid receiver");return nn(a(this,v),se(this))}get day(){if(!N(this))throw new TypeError("invalid receiver");return on(a(this,v),se(this))}get hour(){if(!N(this))throw new TypeError("invalid receiver");return a(se(this),U)}get minute(){if(!N(this))throw new TypeError("invalid receiver");return a(se(this),Z)}get second(){if(!N(this))throw new TypeError("invalid receiver");return a(se(this),q)}get millisecond(){if(!N(this))throw new TypeError("invalid receiver");return a(se(this),S)}get microsecond(){if(!N(this))throw new TypeError("invalid receiver");return a(se(this),B)}get nanosecond(){if(!N(this))throw new TypeError("invalid receiver");return a(se(this),z)}get era(){if(!N(this))throw new TypeError("invalid receiver");return Yn(a(this,v),se(this))}get eraYear(){if(!N(this))throw new TypeError("invalid receiver");return Nn(a(this,v),se(this))}get epochSeconds(){if(!N(this))throw new TypeError("invalid receiver");const e=a(this,j);return l.toNumber(Pr(e,Ot))}get epochMilliseconds(){if(!N(this))throw new TypeError("invalid receiver");const e=a(this,j);return l.toNumber(Pr(e,ut))}get epochMicroseconds(){if(!N(this))throw new TypeError("invalid receiver");return Xn(Pr(a(this,j),te))}get epochNanoseconds(){if(!N(this))throw new TypeError("invalid receiver");return Xn(a(this,j))}get dayOfWeek(){if(!N(this))throw new TypeError("invalid receiver");return uo(a(this,v),se(this))}get dayOfYear(){if(!N(this))throw new TypeError("invalid receiver");return mo(a(this,v),se(this))}get weekOfYear(){if(!N(this))throw new TypeError("invalid receiver");return fo(a(this,v),se(this))}get yearOfWeek(){if(!N(this))throw new TypeError("invalid receiver");return yo(a(this,v),se(this))}get hoursInDay(){if(!N(this))throw new TypeError("invalid receiver");const e=se(this),t=I("%Temporal.PlainDateTime%"),r=a(e,O),n=a(e,k),i=a(e,Y),s=new t(r,n,i,0,0,0,0,0,0),c=ur(r,n,i,0,0,0,1,"reject"),d=new t(c.year,c.month,c.day,0,0,0,0,0,0),h=a(this,ie),u=a(Je(h,s,"compatible"),j),m=a(Je(h,d,"compatible"),j);return Nt(l.subtract(m,u),hi)}get daysInWeek(){if(!N(this))throw new TypeError("invalid receiver");return go(a(this,v),se(this))}get daysInMonth(){if(!N(this))throw new TypeError("invalid receiver");return Pn(a(this,v),se(this))}get daysInYear(){if(!N(this))throw new TypeError("invalid receiver");return Fn(a(this,v),se(this))}get monthsInYear(){if(!N(this))throw new TypeError("invalid receiver");return jn(a(this,v),se(this))}get inLeapYear(){if(!N(this))throw new TypeError("invalid receiver");return xn(a(this,v),se(this))}get offset(){if(!N(this))throw new TypeError("invalid receiver");return wo(a(this,ie),a(this,Ae))}get offsetNanoseconds(){if(!N(this))throw new TypeError("invalid receiver");return Et(a(this,ie),a(this,Ae))}with(e,t){if(!N(this))throw new TypeError("invalid receiver");if(!ce(e))throw new TypeError("invalid zoned-date-time-like");Dr(e);const r=K(t),n=a(this,v);let i=_e(n,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);i.push("offset");let s=G(this,i,["offset"]);s=lr(n,s,G(e,i,"partial")),s=G(s,i,["offset"]);const c=_r(r),d=In(r,"prefer");let{year:h,month:u,day:m,hour:f,minute:y,second:g,millisecond:p,microsecond:w,nanosecond:T}=Qr(n,s,r);const b=Ht(s.offset),E=a(this,ie);return Ne(Rn(h,u,m,f,y,g,p,w,T,"option",b,E,c,d,!1),E,n)}withPlainDate(e){if(!N(this))throw new TypeError("invalid receiver");const t=ae(e),r=a(t,O),n=a(t,k),i=a(t,Y);let s=a(t,v);const c=se(this),d=a(c,U),h=a(c,Z),u=a(c,q),m=a(c,S),f=a(c,B),y=a(c,z);s=Ri(a(this,v),s);const g=a(this,ie);return Ne(a(Je(g,new(I("%Temporal.PlainDateTime%"))(r,n,i,d,h,u,m,f,y,s),"compatible"),j),g,s)}withPlainTime(e){if(!N(this))throw new TypeError("invalid receiver");const t=I("%Temporal.PlainTime%"),r=e===void 0?new t:xt(e),n=se(this),i=a(n,O),s=a(n,k),c=a(n,Y),d=a(this,v),h=a(r,U),u=a(r,Z),m=a(r,q),f=a(r,S),y=a(r,B),g=a(r,z),p=a(this,ie);return Ne(a(Je(p,new(I("%Temporal.PlainDateTime%"))(i,s,c,h,u,m,f,y,g,d),"compatible"),j),p,d)}withTimeZone(e){if(!N(this))throw new TypeError("invalid receiver");const t=Ue(e);return Ne(a(this,j),t,a(this,v))}withCalendar(e){if(!N(this))throw new TypeError("invalid receiver");const t=ot(e);return Ne(a(this,j),a(this,ie),t)}add(e,t){if(!N(this))throw new TypeError("invalid receiver");return ma("add",this,e,t)}subtract(e,t){if(!N(this))throw new TypeError("invalid receiver");return ma("subtract",this,e,t)}until(e,t){if(!N(this))throw new TypeError("invalid receiver");return ia("until",this,e,t)}since(e,t){if(!N(this))throw new TypeError("invalid receiver");return ia("since",this,e,t)}round(e){if(!N(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const t=typeof e=="string"?Fr("smallestUnit",e):K(e),r=Cr(t),n=vt(t,"halfExpand"),i=rt(t,"smallestUnit","time",ir,["day"]),s={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[i];Ir(r,s,s===1);const c=se(this);let d=a(c,O),h=a(c,k),u=a(c,Y),m=a(c,U),f=a(c,Z),y=a(c,q),g=a(c,S),p=a(c,B),w=a(c,z);const T=I("%Temporal.PlainDateTime%"),b=a(this,ie),E=a(this,v),D=Je(b,new T(a(c,O),a(c,k),a(c,Y),0,0,0,0,0,0),"compatible"),M=gt(D,b,E,0,0,0,1,0,0,0,0,0,0),C=l.subtract(M,l.BigInt(a(D,j)));if(l.lessThanOrEqual(C,ye))throw new RangeError("cannot round a ZonedDateTime in a calendar with zero or negative length days");return{year:d,month:h,day:u,hour:m,minute:f,second:y,millisecond:g,microsecond:p,nanosecond:w}=$o(d,h,u,m,f,y,g,p,w,r,i,n,l.toNumber(C)),Ne(Rn(d,h,u,m,f,y,g,p,w,"option",Et(b,a(this,Ae)),b,"compatible","prefer",!1),b,a(this,v))}equals(e){if(!N(this))throw new TypeError("invalid receiver");const t=en(e),r=a(this,j),n=a(t,j);return!!l.equal(l.BigInt(r),l.BigInt(n))&&!!$i(a(this,ie),a(t,ie))&&sn(a(this,v),a(t,v))}toString(e){if(!N(this))throw new TypeError("invalid receiver");const t=K(e),r=Vr(t),n=Xr(t),i=function(y){return er(y,"offset",["auto","never"],"auto")}(t),s=vt(t,"trunc"),c=rt(t,"smallestUnit","time",void 0);if(c==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');const d=function(y){return er(y,"timeZoneName",["auto","never","critical"],"auto")}(t),{precision:h,unit:u,increment:m}=Kr(c,n);return Ai(this,h,r,d,i,{unit:u,increment:m,roundingMode:s})}toLocaleString(e,t){if(!N(this))throw new TypeError("invalid receiver");const r=K(t),n=zs(null);if(Er(n,r,["timeZone"]),r.timeZone!==void 0)throw new TypeError("ZonedDateTime toLocaleString does not accept a timeZone option");n.year===void 0&&n.month===void 0&&n.day===void 0&&n.weekday===void 0&&n.dateStyle===void 0&&n.hour===void 0&&n.minute===void 0&&n.second===void 0&&n.timeStyle===void 0&&n.dayPeriod===void 0&&n.timeZoneName===void 0&&(n.timeZoneName="short");let i=ln(a(this,ie));if($r(i))throw new RangeError("toLocaleString does not support offset string time zones");i=vo(i),n.timeZone=i;const s=new tr(e,n),c=F(Bs,s,[]).calendar,d=Fe(a(this,v));if(d!=="iso8601"&&c!=="iso8601"&&c!==d)throw new RangeError(`cannot format ZonedDateTime with calendar ${d} in locale with calendar ${c}`);return s.format(a(this,Ae))}toJSON(){if(!N(this))throw new TypeError("invalid receiver");return Ai(this,"auto")}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.ZonedDateTime")}startOfDay(){if(!N(this))throw new TypeError("invalid receiver");const e=se(this),t=I("%Temporal.PlainDateTime%"),r=a(this,v),n=new t(a(e,O),a(e,k),a(e,Y),0,0,0,0,0,0,r),i=a(this,ie);return Ne(a(Je(i,n,"compatible"),j),i,r)}toInstant(){if(!N(this))throw new TypeError("invalid receiver");return new(I("%Temporal.Instant%"))(a(this,j))}toPlainDate(){if(!N(this))throw new TypeError("invalid receiver");return kr(se(this))}toPlainTime(){if(!N(this))throw new TypeError("invalid receiver");return po(se(this))}toPlainDateTime(){if(!N(this))throw new TypeError("invalid receiver");return se(this)}toPlainYearMonth(){if(!N(this))throw new TypeError("invalid receiver");const e=a(this,v);return cr(e,G(this,_e(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!N(this))throw new TypeError("invalid receiver");const e=a(this,v);return Rr(e,G(this,_e(e,["day","monthCode"]),[]))}getISOFields(){if(!N(this))throw new TypeError("invalid receiver");const e=se(this),t=a(this,ie);return{calendar:a(this,v),isoDay:a(e,Y),isoHour:a(e,U),isoMicrosecond:a(e,B),isoMillisecond:a(e,S),isoMinute:a(e,Z),isoMonth:a(e,k),isoNanosecond:a(e,z),isoSecond:a(e,q),isoYear:a(e,O),offset:wo(t,a(this,Ae)),timeZone:t}}getCalendar(){if(!N(this))throw new TypeError("invalid receiver");return Or(a(this,v))}getTimeZone(){if(!N(this))throw new TypeError("invalid receiver");return ki(a(this,ie))}static from(e,t){const r=K(t);return N(e)?(_r(r),In(r,"reject"),be(r),Ne(a(e,j),a(e,ie),a(e,v))):en(e,r)}static compare(e,t){const r=en(e),n=en(t),i=a(r,j),s=a(n,j);return l.lessThan(l.BigInt(i),l.BigInt(s))?-1:l.greaterThan(l.BigInt(i),l.BigInt(s))?1:0}}function se(o){return st(a(o,ie),a(o,Ae),a(o,v))}_t(Go,"Temporal.ZonedDateTime");var gn=Object.freeze({__proto__:null,Calendar:Te,Duration:rr,Instant:Dt,Now:xa,PlainDate:mn,PlainDateTime:fn,PlainMonthDay:So,PlainTime:gr,PlainYearMonth:Wo,TimeZone:yn,ZonedDateTime:Go});const Ws=[Dt,Te,mn,fn,rr,So,gr,yn,Wo,Go];for(const o of Ws){const e=Object.getOwnPropertyDescriptor(o,"prototype");(e.configurable||e.enumerable||e.writable)&&(e.configurable=!1,e.enumerable=!1,e.writable=!1,Object.defineProperty(o,"prototype",e))}function Ho(){}function Gs(o,e){return o!=o?e==e:o!==e||o&&typeof o=="object"||typeof o=="function"}const Br=[];function Hs(o,e){return{subscribe:Vs(o,e).subscribe}}function Vs(o,e=Ho){let t;const r=new Set;function n(c){if(Gs(o,c)&&(o=c,t)){const d=!Br.length;for(const h of r)h[1](),Br.push(h,o);if(d){for(let h=0;h<Br.length;h+=2)Br[h][0](Br[h+1]);Br.length=0}}}function i(c){n(c(o))}function s(c,d=Ho){const h=[c,d];return r.add(h),r.size===1&&(t=e(n,i)||Ho),c(o),()=>{r.delete(h),r.size===0&&t&&(t(),t=null)}}return{set:n,update:i,subscribe:s}}async function Xs(o,e){const t=gn.Now.zonedDateTimeISO("UTC").startOfDay(),r=await qa({timeMin:t,timeMax:t.add({days:5}),items:[{id:o}],signal:e});if(!r.ok)throw new Error(`Could not load calendar, ${r.statusText}`);return await r.json()}function Ks(o){const e=o.map(function(n){function i(s){if(s)return gn.Instant.from(s).toZonedDateTimeISO("UTC")}return{start:i(n.start),end:i(n.end)}});function t(r){for(const n of e){const{start:i,end:s}=n;if(i&&gn.ZonedDateTime.compare(r,i)<0)return{busy:!1,next:n.start};if(!s||gn.ZonedDateTime.compare(r,s)<=0)return{busy:!0,next:n.end}}return{busy:!1}}return Hs({busy:!1},r=>{let n;function i(){const s=gn.Now.zonedDateTimeISO("UTC"),{busy:c,next:d}=t(s);if(r({busy:c,next:d}),d){const h=s.until(d);console.log(`Waiting until ${h}`);const u=h.total({unit:"milliseconds"});setTimeout(i,Math.max(u,1e3))}}return i(),()=>clearTimeout(n)})}let Qn;self.addEventListener("message",async o=>{const e=o.data;if(e)try{const t=await Xs(e),r=Ks(t);Qn==null||Qn(),Qn=r.subscribe(n=>{self.postMessage({isBusy:n,error:""})})}catch(t){console.error(t);const r=t instanceof Error?t.message:"";self.postMessage({error:r})}})})();
