import{s as W,b as H,o as L,l as A,n as T,i as U}from"../chunks/scheduler.fd4d87b3.js";import{S as D,i as G,e as b,s as S,o as F,c as k,p as v,b as j,q as M,d as h,f as g,H as y,j as B,g as d,r as N,t as w,a as E,w as O,k as R,l as Y,m as $,n as z,v as J}from"../chunks/index.64515c27.js";import{F as K}from"../chunks/FormattedTime.adc878f1.js";import{f as Q}from"../chunks/filter-state.c4b4da1b.js";import{r as V}from"../chunks/index.5159c792.js";import{g as X}from"../chunks/_layout.2ffef5ca.js";function Z(){return new Worker(""+new URL("../workers/busy-worker-e2aa84dc.js",import.meta.url).href)}function x(a,e){return V(e,s=>{const t=new AbortController;return a==null||a.addEventListener("message",r=>s(r.data),t),()=>t.abort()})}function q(a){let e,s,t;return{c(){e=b("img"),this.h()},l(r){e=k(r,"IMG",{class:!0,alt:!0,src:!0,width:!0,height:!0}),this.h()},h(){g(e,"class","profile svelte-vg30ut"),g(e,"alt",s="Portrait of "+a[2].name),A(e.src,t=a[2].image)||g(e,"src",t),g(e,"width","150"),g(e,"height","150")},m(r,n){B(r,e,n)},p(r,n){n&4&&s!==(s="Portrait of "+r[2].name)&&g(e,"alt",s),n&4&&!A(e.src,t=r[2].image)&&g(e,"src",t)},d(r){r&&h(e)}}}function C(a){let e,s,t,r;return t=new K({props:{time:a[1].next}}),{c(){e=b("span"),s=F("until "),R(t.$$.fragment)},l(n){e=k(n,"SPAN",{});var m=v(e);s=M(m,"until "),Y(t.$$.fragment,m),m.forEach(h)},m(n,m){B(n,e,m),d(e,s),$(t,e,null),r=!0},p(n,m){const p={};m&2&&(p.time=n[1].next),t.$set(p)},i(n){r||(w(t.$$.fragment,n),r=!0)},o(n){E(t.$$.fragment,n),r=!1},d(n){n&&h(e),z(t)}}}function I(a){let e,s;return{c(){e=b("span"),s=F(a[0])},l(t){e=k(t,"SPAN",{});var r=v(e);s=M(r,a[0]),r.forEach(h)},m(t,r){B(t,e,r),d(e,s)},p(t,r){r&1&&N(s,t[0])},d(t){t&&h(e)}}}function ee(a){let e,s,t,r=a[1].busy?"Busy":"Free",n,m,p,c,u=a[2]&&q(a),o=a[1].next&&C(a),i=a[0]&&I(a);return{c(){e=b("main"),u&&u.c(),s=S(),t=b("h1"),n=F(r),m=S(),o&&o.c(),p=S(),i&&i.c(),this.h()},l(l){e=k(l,"MAIN",{class:!0});var f=v(e);u&&u.l(f),s=j(f),t=k(f,"H1",{class:!0});var _=v(t);n=M(_,r),_.forEach(h),m=j(f),o&&o.l(f),p=j(f),i&&i.l(f),f.forEach(h),this.h()},h(){g(t,"class","headline-1"),g(e,"class","fill center svelte-vg30ut"),y(e,"busy",a[1].busy),y(e,"error",!!a[0])},m(l,f){B(l,e,f),u&&u.m(e,null),d(e,s),d(e,t),d(t,n),d(e,m),o&&o.m(e,null),d(e,p),i&&i.m(e,null),c=!0},p(l,[f]){l[2]?u?u.p(l,f):(u=q(l),u.c(),u.m(e,s)):u&&(u.d(1),u=null),(!c||f&2)&&r!==(r=l[1].busy?"Busy":"Free")&&N(n,r),l[1].next?o?(o.p(l,f),f&2&&w(o,1)):(o=C(l),o.c(),w(o,1),o.m(e,p)):o&&(J(),E(o,1,1,()=>{o=null}),O()),l[0]?i?i.p(l,f):(i=I(l),i.c(),i.m(e,null)):i&&(i.d(1),i=null),(!c||f&2)&&y(e,"busy",l[1].busy),(!c||f&1)&&y(e,"error",!!l[0])},i(l){c||(w(o),c=!0)},o(l){E(o),c=!1},d(l){l&&h(e),u&&u.d(),o&&o.d(),i&&i.d()}}}const te=new Map(Object.entries({"tigeroakes@gmail.com":{name:"Tiger",image:"/img/tiger.jpg"},"daphne.liu97@gmail.com":{name:"Daphne",image:"/img/daphne.jpg"}}));function re(a,e,s){let t,r,n,m,p,c,u=T,o=()=>(u(),u=U(r,P=>s(7,c=P)),r),i;a.$$.on_destroy.push(()=>u());const{state:l}=X(),f=Q("BUSY",l);H(a,f,P=>s(8,i=P));let _;return L(()=>{s(5,_=new Z)}),a.$$.update=()=>{a.$$.dirty&256&&s(6,t=i==null?void 0:i.payload),a.$$.dirty&96&&(_==null||_.postMessage(t)),a.$$.dirty&32&&o(s(3,r=x(_,{error:""}))),a.$$.dirty&64&&s(2,n=t?te.get(t):void 0),a.$$.dirty&128&&s(1,m=c.isBusy??{busy:!1}),a.$$.dirty&128&&s(0,p=c.error)},[p,m,n,r,f,_,t,c,i]}class fe extends D{constructor(e){super(),G(this,e,re,ee,W,{})}}export{fe as component};
