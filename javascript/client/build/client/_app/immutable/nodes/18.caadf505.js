import{s as ee,b as q,d as te}from"../chunks/scheduler.fd4d87b3.js";import{S as ne,i as le,k as b,l as w,m as z,t as d,a as v,n as N,s as U,b as k,j as m,v as se,w as ie,d as p,x as re,e as C,c as D,p as ae,f as a,y as Z,z as oe}from"../chunks/index.64515c27.js";import{c as ue,R as fe,D as $e}from"../chunks/DeviceOptions.b118da36.js";import{H as E}from"../chunks/HorizontalField.160b8ef4.js";import{F as ce}from"../chunks/Form.09dfc92a.js";import{g as pe,s as me,a as _e}from"../chunks/4.edd4c780.js";import{P as he}from"../chunks/_PowerButtons.e4bf962c.js";import{p as de}from"../chunks/_form.d55ea23c.js";function ve(r){let e,s,l,n,i,f;return s=new $e({props:{devices:r[3]}}),{c(){e=C("select"),b(s.$$.fragment),this.h()},l(o){e=D(o,"SELECT",{class:!0,name:!0,id:!0});var _=ae(e);w(s.$$.fragment,_),_.forEach(p),this.h()},h(){a(e,"class",l=r[13]),a(e,"name","serial"),a(e,"id","control-serial"),r[0]===void 0&&te(()=>r[11].call(e))},m(o,_){m(o,e,_),z(s,e,null),Z(e,r[0],!0),n=!0,i||(f=oe(e,"change",r[11]),i=!0)},p(o,_){const h={};_&8&&(h.devices=o[3]),s.$set(h),(!n||_&8192&&l!==(l=o[13]))&&a(e,"class",l),_&1&&Z(e,o[0])},i(o){n||(d(s.$$.fragment,o),n=!0)},o(o){v(s.$$.fragment,o),n=!1},d(o){o&&p(e),N(s),i=!1,f()}}}function ge(r){let e,s;return{c(){e=C("input"),this.h()},l(l){e=D(l,"INPUT",{id:!0,name:!0,type:!0,class:!0}),this.h()},h(){a(e,"id","control-connection"),a(e,"name","connection"),a(e,"type","text"),e.value=r[2],e.readOnly=!0,a(e,"class",s=r[13]+" bg-slate-300")},m(l,n){m(l,e,n)},p(l,n){n&4&&e.value!==l[2]&&(e.value=l[2]),n&8192&&s!==(s=l[13]+" bg-slate-300")&&a(e,"class",s)},d(l){l&&p(e)}}}function x(r){let e,s;return e=new E({props:{label:"Power",$$slots:{default:[be]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,n){z(e,l,n),s=!0},p(l,n){const i={};n&16385&&(i.$$scope={dirty:n,ctx:l}),e.$set(i)},i(l){s||(d(e.$$.fragment,l),s=!0)},o(l){v(e.$$.fragment,l),s=!1},d(l){N(e,l)}}}function be(r){let e,s;return e=new he({props:{serial:r[0]}}),{c(){b(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,n){z(e,l,n),s=!0},p(l,n){const i={};n&1&&(i.serial=l[0]),e.$set(i)},i(l){s||(d(e.$$.fragment,l),s=!0)},o(l){v(e.$$.fragment,l),s=!1},d(l){N(e,l)}}}function we(r){let e,s,l;return{c(){e=C("input"),this.h()},l(n){e=D(n,"INPUT",{id:!0,class:!0,name:!0,type:!0,placeholder:!0}),this.h()},h(){var n,i;a(e,"id","control-deviceName"),a(e,"class",s=r[13]),a(e,"name","deviceName"),a(e,"type","text"),e.value=l=((i=(n=r[1])==null?void 0:n.info)==null?void 0:i.deviceName)??"",a(e,"placeholder","Pixel 10")},m(n,i){m(n,e,i)},p(n,i){var f,o;i&8192&&s!==(s=n[13])&&a(e,"class",s),i&2&&l!==(l=((o=(f=n[1])==null?void 0:f.info)==null?void 0:o.deviceName)??"")&&e.value!==l&&(e.value=l)},d(n){n&&p(e)}}}function ze(r){let e,s,l;return{c(){e=C("input"),this.h()},l(n){e=D(n,"INPUT",{id:!0,class:!0,name:!0,type:!0,min:!0,placeholder:!0}),this.h()},h(){var n,i;a(e,"id","control-width"),a(e,"class",s=r[13]),a(e,"name","width"),a(e,"type","number"),a(e,"min",0),e.value=l=((i=(n=r[1])==null?void 0:n.info)==null?void 0:i.width)??"",a(e,"placeholder","900")},m(n,i){m(n,e,i)},p(n,i){var f,o;i&8192&&s!==(s=n[13])&&a(e,"class",s),i&2&&l!==(l=((o=(f=n[1])==null?void 0:f.info)==null?void 0:o.width)??"")&&e.value!==l&&(e.value=l)},d(n){n&&p(e)}}}function Ne(r){let e,s,l;return{c(){e=C("input"),this.h()},l(n){e=D(n,"INPUT",{id:!0,class:!0,name:!0,type:!0,min:!0,placeholder:!0}),this.h()},h(){var n,i;a(e,"id","control-height"),a(e,"class",s=r[13]),a(e,"name","height"),a(e,"type","number"),a(e,"min",0),e.value=l=((i=(n=r[1])==null?void 0:n.info)==null?void 0:i.height)??"",a(e,"placeholder","2100")},m(n,i){m(n,e,i)},p(n,i){var f,o;i&8192&&s!==(s=n[13])&&a(e,"class",s),i&2&&l!==(l=((o=(f=n[1])==null?void 0:f.info)==null?void 0:o.height)??"")&&e.value!==l&&(e.value=l)},d(n){n&&p(e)}}}function Pe(r){let e,s,l;return{c(){e=C("input"),this.h()},l(n){e=D(n,"INPUT",{id:!0,class:!0,name:!0,type:!0,placeholder:!0}),this.h()},h(){var n,i;a(e,"id","control-x"),a(e,"class",s=r[13]),a(e,"name","x"),a(e,"type","number"),e.value=l=((i=(n=r[1])==null?void 0:n.info)==null?void 0:i.x)??"",a(e,"placeholder","10")},m(n,i){m(n,e,i)},p(n,i){var f,o;i&8192&&s!==(s=n[13])&&a(e,"class",s),i&2&&l!==(l=((o=(f=n[1])==null?void 0:f.info)==null?void 0:o.x)??"")&&e.value!==l&&(e.value=l)},d(n){n&&p(e)}}}function Se(r){let e,s,l;return{c(){e=C("input"),this.h()},l(n){e=D(n,"INPUT",{id:!0,class:!0,name:!0,type:!0,placeholder:!0}),this.h()},h(){var n,i;a(e,"id","control-y"),a(e,"class",s=r[13]),a(e,"name","y"),a(e,"type","number"),e.value=l=((i=(n=r[1])==null?void 0:n.info)==null?void 0:i.y)??"",a(e,"placeholder","0")},m(n,i){m(n,e,i)},p(n,i){var f,o;i&8192&&s!==(s=n[13])&&a(e,"class",s),i&2&&l!==(l=((o=(f=n[1])==null?void 0:f.info)==null?void 0:o.y)??"")&&e.value!==l&&(e.value=l)},d(n){n&&p(e)}}}function Ie(r){let e,s,l;return{c(){e=C("input"),this.h()},l(n){e=D(n,"INPUT",{id:!0,class:!0,name:!0,type:!0,placeholder:!0}),this.h()},h(){var n,i;a(e,"id","control-server"),a(e,"class",s=r[13]),a(e,"name","server"),a(e,"type","url"),e.value=l=((i=(n=r[1])==null?void 0:n.info)==null?void 0:i.server)??"",a(e,"placeholder","http://192.168.0.1")},m(n,i){m(n,e,i)},p(n,i){var f,o;i&8192&&s!==(s=n[13])&&a(e,"class",s),i&2&&l!==(l=((o=(f=n[1])==null?void 0:f.info)==null?void 0:o.server)??"")&&e.value!==l&&(e.value=l)},d(n){n&&p(e)}}}function Te(r){var y,A;let e,s,l,n,i=(A=(y=r[1])==null?void 0:y.connection)==null?void 0:A.includes("android"),f,o,_,h,F,P,T,S,R,c,O,g,j,I,H;e=new E({props:{for:"control-serial",label:"Device",$$slots:{default:[ve,({inputClassName:t})=>({13:t}),({inputClassName:t})=>t?8192:0]},$$scope:{ctx:r}}}),l=new E({props:{for:"control-connection",label:"Connection",$$slots:{default:[ge,({inputClassName:t})=>({13:t}),({inputClassName:t})=>t?8192:0]},$$scope:{ctx:r}}});let $=i&&x(r);return o=new E({props:{for:"control-deviceName",label:"Device Name",$$slots:{default:[we,({inputClassName:t})=>({13:t}),({inputClassName:t})=>t?8192:0]},$$scope:{ctx:r}}}),h=new E({props:{for:"control-width",label:"Width",$$slots:{default:[ze,({inputClassName:t})=>({13:t}),({inputClassName:t})=>t?8192:0]},$$scope:{ctx:r}}}),P=new E({props:{for:"control-height",label:"Height",$$slots:{default:[Ne,({inputClassName:t})=>({13:t}),({inputClassName:t})=>t?8192:0]},$$scope:{ctx:r}}}),S=new E({props:{for:"control-x",label:"X Position",$$slots:{default:[Pe,({inputClassName:t})=>({13:t}),({inputClassName:t})=>t?8192:0]},$$scope:{ctx:r}}}),c=new E({props:{for:"control-y",label:"Y Position",$$slots:{default:[Se,({inputClassName:t})=>({13:t}),({inputClassName:t})=>t?8192:0]},$$scope:{ctx:r}}}),g=new E({props:{for:"control-server",label:"Asset Server",$$slots:{default:[Ie,({inputClassName:t})=>({13:t}),({inputClassName:t})=>t?8192:0]},$$scope:{ctx:r}}}),I=new fe({props:{loading:r[12]}}),{c(){b(e.$$.fragment),s=U(),b(l.$$.fragment),n=U(),$&&$.c(),f=U(),b(o.$$.fragment),_=U(),b(h.$$.fragment),F=U(),b(P.$$.fragment),T=U(),b(S.$$.fragment),R=U(),b(c.$$.fragment),O=U(),b(g.$$.fragment),j=U(),b(I.$$.fragment)},l(t){w(e.$$.fragment,t),s=k(t),w(l.$$.fragment,t),n=k(t),$&&$.l(t),f=k(t),w(o.$$.fragment,t),_=k(t),w(h.$$.fragment,t),F=k(t),w(P.$$.fragment,t),T=k(t),w(S.$$.fragment,t),R=k(t),w(c.$$.fragment,t),O=k(t),w(g.$$.fragment,t),j=k(t),w(I.$$.fragment,t)},m(t,u){z(e,t,u),m(t,s,u),z(l,t,u),m(t,n,u),$&&$.m(t,u),m(t,f,u),z(o,t,u),m(t,_,u),z(h,t,u),m(t,F,u),z(P,t,u),m(t,T,u),z(S,t,u),m(t,R,u),z(c,t,u),m(t,O,u),z(g,t,u),m(t,j,u),z(I,t,u),H=!0},p(t,u){var Q,V;const B={};u&24585&&(B.$$scope={dirty:u,ctx:t}),e.$set(B);const K={};u&24580&&(K.$$scope={dirty:u,ctx:t}),l.$set(K),u&2&&(i=(V=(Q=t[1])==null?void 0:Q.connection)==null?void 0:V.includes("android")),i?$?($.p(t,u),u&2&&d($,1)):($=x(t),$.c(),d($,1),$.m(f.parentNode,f)):$&&(se(),v($,1,1,()=>{$=null}),ie());const L={};u&24578&&(L.$$scope={dirty:u,ctx:t}),o.$set(L);const W={};u&24578&&(W.$$scope={dirty:u,ctx:t}),h.$set(W);const X={};u&24578&&(X.$$scope={dirty:u,ctx:t}),P.$set(X);const Y={};u&24578&&(Y.$$scope={dirty:u,ctx:t}),S.$set(Y);const G={};u&24578&&(G.$$scope={dirty:u,ctx:t}),c.$set(G);const J={};u&24578&&(J.$$scope={dirty:u,ctx:t}),g.$set(J);const M={};u&4096&&(M.loading=t[12]),I.$set(M)},i(t){H||(d(e.$$.fragment,t),d(l.$$.fragment,t),d($),d(o.$$.fragment,t),d(h.$$.fragment,t),d(P.$$.fragment,t),d(S.$$.fragment,t),d(c.$$.fragment,t),d(g.$$.fragment,t),d(I.$$.fragment,t),H=!0)},o(t){v(e.$$.fragment,t),v(l.$$.fragment,t),v($),v(o.$$.fragment,t),v(h.$$.fragment,t),v(P.$$.fragment,t),v(S.$$.fragment,t),v(c.$$.fragment,t),v(g.$$.fragment,t),v(I.$$.fragment,t),H=!1},d(t){t&&(p(s),p(n),p(f),p(_),p(F),p(T),p(R),p(O),p(j)),N(e,t),N(l,t),$&&$.d(t),N(o,t),N(h,t),N(P,t),N(S,t),N(c,t),N(g,t),N(I,t)}}}function Ue(r){let e,s;return e=new ce({props:{class:"flex flex-col gap-y-4",action:"/api/device/info/"+r[0],onSubmit:r[7],$$slots:{default:[Te,({loading:l})=>({12:l}),({loading:l})=>l?4096:0]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,n){z(e,l,n),s=!0},p(l,[n]){const i={};n&1&&(i.action="/api/device/info/"+l[0]),n&20495&&(i.$$scope={dirty:n,ctx:l}),e.$set(i)},i(l){s||(d(e.$$.fragment,l),s=!0)},o(l){v(e.$$.fragment,l),s=!1},d(l){N(e,l)}}}function ke(r,e,s){let l,n,i,f,o,_;const{state:h}=pe();q(r,h,c=>s(9,f=c));const F=me(h);q(r,F,c=>s(3,_=c));const P=_e(h);q(r,P,c=>s(10,o=c));let T;async function S(c,O){function g(I){const H=c.get(I);if(typeof H=="string")return Number(H)}const j={serial:c.get("serial"),deviceName:c.get("deviceName"),width:g("width"),height:g("height"),x:g("x"),y:g("y"),server:c.get("server")};await de(O.toString(),j)}function R(){T=re(this),s(0,T)}return r.$$.update=()=>{r.$$.dirty&1024&&s(8,l=o[0]),r.$$.dirty&769&&s(1,n=f.get(T??l)),r.$$.dirty&2&&s(2,i=ue(n==null?void 0:n.connection))},[T,n,i,_,h,F,P,S,l,f,o,R]}class qe extends ne{constructor(e){super(),le(this,e,ke,Ue,ee,{})}}export{qe as component};
