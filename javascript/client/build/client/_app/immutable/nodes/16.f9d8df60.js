import{s as de,n as X,m as me,b as ve}from"../chunks/scheduler.fd4d87b3.js";import{S as _e,i as ue,e as p,c as g,p as C,d as _,f as $,j as F,s as D,k as x,h as pe,b as I,l as ee,u as te,m as se,g as f,t as le,a as ae,n as ne,o as T,q as A,r as O}from"../chunks/index.64515c27.js";import{e as M,u as re,d as oe}from"../chunks/each.0555d8d8.js";import{f as ge,a as ke,s as be}from"../chunks/fit-scale.8b1b9e83.js";import{L as Ce}from"../chunks/LinkButton.7f74ff57.js";import{c as Ee}from"../chunks/web.85761f5a.js";import{g as ye}from"../chunks/4.edd4c780.js";function $e(a){let t;return{c(){t=p("canvas"),this.h()},l(e){t=g(e,"CANVAS",{class:!0,height:!0,width:!0}),C(t).forEach(_),this.h()},h(){$(t,"class","fill shadow shadow-green-900 rounded-lg border-8 svelte-nnt7wc"),$(t,"height","700"),$(t,"width","1200")},m(e,s){F(e,t,s),a[5](t)},p:X,i:X,o:X,d(e){e&&_(t),a[5](null)}}}function we(a,t,e){if(a){a.clearRect(0,0,a.canvas.width,a.canvas.height),a.font="20px sans-serif";for(const s of e){const{x:o,y:r,width:n,height:h}=ke(s,t);a.fillStyle="#EFEFEF",a.fillRect(o,r,n,h),a.fillStyle="#1b5e20",a.fillText(s.deviceName||s.serial,o+10,r+30,n-20)}}}function Se(a,t,e){let s,o,r,{rects:n=[]}=t,h;function m(u){me[u?"unshift":"push"](()=>{h=u,e(0,h)})}return a.$$set=u=>{"rects"in u&&e(1,n=u.rects)},a.$$.update=()=>{a.$$.dirty&1&&e(3,s=(h==null?void 0:h.getContext("2d"))??void 0),a.$$.dirty&2&&e(4,o=Ee(n)),a.$$.dirty&17&&e(2,r=h?ge(h,o):1),a.$$.dirty&14&&we(s,r,n)},[h,n,r,s,o,m]}class De extends _e{constructor(t){super(),ue(this,t,Se,$e,de,{rects:1})}}function ie(a,t,e){const s=a.slice();return s[3]=t[e],s}function ce(a,t,e){const s=a.slice();return s[3]=t[e],s}function Ie(a){let t;return{c(){t=T("Edit Cells")},l(e){t=A(e,"Edit Cells")},m(e,s){F(e,t,s)},d(e){e&&_(t)}}}function he(a,t){let e,s,o=t[3].serial+"",r,n,h,m=t[3].width+"",u,E,w=t[3].height+"",S,y;return{key:a,first:null,c(){e=p("div"),s=p("dt"),r=T(o),n=D(),h=p("dd"),u=T(m),E=T(" x "),S=T(w),y=D(),this.h()},l(d){e=g(d,"DIV",{});var v=C(e);s=g(v,"DT",{class:!0});var N=C(s);r=A(N,o),N.forEach(_),n=I(v),h=g(v,"DD",{class:!0});var k=C(h);u=A(k,m),E=A(k," x "),S=A(k,w),k.forEach(_),y=I(v),v.forEach(_),this.h()},h(){$(s,"class","svelte-1htb5k2"),$(h,"class","svelte-1htb5k2"),this.first=e},m(d,v){F(d,e,v),f(e,s),f(s,r),f(e,n),f(e,h),f(h,u),f(h,E),f(h,S),f(e,y)},p(d,v){t=d,v&1&&o!==(o=t[3].serial+"")&&O(r,o),v&1&&m!==(m=t[3].width+"")&&O(u,m),v&1&&w!==(w=t[3].height+"")&&O(S,w)},d(d){d&&_(e)}}}function fe(a,t){let e,s=t[3].serial+"",o;return{key:a,first:null,c(){e=p("li"),o=T(s),this.h()},l(r){e=g(r,"LI",{class:!0});var n=C(e);o=A(n,s),n.forEach(_),this.h()},h(){$(e,"class","svelte-1htb5k2"),this.first=e},m(r,n){F(r,e,n),f(e,o)},p(r,n){t=r,n&1&&s!==(s=t[3].serial+"")&&O(o,s)},d(r){r&&_(e)}}}function Re(a){let t,e,s,o,r,n,h,m,u,E,w="No X/Y",S,y,d=[],v=new Map,N,k,R,Y="No width/height",U,V,b=[],G=new Map,W;s=new De({props:{rects:a[0].rectWithPos}}),n=new Ce({props:{href:"/remote/edit",$$slots:{default:[Ie]},$$scope:{ctx:a}}});let j=M(a[0].rect);const J=l=>l[3].serial;for(let l=0;l<j.length;l+=1){let i=ce(a,j,l),c=J(i);v.set(c,d[l]=he(c,i))}let q=M(a[0].rest);const K=l=>l[3].serial;for(let l=0;l<q.length;l+=1){let i=ie(a,q,l),c=K(i);G.set(c,b[l]=fe(c,i))}return{c(){t=D(),e=p("section"),x(s.$$.fragment),o=D(),r=p("div"),x(n.$$.fragment),h=D(),m=p("aside"),u=p("div"),E=p("h2"),E.textContent=w,S=D(),y=p("dl");for(let l=0;l<d.length;l+=1)d[l].c();N=D(),k=p("div"),R=p("h2"),R.textContent=Y,U=D(),V=p("ul");for(let l=0;l<b.length;l+=1)b[l].c();this.h()},l(l){pe("svelte-p288z0",document.head).forEach(_),t=I(l),e=g(l,"SECTION",{class:!0});var c=C(e);ee(s.$$.fragment,c),o=I(c),r=g(c,"DIV",{});var P=C(r);ee(n.$$.fragment,P),P.forEach(_),h=I(c),m=g(c,"ASIDE",{class:!0});var z=C(m);u=g(z,"DIV",{});var B=C(u);E=g(B,"H2",{class:!0,"data-svelte-h":!0}),te(E)!=="svelte-f17jzt"&&(E.textContent=w),S=I(B),y=g(B,"DL",{});var Q=C(y);for(let L=0;L<d.length;L+=1)d[L].l(Q);Q.forEach(_),B.forEach(_),N=I(z),k=g(z,"DIV",{});var H=C(k);R=g(H,"H2",{class:!0,"data-svelte-h":!0}),te(R)!=="svelte-13insrr"&&(R.textContent=Y),U=I(H),V=g(H,"UL",{});var Z=C(V);for(let L=0;L<b.length;L+=1)b[L].l(Z);Z.forEach(_),H.forEach(_),z.forEach(_),c.forEach(_),this.h()},h(){document.title="Canvas | CellWall",$(E,"class","font-bold"),$(R,"class","font-bold"),$(m,"class","mt-4 svelte-1htb5k2"),$(e,"class","fill")},m(l,i){F(l,t,i),F(l,e,i),se(s,e,null),f(e,o),f(e,r),se(n,r,null),f(e,h),f(e,m),f(m,u),f(u,E),f(u,S),f(u,y);for(let c=0;c<d.length;c+=1)d[c]&&d[c].m(y,null);f(m,N),f(m,k),f(k,R),f(k,U),f(k,V);for(let c=0;c<b.length;c+=1)b[c]&&b[c].m(V,null);W=!0},p(l,[i]){const c={};i&1&&(c.rects=l[0].rectWithPos),s.$set(c);const P={};i&256&&(P.$$scope={dirty:i,ctx:l}),n.$set(P),i&1&&(j=M(l[0].rect),d=re(d,i,J,1,l,j,v,y,oe,he,null,ce)),i&1&&(q=M(l[0].rest),b=re(b,i,K,1,l,q,G,V,oe,fe,null,ie))},i(l){W||(le(s.$$.fragment,l),le(n.$$.fragment,l),W=!0)},o(l){ae(s.$$.fragment,l),ae(n.$$.fragment,l),W=!1},d(l){l&&(_(t),_(e)),ne(s),ne(n);for(let i=0;i<d.length;i+=1)d[i].d();for(let i=0;i<b.length;i+=1)b[i].d()}}}function Le(a,t,e){let s,o;const{state:r}=ye();return ve(a,r,n=>e(2,o=n)),a.$$.update=()=>{a.$$.dirty&4&&e(0,s=be(o))},[s,r,o]}class je extends _e{constructor(t){super(),ue(this,t,Le,Re,de,{})}}export{je as component};
