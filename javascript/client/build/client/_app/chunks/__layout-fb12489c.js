import{S as B,i as I,s as O,e as E,c as x,a as h,d as _,b as u,g,M as $,l as j,E as P,R as G,t as q,k as w,P as K,h as V,m as S,Q as J,T as Z,H as ee,j as te,U as ae,V as U,q as b,n as re,o as k,p as se,O as X,w as D,N as ne,x as L,y as N,B as M,r as W,I as oe,J as le,K as ie,L as ue}from"./index-36754a35.js";import{n as fe,T as ce,R as me}from"./TopBar-b37596c0.js";import{r as de,d as Y}from"./index-2d3b577e.js";import{S as A}from"./snackbar-host-48cbce91.js";function F(n){let e,a,t,r,l;return{c(){e=E("div"),a=E("div"),this.h()},l(o){e=x(o,"DIV",{class:!0,role:!0,"aria-valuemin":!0,"aria-valuemax":!0,"aria-valuetext":!0});var i=h(e);a=x(i,"DIV",{class:!0}),h(a).forEach(_),i.forEach(_),this.h()},h(){var o,i;u(a,"class","progress-bar-value w-full h-full bg-gray-200 svelte-7f51jt"),u(e,"class","absolute w-full h-1 bg-green-900 overflow-hidden"),u(e,"role","progressbar"),u(e,"aria-valuemin",t=0),u(e,"aria-valuemax",r=1),u(e,"aria-valuetext",l="Loading "+((i=(o=n[0])==null?void 0:o.to)==null?void 0:i.pathname))},m(o,i){g(o,e,i),$(e,a)},p(o,i){var d,c;i&1&&l!==(l="Loading "+((c=(d=o[0])==null?void 0:d.to)==null?void 0:c.pathname))&&u(e,"aria-valuetext",l)},d(o){o&&_(e)}}}function _e(n){let e,a=n[0]!=null&&F(n);return{c(){a&&a.c(),e=j()},l(t){a&&a.l(t),e=j()},m(t,r){a&&a.m(t,r),g(t,e,r)},p(t,[r]){t[0]!=null?a?a.p(t,r):(a=F(t),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null)},i:P,o:P,d(t){a&&a.d(t),t&&_(e)}}}function pe(n,e,a){let t;return G(n,fe,r=>a(0,t=r)),[t]}class $e extends B{constructor(e){super(),I(this,e,pe,_e,O,{})}}function ve(n){const e=n-1;return e*e*e+1}function Q(n,{delay:e=0,duration:a=400,easing:t=ve,x:r=0,y:l=0,opacity:o=0}={}){const i=getComputedStyle(n),d=+i.opacity,c=i.transform==="none"?"":i.transform,m=d*(1-o);return{delay:e,duration:a,easing:t,css:(s,f)=>`
			transform: ${c} translate(${(1-s)*r}px, ${(1-s)*l}px);
			opacity: ${d-m*f}`}}function z(n){let e,a,t,r,l,o,i,d,c=n[0].message+"",m,s,f,y,R;return{c(){e=E("aside"),a=E("button"),t=E("span"),r=q("Dismiss snackbar"),l=w(),o=K("svg"),i=K("path"),d=w(),m=q(c),this.h()},l(p){e=x(p,"ASIDE",{role:!0,class:!0});var v=h(e);a=x(v,"BUTTON",{type:!0,class:!0,title:!0});var C=h(a);t=x(C,"SPAN",{class:!0});var T=h(t);r=V(T,"Dismiss snackbar"),T.forEach(_),l=S(C),o=J(C,"svg",{class:!0,fill:!0,viewBox:!0,stroke:!0,"aria-hidden":!0});var H=h(o);i=J(H,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),h(i).forEach(_),H.forEach(_),C.forEach(_),d=S(v),m=V(v,c),v.forEach(_),this.h()},h(){u(t,"class","sr-only"),u(i,"stroke-linecap","round"),u(i,"stroke-linejoin","round"),u(i,"stroke-width","2"),u(i,"d","M6 18L18 6M6 6l12 12"),u(o,"class","h-6 w-6 transition-colors"),u(o,"fill","none"),u(o,"viewBox","0 0 24 24"),u(o,"stroke","currentColor"),u(o,"aria-hidden","true"),u(a,"type","button"),u(a,"class","rounded-md float-right text-gray-600 hover:text-black"),u(a,"title","Dismiss snackbar"),u(e,"role","alert"),u(e,"class","fixed inset-4 top-auto bg-gray-200 text-black mx-auto px-4 py-2 max-w-lg")},m(p,v){g(p,e,v),$(e,a),$(a,t),$(t,r),$(a,l),$(a,o),$(o,i),$(e,d),$(e,m),f=!0,y||(R=Z(a,"click",function(){ee(n[0].dismiss)&&n[0].dismiss.apply(this,arguments)}),y=!0)},p(p,v){n=p,(!f||v&1)&&c!==(c=n[0].message+"")&&te(m,c)},i(p){f||(ae(()=>{s||(s=U(e,Q,{y:100,duration:300},!0)),s.run(1)}),f=!0)},o(p){s||(s=U(e,Q,{y:100,duration:300},!1)),s.run(0),f=!1},d(p){p&&_(e),p&&s&&s.end(),y=!1,R()}}}function ge(n){let e,a,t=n[0]&&z(n);return{c(){t&&t.c(),e=j()},l(r){t&&t.l(r),e=j()},m(r,l){t&&t.m(r,l),g(r,e,l),a=!0},p(r,[l]){r[0]?t?(t.p(r,l),l&1&&b(t,1)):(t=z(r),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(re(),k(t,1,1,()=>{t=null}),se())},i(r){a||(b(t),a=!0)},o(r){k(t),a=!1},d(r){t&&t.d(r),r&&_(e)}}}function be(n,e,a){let{data:t}=e;return n.$$set=r=>{"data"in r&&a(0,t=r.data)},[t]}class he extends B{constructor(e){super(),I(this,e,be,ge,O,{data:0})}}function ke(){return new WebSocket(`ws://${window.location.host}/remote`)}function ye(n){return de(new Map,e=>{const a=new AbortController;function t({data:r}){const l=JSON.parse(r),o=new Map(Object.entries(l));e(o)}return n==null||n.addEventListener("message",t,a),()=>a.abort()})}function Le(n){return Y(n,e=>Array.from(e.entries()))}function Ne(n){return Y(n,e=>Array.from(e.keys()))}function we(n){let e;const a=n[2].default,t=oe(a,n,n[3],null);return{c(){t&&t.c()},l(r){t&&t.l(r)},m(r,l){t&&t.m(r,l),e=!0},p(r,l){t&&t.p&&(!e||l&8)&&le(t,a,r,r[3],e?ue(a,r[3],l,null):ie(r[3]),null)},i(r){e||(b(t,r),e=!0)},o(r){k(t,r),e=!1},d(r){t&&t.d(r)}}}function Se(n){let e,a,t,r,l,o,i,d,c,m;return t=new $e({}),l=new ce({}),i=new me({props:{$$slots:{default:[we]},$$scope:{ctx:n}}}),c=new he({props:{data:n[0]}}),{c(){e=E("link"),a=w(),D(t.$$.fragment),r=w(),D(l.$$.fragment),o=w(),D(i.$$.fragment),d=w(),D(c.$$.fragment),this.h()},l(s){const f=ne('[data-svelte="svelte-1tkg7m6"]',document.head);e=x(f,"LINK",{rel:!0,href:!0}),f.forEach(_),a=S(s),L(t.$$.fragment,s),r=S(s),L(l.$$.fragment,s),o=S(s),L(i.$$.fragment,s),d=S(s),L(c.$$.fragment,s),this.h()},h(){document.title="CellWall Remote",u(e,"rel","manifest"),u(e,"href","/manifest.webmanifest")},m(s,f){$(document.head,e),g(s,a,f),N(t,s,f),g(s,r,f),N(l,s,f),g(s,o,f),N(i,s,f),g(s,d,f),N(c,s,f),m=!0},p(s,[f]){const y={};f&8&&(y.$$scope={dirty:f,ctx:s}),i.$set(y);const R={};f&1&&(R.data=s[0]),c.$set(R)},i(s){m||(b(t.$$.fragment,s),b(l.$$.fragment,s),b(i.$$.fragment,s),b(c.$$.fragment,s),m=!0)},o(s){k(t.$$.fragment,s),k(l.$$.fragment,s),k(i.$$.fragment,s),k(c.$$.fragment,s),m=!1},d(s){_(e),s&&_(a),M(t,s),s&&_(r),M(l,s),s&&_(o),M(i,s),s&&_(d),M(c,s)}}}function Me(){return X("remote")}function je(){return X(A)}function Ee(n,e,a){let t,{$$slots:r={},$$scope:l}=e;const o=ke(),i=ye(o);W("remote",{socket:o,state:i});const d=new A,{currentSnackbarData:c}=d;return G(n,c,m=>a(0,t=m)),W(A,d),o==null||o.addEventListener("error",m=>{console.error("RemoteSocket error",m),d.showSnackbar("Remote socket error")}),o==null||o.addEventListener("open",m=>console.info("RemoteSocket open",m)),o==null||o.addEventListener("close",m=>console.info("RemoteSocket close",m)),n.$$set=m=>{"$$scope"in m&&a(3,l=m.$$scope)},[t,c,r,l]}class Ae extends B{constructor(e){super(),I(this,e,Ee,Se,O,{})}}export{Ae as _,Ne as a,je as b,Me as g,Le as s};
