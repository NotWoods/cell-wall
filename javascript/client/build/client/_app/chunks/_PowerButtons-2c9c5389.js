import{S as D,i as A,s as F,e as w,t as p,k as v,w as P,c as E,a as S,h as g,d as u,m as k,x as B,b as _,g as b,J as d,y as O,q as j,o as L,B as q}from"./vendor-972526c7.js";import{S as y}from"./SubmitButton-1680a1c0.js";import{p as G}from"./_form-52443b97.js";function I(s){let e;return{c(){e=p("Off")},l(t){e=g(t,"Off")},m(t,r){b(t,e,r)},d(t){t&&u(e)}}}function J(s){let e;return{c(){e=p("On")},l(t){e=g(t,"On")},m(t,r){b(t,e,r)},d(t){t&&u(e)}}}function N(s){let e,t,r,f,o,m,l,i;return o=new y({props:{loading:s[1],colors:C,name:h,value:"false",class:"rounded-r-none border-r border-slate-500",formaction:s[0],"aria-label":"Power off",$$slots:{default:[I]},$$scope:{ctx:s}}}),o.$on("click",s[3]),l=new y({props:{loading:s[1],colors:C,name:h,value:"true",class:"rounded-l-none",formaction:s[0],"aria-label":"Power on",$$slots:{default:[J]},$$scope:{ctx:s}}}),l.$on("click",s[3]),{c(){e=w("fieldset"),t=w("legend"),r=p("Power"),f=v(),P(o.$$.fragment),m=v(),P(l.$$.fragment),this.h()},l(n){e=E(n,"FIELDSET",{class:!0,name:!0});var a=S(e);t=E(a,"LEGEND",{class:!0});var c=S(t);r=g(c,"Power"),c.forEach(u),f=k(a),B(o.$$.fragment,a),m=k(a),B(l.$$.fragment,a),a.forEach(u),this.h()},h(){_(t,"class","sr-only"),_(e,"class","flex"),_(e,"name",h)},m(n,a){b(n,e,a),d(e,t),d(t,r),d(e,f),O(o,e,null),d(e,m),O(l,e,null),i=!0},p(n,[a]){const c={};a&1&&(c.formaction=n[0]),a&32&&(c.$$scope={dirty:a,ctx:n}),o.$set(c);const $={};a&1&&($.formaction=n[0]),a&32&&($.$$scope={dirty:a,ctx:n}),l.$set($)},i(n){i||(j(o.$$.fragment,n),j(l.$$.fragment,n),i=!0)},o(n){L(o.$$.fragment,n),L(l.$$.fragment,n),i=!1},d(n){n&&u(e),q(o),q(l)}}}const C={pending:"bg-slate-700",success:"bg-slate-700 hover:bg-slate-800"},h="on";function T(s,e,t){let r;const f=Promise.resolve();let{serial:o}=e,m=Promise.resolve();async function l(i){const n=i.target;await G(r,{on:n.value})}return s.$$set=i=>{"serial"in i&&t(4,o=i.serial)},s.$$.update=()=>{s.$$.dirty&16&&t(0,r=`/api/device/power/${o}`)},[r,f,m,l,o]}class M extends D{constructor(e){super();A(this,e,T,N,F,{serial:4})}}export{M as P};
