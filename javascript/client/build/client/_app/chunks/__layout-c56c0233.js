import{S as B,i as I,s as T,e as E,c as x,a as h,d,b as u,g,J as v,l as j,K as P,L as X,t as V,k as y,M as q,h as H,m as S,N as W,O as z,j as Y,P as Z,Q as F,q as b,n as ee,o as k,p as te,R as ae,T as J,U as re,V as se,W as ne,w as N,X as le,x as R,y as C,B as M,r as K,F as oe,G as ie,H as ue,I as fe}from"./vendor-e399076d.js";import{n as ce,T as me,R as de}from"./TopBar-bec206db.js";import{S as U}from"./snackbar-host-867f3ede.js";function G(l){let t,a,e,r,o;return{c(){t=E("div"),a=E("div"),this.h()},l(n){t=x(n,"DIV",{class:!0,role:!0,"aria-valuemin":!0,"aria-valuemax":!0,"aria-valuetext":!0});var i=h(t);a=x(i,"DIV",{class:!0}),h(a).forEach(d),i.forEach(d),this.h()},h(){var n,i;u(a,"class","progress-bar-value w-full h-full bg-gray-200 svelte-7f51jt"),u(t,"class","absolute w-full h-1 bg-green-900 overflow-hidden"),u(t,"role","progressbar"),u(t,"aria-valuemin",e=0),u(t,"aria-valuemax",r=1),u(t,"aria-valuetext",o="Loading "+((i=(n=l[0])==null?void 0:n.to)==null?void 0:i.pathname))},m(n,i){g(n,t,i),v(t,a)},p(n,i){var _,c;i&1&&o!==(o="Loading "+((c=(_=n[0])==null?void 0:_.to)==null?void 0:c.pathname))&&u(t,"aria-valuetext",o)},d(n){n&&d(t)}}}function _e(l){let t,a=l[0]!=null&&G(l);return{c(){a&&a.c(),t=j()},l(e){a&&a.l(e),t=j()},m(e,r){a&&a.m(e,r),g(e,t,r)},p(e,[r]){e[0]!=null?a?a.p(e,r):(a=G(e),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},i:P,o:P,d(e){a&&a.d(e),e&&d(t)}}}function pe(l,t,a){let e;return X(l,ce,r=>a(0,e=r)),[e]}class ve extends B{constructor(t){super();I(this,t,pe,_e,T,{})}}function Q(l){let t,a,e,r,o,n,i,_,c=l[0].message+"",m,s,f,w,D;return{c(){t=E("aside"),a=E("button"),e=E("span"),r=V("Dismiss snackbar"),o=y(),n=q("svg"),i=q("path"),_=y(),m=V(c),this.h()},l(p){t=x(p,"ASIDE",{role:!0,class:!0});var $=h(t);a=x($,"BUTTON",{type:!0,class:!0,title:!0});var L=h(a);e=x(L,"SPAN",{class:!0});var A=h(e);r=H(A,"Dismiss snackbar"),A.forEach(d),o=S(L),n=W(L,"svg",{class:!0,fill:!0,viewBox:!0,stroke:!0,"aria-hidden":!0});var O=h(n);i=W(O,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),h(i).forEach(d),O.forEach(d),L.forEach(d),_=S($),m=H($,c),$.forEach(d),this.h()},h(){u(e,"class","sr-only"),u(i,"stroke-linecap","round"),u(i,"stroke-linejoin","round"),u(i,"stroke-width","2"),u(i,"d","M6 18L18 6M6 6l12 12"),u(n,"class","h-6 w-6 transition-colors"),u(n,"fill","none"),u(n,"viewBox","0 0 24 24"),u(n,"stroke","currentColor"),u(n,"aria-hidden","true"),u(a,"type","button"),u(a,"class","rounded-md float-right text-gray-600 hover:text-black"),u(a,"title","Dismiss snackbar"),u(t,"role","alert"),u(t,"class","fixed inset-4 top-auto bg-gray-200 text-black mx-auto px-4 py-2 max-w-lg")},m(p,$){g(p,t,$),v(t,a),v(a,e),v(e,r),v(a,o),v(a,n),v(n,i),v(t,_),v(t,m),f=!0,w||(D=z(a,"click",function(){ae(l[0].dismiss)&&l[0].dismiss.apply(this,arguments)}),w=!0)},p(p,$){l=p,(!f||$&1)&&c!==(c=l[0].message+"")&&Y(m,c)},i(p){f||(Z(()=>{s||(s=F(t,J,{y:100,duration:300},!0)),s.run(1)}),f=!0)},o(p){s||(s=F(t,J,{y:100,duration:300},!1)),s.run(0),f=!1},d(p){p&&d(t),p&&s&&s.end(),w=!1,D()}}}function $e(l){let t,a,e=l[0]&&Q(l);return{c(){e&&e.c(),t=j()},l(r){e&&e.l(r),t=j()},m(r,o){e&&e.m(r,o),g(r,t,o),a=!0},p(r,[o]){r[0]?e?(e.p(r,o),o&1&&b(e,1)):(e=Q(r),e.c(),b(e,1),e.m(t.parentNode,t)):e&&(ee(),k(e,1,1,()=>{e=null}),te())},i(r){a||(b(e),a=!0)},o(r){k(e),a=!1},d(r){e&&e.d(r),r&&d(t)}}}function ge(l,t,a){let{data:e}=t;return l.$$set=r=>{"data"in r&&a(0,e=r.data)},[e]}class be extends B{constructor(t){super();I(this,t,ge,$e,T,{data:0})}}function he(){return new WebSocket(`ws://${window.location.host}/remote`)}function ke(l){return re(new Map,t=>{const a=new AbortController;function e({data:r}){const o=JSON.parse(r),n=new Map(Object.entries(o));t(n)}return l==null||l.addEventListener("message",e,a),()=>a.abort()})}function Le(l){return se(l,t=>Array.from(t.values()))}function we(l){let t;const a=l[2].default,e=oe(a,l,l[3],null);return{c(){e&&e.c()},l(r){e&&e.l(r)},m(r,o){e&&e.m(r,o),t=!0},p(r,o){e&&e.p&&(!t||o&8)&&ie(e,a,r,r[3],t?fe(a,r[3],o,null):ue(r[3]),null)},i(r){t||(b(e,r),t=!0)},o(r){k(e,r),t=!1},d(r){e&&e.d(r)}}}function ye(l){let t,a,e,r,o,n,i,_,c,m;return e=new ve({}),o=new me({}),i=new de({props:{$$slots:{default:[we]},$$scope:{ctx:l}}}),c=new be({props:{data:l[0]}}),{c(){t=E("link"),a=y(),N(e.$$.fragment),r=y(),N(o.$$.fragment),n=y(),N(i.$$.fragment),_=y(),N(c.$$.fragment),this.h()},l(s){const f=le('[data-svelte="svelte-1tkg7m6"]',document.head);t=x(f,"LINK",{rel:!0,href:!0}),f.forEach(d),a=S(s),R(e.$$.fragment,s),r=S(s),R(o.$$.fragment,s),n=S(s),R(i.$$.fragment,s),_=S(s),R(c.$$.fragment,s),this.h()},h(){document.title="CellWall Remote",u(t,"rel","manifest"),u(t,"href","/manifest.webmanifest")},m(s,f){v(document.head,t),g(s,a,f),C(e,s,f),g(s,r,f),C(o,s,f),g(s,n,f),C(i,s,f),g(s,_,f),C(c,s,f),m=!0},p(s,[f]){const w={};f&8&&(w.$$scope={dirty:f,ctx:s}),i.$set(w);const D={};f&1&&(D.data=s[0]),c.$set(D)},i(s){m||(b(e.$$.fragment,s),b(o.$$.fragment,s),b(i.$$.fragment,s),b(c.$$.fragment,s),m=!0)},o(s){k(e.$$.fragment,s),k(o.$$.fragment,s),k(i.$$.fragment,s),k(c.$$.fragment,s),m=!1},d(s){d(t),s&&d(a),M(e,s),s&&d(r),M(o,s),s&&d(n),M(i,s),s&&d(_),M(c,s)}}}function Ne(){return ne("remote")}function Se(l,t,a){let e,{$$slots:r={},$$scope:o}=t;const n=he(),i=ke(n);K("remote",{socket:n,state:i});const _=new U,{currentSnackbarData:c}=_;return X(l,c,m=>a(0,e=m)),K(U,_),n==null||n.addEventListener("error",m=>console.error("RemoteSocket error",m)),n==null||n.addEventListener("open",m=>console.info("RemoteSocket open",m)),n==null||n.addEventListener("close",m=>console.info("RemoteSocket close",m)),l.$$set=m=>{"$$scope"in m&&a(3,o=m.$$scope)},[e,c,r,o]}class Re extends B{constructor(t){super();I(this,t,Se,ye,T,{})}}export{Re as _,Ne as g,Le as s};
