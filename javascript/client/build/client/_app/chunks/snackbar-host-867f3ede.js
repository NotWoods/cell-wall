import{D as c}from"./vendor-e399076d.js";function l(t,n={}){const{signal:r}=n;return r!=null&&r.aborted?Promise.reject(new Error("AbortError")):new Promise((a,e)=>{const s=setTimeout(a,t);r&&r.addEventListener("abort",()=>{clearTimeout(s),e(new Error("AbortError"))})})}function b(...t){const n=t.filter(e=>e!=null);if(n.length<=1)return n[0];const r=new AbortController,a=r.abort.bind(r);for(const e of n)e.aborted?a():e.addEventListener("abort",a,{once:!0,signal:r.signal});return r.signal}var u=(t=>(t[t.SHORT=1500]="SHORT",t[t.LONG=2750]="LONG",t))(u||{});class f{constructor(){this._currentSnackbarData=c(void 0),this._lastSnackbar=Promise.resolve()}get currentSnackbarData(){return this._currentSnackbarData}showSnackbar(n,r=1500,a={}){const e=new AbortController,s={message:n,duration:r,dismiss:e.abort.bind(e)},o=b(e.signal,a.signal),i=this._lastSnackbar.catch(()=>{}).then(()=>{if(!(o!=null&&o.aborted))return this._currentSnackbarData.set(s),l(r,{signal:o}).finally(()=>{this._currentSnackbarData.set(void 0)})});return this._lastSnackbar=i,i}}export{f as S,u as a};
