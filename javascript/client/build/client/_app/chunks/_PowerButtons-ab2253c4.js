import{S as F,i as G,s as I,e as w,t as _,k as v,w as P,c as E,a as S,h as b,d,m as k,x as O,b as p,g as h,J as $,y as B,q as L,o as q,B as C}from"./vendor-e399076d.js";import{S as D}from"./SubmitButton-4475d829.js";import{p as J}from"./_form-52443b97.js";function N(a){let e;return{c(){e=_("Off")},l(t){e=b(t,"Off")},m(t,r){h(t,e,r)},d(t){t&&d(e)}}}function T(a){let e;return{c(){e=_("On")},l(t){e=b(t,"On")},m(t,r){h(t,e,r)},d(t){t&&d(e)}}}function j(a){let e,t,r,c,o,u,l,i;return o=new D({props:{loading:a[2],colors:A,name:g,value:"false",disabled:a[0]===void 0,class:"rounded-r-none border-r border-slate-500",formaction:a[1],"aria-label":"Power off",$$slots:{default:[N]},$$scope:{ctx:a}}}),o.$on("click",a[4]),l=new D({props:{loading:a[2],colors:A,name:g,value:"true",disabled:a[0]===void 0,class:"rounded-l-none",formaction:a[1],"aria-label":"Power on",$$slots:{default:[T]},$$scope:{ctx:a}}}),l.$on("click",a[4]),{c(){e=w("fieldset"),t=w("legend"),r=_("Power"),c=v(),P(o.$$.fragment),u=v(),P(l.$$.fragment),this.h()},l(n){e=E(n,"FIELDSET",{class:!0,name:!0});var s=S(e);t=E(s,"LEGEND",{class:!0});var f=S(t);r=b(f,"Power"),f.forEach(d),c=k(s),O(o.$$.fragment,s),u=k(s),O(l.$$.fragment,s),s.forEach(d),this.h()},h(){p(t,"class","sr-only"),p(e,"class","flex"),p(e,"name",g)},m(n,s){h(n,e,s),$(e,t),$(t,r),$(e,c),B(o,e,null),$(e,u),B(l,e,null),i=!0},p(n,[s]){const f={};s&1&&(f.disabled=n[0]===void 0),s&2&&(f.formaction=n[1]),s&32&&(f.$$scope={dirty:s,ctx:n}),o.$set(f);const m={};s&1&&(m.disabled=n[0]===void 0),s&2&&(m.formaction=n[1]),s&32&&(m.$$scope={dirty:s,ctx:n}),l.$set(m)},i(n){i||(L(o.$$.fragment,n),L(l.$$.fragment,n),i=!0)},o(n){q(o.$$.fragment,n),q(l.$$.fragment,n),i=!1},d(n){n&&d(e),C(o),C(l)}}}const A={pending:"bg-slate-700",success:"bg-slate-700 hover:bg-slate-800"},g="on";function y(a,e,t){let r;const c=Promise.resolve();let{serial:o}=e,u=Promise.resolve();async function l(i){const n=i.target;await J(r,{on:n.value})}return a.$$set=i=>{"serial"in i&&t(0,o=i.serial)},a.$$.update=()=>{a.$$.dirty&1&&t(1,r=`/api/device/power/${o}`)},[o,r,c,u,l]}class M extends F{constructor(e){super();G(this,e,y,j,I,{serial:0})}}export{M as P};
