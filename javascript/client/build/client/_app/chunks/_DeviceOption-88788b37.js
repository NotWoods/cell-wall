import{S as p,i as b,s as g,F as O,e as h,w as T,k as F,c as v,a as w,x as H,m as P,d as u,b as _,g as d,y as q,J as k,G as B,H as U,I as $,q as N,o as S,B as x,t as j,h as I,j as C,K as D}from"./vendor-972526c7.js";import{L as y}from"./SubmitButton-1680a1c0.js";function R(){return async({fetch:a})=>{const e=await a("/api/device/");return e.ok?{props:{devices:Object.values(await e.json())}}:e.status===404||e.status===301?{props:{devices:[]}}:{status:e.status,error:new Error(`Could not load devices, ${e.statusText}`)}}}const z=a=>({}),E=a=>({inputClassName:L});function A(a){let e;return{c(){e=j(a[2])},l(t){e=I(t,a[2])},m(t,n){d(t,e,n)},p(t,n){n&4&&C(e,t[2])},d(t){t&&u(e)}}}function G(a){let e;return{c(){e=h("input"),this.h()},l(t){e=v(t,"INPUT",{type:!0,id:!0,class:!0}),this.h()},h(){_(e,"type","text"),_(e,"id",a[1]),_(e,"class",L)},m(t,n){d(t,e,n)},p(t,n){n&2&&_(e,"id",t[1])},d(t){t&&u(e)}}}function J(a){let e,t,n,c,o;t=new y({props:{class:"mb-4 sm:mb-0 sm:mr-4 flex-initial w-36",for:a[1],$$slots:{default:[A]},$$scope:{ctx:a}}});const f=a[3].default,i=O(f,a,a[4],E),s=i||G(a);return{c(){e=h("div"),T(t.$$.fragment),n=F(),s&&s.c(),this.h()},l(l){e=v(l,"DIV",{class:!0});var r=w(e);H(t.$$.fragment,r),n=P(r),s&&s.l(r),r.forEach(u),this.h()},h(){_(e,"class",c="flex flex-col sm:flex-row sm:items-center text-black "+a[0])},m(l,r){d(l,e,r),q(t,e,null),k(e,n),s&&s.m(e,null),o=!0},p(l,[r]){const m={};r&2&&(m.for=l[1]),r&20&&(m.$$scope={dirty:r,ctx:l}),t.$set(m),i?i.p&&(!o||r&16)&&B(i,f,l,l[4],o?$(f,l[4],r,z):U(l[4]),E):s&&s.p&&(!o||r&2)&&s.p(l,o?r:-1),(!o||r&1&&c!==(c="flex flex-col sm:flex-row sm:items-center text-black "+l[0]))&&_(e,"class",c)},i(l){o||(N(t.$$.fragment,l),N(s,l),o=!0)},o(l){S(t.$$.fragment,l),S(s,l),o=!1},d(l){l&&u(e),x(t),s&&s.d(l)}}}const L="block w-full shadow-sm sm:text-sm border-gray-300 rounded-md flex-1";function K(a,e,t){let{$$slots:n={},$$scope:c}=e,{class:o=""}=e,{for:f=void 0}=e,{label:i}=e;return a.$$set=s=>{"class"in s&&t(0,o=s.class),"for"in s&&t(1,f=s.for),"label"in s&&t(2,i=s.label),"$$scope"in s&&t(4,c=s.$$scope)},[o,f,i,n,c]}class X extends p{constructor(e){super();b(this,e,K,J,g,{class:0,for:1,label:2})}}function V(a){var f;let e,t=(((f=a[0].info)==null?void 0:f.deviceName)||a[0].serial)+"",n,c,o;return{c(){e=h("option"),n=j(t),this.h()},l(i){e=v(i,"OPTION",{});var s=w(e);n=I(s,t),s.forEach(u),this.h()},h(){e.__value=c=a[0].serial,e.value=e.__value,e.disabled=o=!a[0].connected},m(i,s){d(i,e,s),k(e,n)},p(i,[s]){var l;s&1&&t!==(t=(((l=i[0].info)==null?void 0:l.deviceName)||i[0].serial)+"")&&C(n,t),s&1&&c!==(c=i[0].serial)&&(e.__value=c,e.value=e.__value),s&1&&o!==(o=!i[0].connected)&&(e.disabled=o)},i:D,o:D,d(i){i&&u(e)}}}function W(a,e,t){let{device:n}=e;return a.$$set=c=>{"device"in c&&t(0,n=c.device)},[n]}class Y extends p{constructor(e){super();b(this,e,W,V,g,{device:0})}}export{Y as D,X as H,R as c};
