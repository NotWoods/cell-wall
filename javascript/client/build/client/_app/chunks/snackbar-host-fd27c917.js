import{D as b}from"./vendor-972526c7.js";function l(n,a={}){const{signal:r}=a;return(r==null?void 0:r.aborted)?Promise.reject(new Error("AbortError")):new Promise((e,t)=>{const s=setTimeout(e,n);r&&r.addEventListener("abort",()=>{clearTimeout(s),t(new Error("AbortError"))})})}function u(...n){const a=n.filter(t=>t!=null);if(a.length<=1)return a[0];const r=new AbortController,e=r.abort.bind(r);for(const t of a)t.aborted?e():t.addEventListener("abort",e,{once:!0,signal:r.signal});return r.signal}var c;(function(n){n[n.SHORT=1500]="SHORT",n[n.LONG=2750]="LONG"})(c||(c={}));class f{constructor(){this._currentSnackbarData=b(void 0),this._lastSnackbar=Promise.resolve()}get currentSnackbarData(){return this._currentSnackbarData}showSnackbar(a,r=1500,e={}){const t=new AbortController,s={message:a,duration:r,dismiss:t.abort.bind(t)},o=u(t.signal,e.signal),i=this._lastSnackbar.catch(()=>{}).then(()=>{if(!(o==null?void 0:o.aborted))return this._currentSnackbarData.set(s),l(r,{signal:o}).finally(()=>{this._currentSnackbarData.set(void 0)})});return this._lastSnackbar=i,i}}export{f as S,c as a};
