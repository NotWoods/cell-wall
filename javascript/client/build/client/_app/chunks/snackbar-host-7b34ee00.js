import"./cell-state-schema-b294815b.js";import{D as c}from"./vendor-e399076d.js";function l(...t){const e=t.filter(n=>n!=null);if(e.length<=1)return e[0];const r=new AbortController,a=r.abort.bind(r);for(const n of e)n.aborted?a():n.addEventListener("abort",a,{once:!0,signal:r.signal});return r.signal}function b(t,e={}){const{signal:r}=e;return r!=null&&r.aborted?Promise.reject(new Error("AbortError")):new Promise((a,n)=>{const s=setTimeout(a,t);r&&r.addEventListener("abort",()=>{clearTimeout(s),n(new Error("AbortError"))})})}var u=(t=>(t[t.SHORT=1500]="SHORT",t[t.LONG=2750]="LONG",t))(u||{});class f{constructor(){this._currentSnackbarData=c(void 0),this._lastSnackbar=Promise.resolve()}get currentSnackbarData(){return this._currentSnackbarData}showSnackbar(e,r=1500,a={}){const n=new AbortController,s={message:e,duration:r,dismiss:n.abort.bind(n)},o=l(n.signal,a.signal),i=this._lastSnackbar.catch(()=>{}).then(()=>{if(!(o!=null&&o.aborted))return this._currentSnackbarData.set(s),b(r,{signal:o}).finally(()=>{this._currentSnackbarData.set(void 0)})});return this._lastSnackbar=i,i}}export{f as S,u as a};
