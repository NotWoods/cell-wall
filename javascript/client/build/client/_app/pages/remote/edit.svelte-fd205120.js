import{S as ae,i as ie,s as re,w as N,x as z,y as P,q as g,o as w,B as k,L as Q,k as O,m as C,g as v,n as se,p as oe,d as h,ab as ue,l as Z,e as T,c as E,a as L,b as r,P as fe,ad as W,O as $e,a6 as ce,a7 as pe,t as x,h as ee,J as H}from"../../chunks/vendor-e399076d.js";import{R as me}from"../../chunks/ResetSubmit-e100b998.js";import{H as U,D as _e}from"../../chunks/HorizontalField-7014eec1.js";import{F as he}from"../../chunks/SubmitButton-bf07f081.js";import{g as de,s as ve}from"../../chunks/__layout-c56c0233.js";import{P as ge}from"../../chunks/_PowerButtons-4eb88db8.js";import{p as be}from"../../chunks/_form-52443b97.js";import"../../chunks/snackbar-host-867f3ede.js";import"../../chunks/TopBar-bec206db.js";function te(i,e,o){const l=i.slice();return l[11]=e[o],l}function le(i,e){let o,l,n;return l=new _e({props:{device:e[11]}}),{key:i,first:null,c(){o=Z(),N(l.$$.fragment),this.h()},l(s){o=Z(),z(l.$$.fragment,s),this.h()},h(){this.first=o},m(s,a){v(s,o,a),P(l,s,a),n=!0},p(s,a){e=s;const m={};a&2&&(m.device=e[11]),l.$set(m)},i(s){n||(g(l.$$.fragment,s),n=!0)},o(s){w(l.$$.fragment,s),n=!1},d(s){s&&h(o),k(l,s)}}}function we(i){let e,o=[],l=new Map,n,s,a,m,f=i[1];const _=u=>u[11].serial;for(let u=0;u<f.length;u+=1){let $=te(i,f,u),c=_($);l.set(c,o[u]=le(c,$))}return{c(){e=T("select");for(let u=0;u<o.length;u+=1)o[u].c();this.h()},l(u){e=E(u,"SELECT",{class:!0,name:!0,id:!0});var $=L(e);for(let c=0;c<o.length;c+=1)o[c].l($);$.forEach(h),this.h()},h(){r(e,"class",n=i[10]),r(e,"name","serial"),r(e,"id","control-serial"),i[0]===void 0&&fe(()=>i[8].call(e))},m(u,$){v(u,e,$);for(let c=0;c<o.length;c+=1)o[c].m(e,null);W(e,i[0]),s=!0,a||(m=$e(e,"change",i[8]),a=!0)},p(u,$){$&2&&(f=u[1],se(),o=ce(o,$,_,1,u,f,l,e,pe,le,null,te),oe()),(!s||$&1024&&n!==(n=u[10]))&&r(e,"class",n),$&1&&W(e,u[0])},i(u){if(!s){for(let $=0;$<f.length;$+=1)g(o[$]);s=!0}},o(u){for(let $=0;$<o.length;$+=1)w(o[$]);s=!1},d(u){u&&h(e);for(let $=0;$<o.length;$+=1)o[$].d();a=!1,m()}}}function Ne(i){let e,o,l,n,s,a,m,f;return{c(){e=T("select"),o=T("option"),l=T("option"),n=x("Web"),s=T("option"),a=x("Android"),this.h()},l(_){e=E(_,"SELECT",{name:!0,id:!0,class:!0});var u=L(e);o=E(u,"OPTION",{}),L(o).forEach(h),l=E(u,"OPTION",{});var $=L(l);n=ee($,"Web"),$.forEach(h),s=E(u,"OPTION",{});var c=L(s);a=ee(c,"Android"),c.forEach(h),u.forEach(h),this.h()},h(){o.__value="none",o.value=o.__value,l.__value="web",l.value=l.__value,s.__value="android",s.value=s.__value,r(e,"name","connection"),r(e,"id","control-connection"),e.disabled=!0,r(e,"class",f=i[10])},m(_,u){var $,c;v(_,e,u),H(e,o),H(e,l),H(l,n),H(e,s),H(s,a),W(e,(c=($=i[2])==null?void 0:$.connection)!=null?c:"none")},p(_,u){var $,c,S,b;u&4&&m!==(m=(c=($=_[2])==null?void 0:$.connection)!=null?c:"none")&&W(e,(b=(S=_[2])==null?void 0:S.connection)!=null?b:"none"),u&1024&&f!==(f=_[10])&&r(e,"class",f)},d(_){_&&h(e)}}}function ne(i){let e,o;return e=new U({props:{label:"Power",$$slots:{default:[ze]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment)},l(l){z(e.$$.fragment,l)},m(l,n){P(e,l,n),o=!0},p(l,n){const s={};n&16385&&(s.$$scope={dirty:n,ctx:l}),e.$set(s)},i(l){o||(g(e.$$.fragment,l),o=!0)},o(l){w(e.$$.fragment,l),o=!1},d(l){k(e,l)}}}function ze(i){let e,o;return e=new ge({props:{serial:i[0]}}),{c(){N(e.$$.fragment)},l(l){z(e.$$.fragment,l)},m(l,n){P(e,l,n),o=!0},p(l,n){const s={};n&1&&(s.serial=l[0]),e.$set(s)},i(l){o||(g(e.$$.fragment,l),o=!0)},o(l){w(e.$$.fragment,l),o=!1},d(l){k(e,l)}}}function Pe(i){let e,o,l;return{c(){e=T("input"),this.h()},l(n){e=E(n,"INPUT",{id:!0,class:!0,name:!0,type:!0,placeholder:!0}),this.h()},h(){var n,s,a;r(e,"id","control-deviceName"),r(e,"class",o=i[10]),r(e,"name","deviceName"),r(e,"type","text"),e.value=l=(a=(s=(n=i[2])==null?void 0:n.info)==null?void 0:s.deviceName)!=null?a:"",r(e,"placeholder","Pixel 10")},m(n,s){v(n,e,s)},p(n,s){var a,m,f;s&1024&&o!==(o=n[10])&&r(e,"class",o),s&4&&l!==(l=(f=(m=(a=n[2])==null?void 0:a.info)==null?void 0:m.deviceName)!=null?f:"")&&e.value!==l&&(e.value=l)},d(n){n&&h(e)}}}function ke(i){let e,o,l;return{c(){e=T("input"),this.h()},l(n){e=E(n,"INPUT",{id:!0,class:!0,name:!0,type:!0,min:!0,placeholder:!0}),this.h()},h(){var n,s,a;r(e,"id","control-width"),r(e,"class",o=i[10]),r(e,"name","width"),r(e,"type","number"),r(e,"min",0),e.value=l=(a=(s=(n=i[2])==null?void 0:n.info)==null?void 0:s.width)!=null?a:"",r(e,"placeholder","900")},m(n,s){v(n,e,s)},p(n,s){var a,m,f;s&1024&&o!==(o=n[10])&&r(e,"class",o),s&4&&l!==(l=(f=(m=(a=n[2])==null?void 0:a.info)==null?void 0:m.width)!=null?f:"")&&e.value!==l&&(e.value=l)},d(n){n&&h(e)}}}function Te(i){let e,o,l;return{c(){e=T("input"),this.h()},l(n){e=E(n,"INPUT",{id:!0,class:!0,name:!0,type:!0,min:!0,placeholder:!0}),this.h()},h(){var n,s,a;r(e,"id","control-height"),r(e,"class",o=i[10]),r(e,"name","height"),r(e,"type","number"),r(e,"min",0),e.value=l=(a=(s=(n=i[2])==null?void 0:n.info)==null?void 0:s.height)!=null?a:"",r(e,"placeholder","2100")},m(n,s){v(n,e,s)},p(n,s){var a,m,f;s&1024&&o!==(o=n[10])&&r(e,"class",o),s&4&&l!==(l=(f=(m=(a=n[2])==null?void 0:a.info)==null?void 0:m.height)!=null?f:"")&&e.value!==l&&(e.value=l)},d(n){n&&h(e)}}}function Ee(i){let e,o,l;return{c(){e=T("input"),this.h()},l(n){e=E(n,"INPUT",{id:!0,class:!0,name:!0,type:!0,placeholder:!0}),this.h()},h(){var n,s,a;r(e,"id","control-x"),r(e,"class",o=i[10]),r(e,"name","x"),r(e,"type","number"),e.value=l=(a=(s=(n=i[2])==null?void 0:n.info)==null?void 0:s.x)!=null?a:"",r(e,"placeholder","10")},m(n,s){v(n,e,s)},p(n,s){var a,m,f;s&1024&&o!==(o=n[10])&&r(e,"class",o),s&4&&l!==(l=(f=(m=(a=n[2])==null?void 0:a.info)==null?void 0:m.x)!=null?f:"")&&e.value!==l&&(e.value=l)},d(n){n&&h(e)}}}function Ie(i){let e,o,l;return{c(){e=T("input"),this.h()},l(n){e=E(n,"INPUT",{id:!0,class:!0,name:!0,type:!0,placeholder:!0}),this.h()},h(){var n,s,a;r(e,"id","control-y"),r(e,"class",o=i[10]),r(e,"name","y"),r(e,"type","number"),e.value=l=(a=(s=(n=i[2])==null?void 0:n.info)==null?void 0:s.y)!=null?a:"",r(e,"placeholder","0")},m(n,s){v(n,e,s)},p(n,s){var a,m,f;s&1024&&o!==(o=n[10])&&r(e,"class",o),s&4&&l!==(l=(f=(m=(a=n[2])==null?void 0:a.info)==null?void 0:m.y)!=null?f:"")&&e.value!==l&&(e.value=l)},d(n){n&&h(e)}}}function Se(i){let e,o,l;return{c(){e=T("input"),this.h()},l(n){e=E(n,"INPUT",{id:!0,class:!0,name:!0,type:!0,placeholder:!0}),this.h()},h(){var n,s,a;r(e,"id","control-server"),r(e,"class",o=i[10]),r(e,"name","server"),r(e,"type","url"),e.value=l=(a=(s=(n=i[2])==null?void 0:n.info)==null?void 0:s.server)!=null?a:"",r(e,"placeholder","http://192.168.0.1")},m(n,s){v(n,e,s)},p(n,s){var a,m,f;s&1024&&o!==(o=n[10])&&r(e,"class",o),s&4&&l!==(l=(f=(m=(a=n[2])==null?void 0:a.info)==null?void 0:m.server)!=null?f:"")&&e.value!==l&&(e.value=l)},d(n){n&&h(e)}}}function Oe(i){var q;let e,o,l,n,s,a,m,f,_,u,$,c,S,b,F,I,A,y,R;e=new U({props:{for:"control-serial",label:"Device",$$slots:{default:[we,({inputClassName:t})=>({10:t}),({inputClassName:t})=>t?1024:0]},$$scope:{ctx:i}}}),l=new U({props:{for:"control-connection",label:"Connection",$$slots:{default:[Ne,({inputClassName:t})=>({10:t}),({inputClassName:t})=>t?1024:0]},$$scope:{ctx:i}}});let d=((q=i[2])==null?void 0:q.connection)==="android"&&ne(i);return a=new U({props:{for:"control-deviceName",label:"Device Name",$$slots:{default:[Pe,({inputClassName:t})=>({10:t}),({inputClassName:t})=>t?1024:0]},$$scope:{ctx:i}}}),f=new U({props:{for:"control-width",label:"Width",$$slots:{default:[ke,({inputClassName:t})=>({10:t}),({inputClassName:t})=>t?1024:0]},$$scope:{ctx:i}}}),u=new U({props:{for:"control-height",label:"Height",$$slots:{default:[Te,({inputClassName:t})=>({10:t}),({inputClassName:t})=>t?1024:0]},$$scope:{ctx:i}}}),c=new U({props:{for:"control-x",label:"X Position",$$slots:{default:[Ee,({inputClassName:t})=>({10:t}),({inputClassName:t})=>t?1024:0]},$$scope:{ctx:i}}}),b=new U({props:{for:"control-y",label:"Y Position",$$slots:{default:[Ie,({inputClassName:t})=>({10:t}),({inputClassName:t})=>t?1024:0]},$$scope:{ctx:i}}}),I=new U({props:{for:"control-server",label:"Asset Server",$$slots:{default:[Se,({inputClassName:t})=>({10:t}),({inputClassName:t})=>t?1024:0]},$$scope:{ctx:i}}}),y=new me({props:{loading:i[9]}}),{c(){N(e.$$.fragment),o=O(),N(l.$$.fragment),n=O(),d&&d.c(),s=O(),N(a.$$.fragment),m=O(),N(f.$$.fragment),_=O(),N(u.$$.fragment),$=O(),N(c.$$.fragment),S=O(),N(b.$$.fragment),F=O(),N(I.$$.fragment),A=O(),N(y.$$.fragment)},l(t){z(e.$$.fragment,t),o=C(t),z(l.$$.fragment,t),n=C(t),d&&d.l(t),s=C(t),z(a.$$.fragment,t),m=C(t),z(f.$$.fragment,t),_=C(t),z(u.$$.fragment,t),$=C(t),z(c.$$.fragment,t),S=C(t),z(b.$$.fragment,t),F=C(t),z(I.$$.fragment,t),A=C(t),z(y.$$.fragment,t)},m(t,p){P(e,t,p),v(t,o,p),P(l,t,p),v(t,n,p),d&&d.m(t,p),v(t,s,p),P(a,t,p),v(t,m,p),P(f,t,p),v(t,_,p),P(u,t,p),v(t,$,p),P(c,t,p),v(t,S,p),P(b,t,p),v(t,F,p),P(I,t,p),v(t,A,p),P(y,t,p),R=!0},p(t,p){var K;const B={};p&17411&&(B.$$scope={dirty:p,ctx:t}),e.$set(B);const D={};p&17412&&(D.$$scope={dirty:p,ctx:t}),l.$set(D),((K=t[2])==null?void 0:K.connection)==="android"?d?(d.p(t,p),p&4&&g(d,1)):(d=ne(t),d.c(),g(d,1),d.m(s.parentNode,s)):d&&(se(),w(d,1,1,()=>{d=null}),oe());const J={};p&17412&&(J.$$scope={dirty:p,ctx:t}),a.$set(J);const M={};p&17412&&(M.$$scope={dirty:p,ctx:t}),f.$set(M);const V={};p&17412&&(V.$$scope={dirty:p,ctx:t}),u.$set(V);const X={};p&17412&&(X.$$scope={dirty:p,ctx:t}),c.$set(X);const Y={};p&17412&&(Y.$$scope={dirty:p,ctx:t}),b.$set(Y);const j={};p&17412&&(j.$$scope={dirty:p,ctx:t}),I.$set(j);const G={};p&512&&(G.loading=t[9]),y.$set(G)},i(t){R||(g(e.$$.fragment,t),g(l.$$.fragment,t),g(d),g(a.$$.fragment,t),g(f.$$.fragment,t),g(u.$$.fragment,t),g(c.$$.fragment,t),g(b.$$.fragment,t),g(I.$$.fragment,t),g(y.$$.fragment,t),R=!0)},o(t){w(e.$$.fragment,t),w(l.$$.fragment,t),w(d),w(a.$$.fragment,t),w(f.$$.fragment,t),w(u.$$.fragment,t),w(c.$$.fragment,t),w(b.$$.fragment,t),w(I.$$.fragment,t),w(y.$$.fragment,t),R=!1},d(t){k(e,t),t&&h(o),k(l,t),t&&h(n),d&&d.d(t),t&&h(s),k(a,t),t&&h(m),k(f,t),t&&h(_),k(u,t),t&&h($),k(c,t),t&&h(S),k(b,t),t&&h(F),k(I,t),t&&h(A),k(y,t)}}}function Ce(i){let e,o;return e=new he({props:{class:"flex flex-col gap-y-4",action:"/api/device/"+i[0],onSubmit:i[5],$$slots:{default:[Oe,({loading:l})=>({9:l}),({loading:l})=>l?512:0]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment)},l(l){z(e.$$.fragment,l)},m(l,n){P(e,l,n),o=!0},p(l,[n]){const s={};n&1&&(s.action="/api/device/"+l[0]),n&16903&&(s.$$scope={dirty:n,ctx:l}),e.$set(s)},i(l){o||(g(e.$$.fragment,l),o=!0)},o(l){w(e.$$.fragment,l),o=!1},d(l){k(e,l)}}}function Ue(i,e,o){let l,n,s,a;const{state:m}=de();Q(i,m,c=>o(7,s=c));const f=ve(m);Q(i,f,c=>o(1,a=c));let _;async function u(c,S){function b(I){const A=c.get(I);if(typeof A=="string")return Number(A)}const F={serial:c.get("serial"),deviceName:c.get("deviceName"),width:b("width"),height:b("height"),x:b("x"),y:b("y"),server:c.get("server")};await be(S.toString(),F)}function $(){_=ue(this),o(0,_)}return i.$$.update=()=>{var c;i.$$.dirty&2&&o(6,l=(c=a[0])==null?void 0:c.serial),i.$$.dirty&193&&o(2,n=s.get(_!=null?_:l))},[_,a,n,m,f,u,l,s,$]}class De extends ae{constructor(e){super();ie(this,e,Ue,Ce,re,{})}}export{De as default};
