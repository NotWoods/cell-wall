import{S as A,i as O,s as T,e as w,t as y,k as L,c as k,a as b,h as z,d as _,m as N,b as p,f as m,g as v,M as S,j as q,E as C,P as H,Q as E,W as u,l as V,w as D,x as j,y as F,q as P,o as W,B as Q,$ as Y,p as Z,R as G,F as J,n as K,a4 as U,Y as X}from"../../chunks/index-36754a35.js";import{a as x,s as $,f as ee}from"../../chunks/fit-scale-8174d2ad.js";import{d as te,r as R}from"../../chunks/index-2d3b577e.js";import{c as se}from"../../chunks/web-9961d8d9.js";import{g as le}from"../../chunks/__layout-fb12489c.js";import"../../chunks/TopBar-b37596c0.js";import"../../chunks/snackbar-host-48cbce91.js";function re(l){return l?R(void 0,e=>{const t=new ResizeObserver(i=>e(i[0]));return t.observe(l),()=>t.unobserve(l)}):R(void 0)}function ie(l){return te(re(l),e=>{if(e)if(e.contentBoxSize){const t=e.contentBoxSize[0];return{width:t.inlineSize,height:t.blockSize}}else{const t=e.contentRect;return{width:t.width,height:t.height}}else return})}function ae(l){let e,t,i,o,a;return{c(){e=w("a"),t=H("svg"),i=H("path"),o=y(`
			Select App`),this.h()},l(n){e=k(n,"A",{href:!0,class:!0});var s=b(e);t=E(s,"svg",{viewBox:!0,fill:!0});var r=b(t);i=E(r,"path",{d:!0}),b(i).forEach(_),r.forEach(_),o=z(s,`
			Select App`),s.forEach(_),this.h()},h(){p(i,"d","M2,2H11V11H2V2M17.5,2C20,2 22,4 22,6.5C22,9 20,11 17.5,11C15,11 13,9 13,6.5C13,4 15,2 17.5,2M6.5,14L11,22H2L6.5,14M19,17H22V19H19V22H17V19H14V17H17V14H19V17Z"),p(t,"viewBox","0 0 24 24"),p(t,"fill","currentColor"),u(t,"w-12",!l[3]),u(t,"h-12",!l[3]),u(t,"w-6",l[3]),u(t,"h-6",l[3]),p(e,"href",a="/remote/apps/select/"+l[0].serial),p(e,"class","m-auto flex items-center text-center gap-1 rounded-lg transition-colors hover:bg-slate-900"),u(e,"flex-col",!l[3]),u(e,"p-4",!l[3]),u(e,"p-2",l[3]),u(e,"text-sm",l[3])},m(n,s){v(n,e,s),S(e,t),S(t,i),S(e,o)},p(n,s){s&8&&u(t,"w-12",!n[3]),s&8&&u(t,"h-12",!n[3]),s&8&&u(t,"w-6",n[3]),s&8&&u(t,"h-6",n[3]),s&1&&a!==(a="/remote/apps/select/"+n[0].serial)&&p(e,"href",a),s&8&&u(e,"flex-col",!n[3]),s&8&&u(e,"p-4",!n[3]),s&8&&u(e,"p-2",n[3]),s&8&&u(e,"text-sm",n[3])},d(n){n&&_(e)}}}function ne(l){let e;return{c(){e=y("TODO")},l(t){e=z(t,"TODO")},m(t,i){v(t,e,i)},p:C,d(t){t&&_(e)}}}function oe(l){let e,t,i=(l[0].deviceName||l[0].serial)+"",o,a,n;function s(h,f){return h[1]?ne:ae}let r=s(l),c=r(l);return{c(){e=w("article"),t=w("h3"),o=y(i),a=L(),c.c(),this.h()},l(h){e=k(h,"ARTICLE",{class:!0,href:!0,style:!0});var f=b(e);t=k(f,"H3",{class:!0});var d=b(t);o=z(d,i),d.forEach(_),a=N(f),c.l(f),f.forEach(_),this.h()},h(){p(t,"class","text-md"),p(e,"class","bg-slate-800 p-2 border rounded border-slate-700 flex flex-col absolute box-border overflow-hidden"),p(e,"href",n="/remote/select-app/"+l[0].serial),m(e,"left",l[2].x+"px"),m(e,"top",l[2].y+"px"),m(e,"width",l[2].width+"px"),m(e,"height",l[2].height+"px")},m(h,f){v(h,e,f),S(e,t),S(t,o),S(e,a),c.m(e,null)},p(h,[f]){f&1&&i!==(i=(h[0].deviceName||h[0].serial)+"")&&q(o,i),r===(r=s(h))&&c?c.p(h,f):(c.d(1),c=r(h),c&&(c.c(),c.m(e,null))),f&1&&n!==(n="/remote/select-app/"+h[0].serial)&&p(e,"href",n),f&4&&m(e,"left",h[2].x+"px"),f&4&&m(e,"top",h[2].y+"px"),f&4&&m(e,"width",h[2].width+"px"),f&4&&m(e,"height",h[2].height+"px")},i:C,o:C,d(h){h&&_(e),c.d()}}}function ce(l,e,t){let i,o,{info:a}=e,{scale:n}=e,{app:s}=e;return l.$$set=r=>{"info"in r&&t(0,a=r.info),"scale"in r&&t(4,n=r.scale),"app"in r&&t(1,s=r.app)},l.$$.update=()=>{l.$$.dirty&17&&t(2,i=x(a,n)),l.$$.dirty&4&&t(3,o=i.height<150)},[a,s,i,o,n]}class he extends A{constructor(e){super(),O(this,e,ce,oe,T,{info:0,scale:4,app:1})}}function B(l,e,t){const i=l.slice();return i[9]=e[t],i}function M(l,e){let t,i,o;return i=new he({props:{info:e[9],scale:e[3],app:void 0}}),{key:l,first:null,c(){t=V(),D(i.$$.fragment),this.h()},l(a){t=V(),j(i.$$.fragment,a),this.h()},h(){this.first=t},m(a,n){v(a,t,n),F(i,a,n),o=!0},p(a,n){e=a;const s={};n&4&&(s.info=e[9]),n&8&&(s.scale=e[3]),i.$set(s)},i(a){o||(P(i.$$.fragment,a),o=!0)},o(a){W(i.$$.fragment,a),o=!1},d(a){a&&_(t),Q(i,a)}}}function fe(l){let e,t=[],i=new Map,o,a=l[2].rectWithPos;const n=s=>s[9].serial;for(let s=0;s<a.length;s+=1){let r=B(l,a,s),c=n(r);i.set(c,t[s]=M(c,r))}return{c(){e=w("section");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=k(s,"SECTION",{class:!0,style:!0});var r=b(e);for(let c=0;c<t.length;c+=1)t[c].l(r);r.forEach(_),this.h()},h(){p(e,"class","relative"),m(e,"height",l[1].height*l[3]+"px")},m(s,r){v(s,e,r);for(let c=0;c<t.length;c+=1)t[c].m(e,null);l[8](e),o=!0},p(s,[r]){r&12&&(a=s[2].rectWithPos,K(),t=Y(t,r,n,1,s,a,i,e,U,M,null,B),Z()),(!o||r&10)&&m(e,"height",s[1].height*s[3]+"px")},i(s){if(!o){for(let r=0;r<a.length;r+=1)P(t[r]);o=!0}},o(s){for(let r=0;r<t.length;r+=1)W(t[r]);o=!1},d(s){s&&_(e);for(let r=0;r<t.length;r+=1)t[r].d();l[8](null)}}}function ue(l,e,t){let i,o,a,n,s,r=C,c=()=>(r(),r=J(i,g=>t(6,s=g)),i),h;l.$$.on_destroy.push(()=>r());const{state:f}=le();G(l,f,g=>t(7,h=g));let d;function I(g){X[g?"unshift":"push"](()=>{d=g,t(0,d)})}return l.$$.update=()=>{l.$$.dirty&1&&c(t(4,i=ie(d))),l.$$.dirty&128&&t(2,o=$(h)),l.$$.dirty&4&&t(1,a=se(o.rectWithPos)),l.$$.dirty&66&&t(3,n=s?ee({width:s.width,height:1/0},a):1)},[d,a,o,n,i,f,s,h,I]}class ve extends A{constructor(e){super(),O(this,e,ue,fe,T,{})}}export{ve as default};
