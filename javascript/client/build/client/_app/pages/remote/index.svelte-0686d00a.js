import{S as V,i as j,s as q,F as H,e as h,c as b,a as A,d as m,b as _,g as p,G as L,H as R,I as W,q as d,o as g,w as v,x as w,y as I,B as E,t as P,k as T,h as S,m as C,Y as N,J as k,j as D,Z as M}from"../../chunks/vendor-e399076d.js";import{S as U,F as Y}from"../../chunks/SubmitButton-bf07f081.js";import{V as G}from"../../chunks/VerticalField-2c292413.js";import{f as Z}from"../../chunks/_form-52443b97.js";import"../../chunks/snackbar-host-867f3ede.js";function z(f){let e,l,t;const r=f[2].default,o=H(r,f,f[1],null);return{c(){e=h("article"),o&&o.c(),this.h()},l(n){e=b(n,"ARTICLE",{class:!0});var i=A(e);o&&o.l(i),i.forEach(m),this.h()},h(){_(e,"class",l="bg-slate-800 p-4 border rounded border-slate-700 "+f[0])},m(n,i){p(n,e,i),o&&o.m(e,null),t=!0},p(n,[i]){o&&o.p&&(!t||i&2)&&L(o,r,n,n[1],t?W(r,n[1],i,null):R(n[1]),null),(!t||i&1&&l!==(l="bg-slate-800 p-4 border rounded border-slate-700 "+n[0]))&&_(e,"class",l)},i(n){t||(d(o,n),t=!0)},o(n){g(o,n),t=!1},d(n){n&&m(e),o&&o.d(n)}}}function K(f,e,l){let{$$slots:t={},$$scope:r}=e,{class:o=""}=e;return f.$$set=n=>{"class"in n&&l(0,o=n.class),"$$scope"in n&&l(1,r=n.$$scope)},[o,r,t]}class J extends V{constructor(e){super();j(this,e,K,z,q,{class:0})}}function Q(f){let e;return{c(){e=P(f[4])},l(l){e=S(l,f[4])},m(l,t){p(l,e,t)},p(l,t){t&16&&D(e,l[4])},d(l){l&&m(e)}}}function X(f){let e,l,t,r,o,n,i;const $=f[7].default,s=H($,f,f[8],null);return n=new U({props:{class:"mt-auto self-end",loading:f[5],name:"preset",value:f[1],formaction:f[2],$$slots:{default:[Q]},$$scope:{ctx:f}}}),{c(){e=h("h3"),l=P(f[0]),t=T(),r=h("div"),s&&s.c(),o=T(),v(n.$$.fragment),this.h()},l(a){e=b(a,"H3",{});var u=A(e);l=S(u,f[0]),u.forEach(m),t=C(a),r=b(a,"DIV",{class:!0});var c=A(r);s&&s.l(c),c.forEach(m),o=C(a),w(n.$$.fragment,a),this.h()},h(){N(e,"text-2xl",f[3]),N(e,"text-xl",!f[3]),_(r,"class","")},m(a,u){p(a,e,u),k(e,l),p(a,t,u),p(a,r,u),s&&s.m(r,null),p(a,o,u),I(n,a,u),i=!0},p(a,u){(!i||u&1)&&D(l,a[0]),u&8&&N(e,"text-2xl",a[3]),u&8&&N(e,"text-xl",!a[3]),s&&s.p&&(!i||u&256)&&L(s,$,a,a[8],i?W($,a[8],u,null):R(a[8]),null);const c={};u&32&&(c.loading=a[5]),u&2&&(c.value=a[1]),u&4&&(c.formaction=a[2]),u&272&&(c.$$scope={dirty:u,ctx:a}),n.$set(c)},i(a){i||(d(s,a),d(n.$$.fragment,a),i=!0)},o(a){g(s,a),g(n.$$.fragment,a),i=!1},d(a){a&&m(e),a&&m(t),a&&m(r),s&&s.d(a),a&&m(o),E(n,a)}}}function y(f){let e,l;return e=new J({props:{class:"flex flex-col gap-y-4",$$slots:{default:[X]},$$scope:{ctx:f}}}),{c(){v(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,r){I(e,t,r),l=!0},p(t,[r]){const o={};r&319&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(d(e.$$.fragment,t),l=!0)},o(t){g(e.$$.fragment,t),l=!1},d(t){E(e,t)}}}function x(f,e,l){let t,{$$slots:r={},$$scope:o}=e,{title:n}=e,{preset:i=void 0}=e,{formAction:$=void 0}=e,{large:s=!1}=e,{button:a="Activate"}=e,{status:u}=e;return f.$$set=c=>{"title"in c&&l(0,n=c.title),"preset"in c&&l(1,i=c.preset),"formAction"in c&&l(2,$=c.formAction),"large"in c&&l(3,s=c.large),"button"in c&&l(4,a=c.button),"status"in c&&l(6,u=c.status),"$$scope"in c&&l(8,o=c.$$scope)},f.$$.update=()=>{f.$$.dirty&66&&l(5,t=u.submitterName==="preset"&&u.submitterValue===i?u.loading:Promise.resolve())},[n,i,$,s,a,t,u,r,o]}class F extends V{constructor(e){super();j(this,e,x,y,q,{title:0,preset:1,formAction:2,large:3,button:4,status:6})}}function ee(f){let e,l,t,r,o,n,i,$;return{c(){e=h("select"),l=h("option"),t=P("Ignore"),r=h("option"),o=P("Blank"),n=h("option"),i=P("Off"),this.h()},l(s){e=b(s,"SELECT",{id:!0,name:!0,class:!0});var a=A(e);l=b(a,"OPTION",{});var u=A(l);t=S(u,"Ignore"),u.forEach(m),r=b(a,"OPTION",{});var c=A(r);o=S(c,"Blank"),c.forEach(m),n=b(a,"OPTION",{});var O=A(n);i=S(O,"Off"),O.forEach(m),a.forEach(m),this.h()},h(){l.__value="ignore",l.value=l.__value,r.__value="blank",r.value=r.__value,n.__value="off",n.value=n.__value,_(e,"id","control-rest"),_(e,"name","rest"),_(e,"class",$=f[2]+" cursor-pointer")},m(s,a){p(s,e,a),k(e,l),k(l,t),k(e,r),k(r,o),k(e,n),k(n,i)},p(s,a){a&4&&$!==($=s[2]+" cursor-pointer")&&_(e,"class",$)},d(s){s&&m(e)}}}function te(f){let e,l,t,r,o,n,i,$;return r=new G({props:{label:"Remaining cells",for:"control-rest",$$slots:{default:[ee,({inputClassName:s})=>({2:s}),({inputClassName:s})=>s?4:0]},$$scope:{ctx:f}}}),{c(){e=h("h2"),l=P("Presets"),t=T(),v(r.$$.fragment),o=T(),n=h("img"),this.h()},l(s){e=b(s,"H2",{class:!0});var a=A(e);l=S(a,"Presets"),a.forEach(m),t=C(s),w(r.$$.fragment,s),o=C(s),n=b(s,"IMG",{class:!0,alt:!0,src:!0}),this.h()},h(){_(e,"class","text-3xl mb-4"),_(n,"class","block mt-4 shadow-inner rounded"),_(n,"alt",""),M(n.src,i="https://raw.githubusercontent.com/NotWoods/cell-wall/main/images/finished.jpg")||_(n,"src",i)},m(s,a){p(s,e,a),k(e,l),p(s,t,a),I(r,s,a),p(s,o,a),p(s,n,a),$=!0},p(s,a){const u={};a&12&&(u.$$scope={dirty:a,ctx:s}),r.$set(u)},i(s){$||(d(r.$$.fragment,s),$=!0)},o(s){g(r.$$.fragment,s),$=!1},d(s){s&&m(e),s&&m(t),E(r,s),s&&m(o),s&&m(n)}}}function se(f){let e;return{c(){e=P("Calendar indicators and the week's weather.")},l(l){e=S(l,"Calendar indicators and the week's weather.")},m(l,t){p(l,e,t)},d(l){l&&m(e)}}}function le(f){let e;return{c(){e=P("What's avaliable to drink?")},l(l){e=S(l,"What's avaliable to drink?")},m(l,t){p(l,e,t)},d(l){l&&m(e)}}}function ae(f){let e,l;return{c(){e=h("input"),this.h()},l(t){e=b(t,"INPUT",{class:!0,id:!0,name:!0,type:!0,placeholder:!0}),this.h()},h(){_(e,"class",l=f[2]),_(e,"id","control-tag"),_(e,"name","tag"),_(e,"type","text"),_(e,"placeholder","Latest")},m(t,r){p(t,e,r)},p(t,r){r&4&&l!==(l=t[2])&&_(e,"class",l)},d(t){t&&m(e)}}}function re(f){let e,l;return e=new G({props:{label:"Tag",for:"control-tag",$$slots:{default:[ae,({inputClassName:t})=>({2:t}),({inputClassName:t})=>t?4:0]},$$scope:{ctx:f}}}),{c(){v(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&12&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(d(e.$$.fragment,t),l=!0)},o(t){g(e.$$.fragment,t),l=!1},d(t){E(e,t)}}}function ne(f){let e,l,t,r,o,n,i,$;return e=new J({props:{class:"row-span-2",$$slots:{default:[te]},$$scope:{ctx:f}}}),t=new F({props:{title:"Info",preset:"info",large:!0,status:f[1],$$slots:{default:[se]},$$scope:{ctx:f}}}),o=new F({props:{title:"Tea list",preset:"tea",large:!0,status:f[1],$$slots:{default:[le]},$$scope:{ctx:f}}}),i=new F({props:{title:"Install Android update",button:"Install",formAction:"/api/action/install",status:f[1],$$slots:{default:[re]},$$scope:{ctx:f}}}),{c(){v(e.$$.fragment),l=T(),v(t.$$.fragment),r=T(),v(o.$$.fragment),n=T(),v(i.$$.fragment)},l(s){w(e.$$.fragment,s),l=C(s),w(t.$$.fragment,s),r=C(s),w(o.$$.fragment,s),n=C(s),w(i.$$.fragment,s)},m(s,a){I(e,s,a),p(s,l,a),I(t,s,a),p(s,r,a),I(o,s,a),p(s,n,a),I(i,s,a),$=!0},p(s,a){const u={};a&8&&(u.$$scope={dirty:a,ctx:s}),e.$set(u);const c={};a&2&&(c.status=s[1]),a&8&&(c.$$scope={dirty:a,ctx:s}),t.$set(c);const O={};a&2&&(O.status=s[1]),a&8&&(O.$$scope={dirty:a,ctx:s}),o.$set(O);const B={};a&2&&(B.status=s[1]),a&8&&(B.$$scope={dirty:a,ctx:s}),i.$set(B)},i(s){$||(d(e.$$.fragment,s),d(t.$$.fragment,s),d(o.$$.fragment,s),d(i.$$.fragment,s),$=!0)},o(s){g(e.$$.fragment,s),g(t.$$.fragment,s),g(o.$$.fragment,s),g(i.$$.fragment,s),$=!1},d(s){E(e,s),s&&m(l),E(t,s),s&&m(r),E(o,s),s&&m(n),E(i,s)}}}function oe(f){let e,l;return e=new Y({props:{class:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",action:"/api/device/preset",onSubmit:f[0],$$slots:{default:[ne,({status:t})=>({1:t}),({status:t})=>t?2:0]},$$scope:{ctx:f}}}),{c(){v(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,r){I(e,t,r),l=!0},p(t,[r]){const o={};r&10&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(d(e.$$.fragment,t),l=!0)},o(t){g(e.$$.fragment,t),l=!1},d(t){E(e,t)}}}const _e=!0;function fe(f){async function e(l,t){const o=await(await fetch(t.toString(),{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Z(l)})).json();console.log(o)}return[e]}class pe extends V{constructor(e){super();j(this,e,fe,oe,q,{})}}export{pe as default,_e as prerender};
