import{S as ee,i as te,s as le,w as b,x as w,y as z,q as v,o as d,B as N,L,k as U,m as k,g as _,n as se,p as ne,d as c,ac as ie,e as C,c as F,a as re,b as a,Q as oe,ae as Z,O as ae}from"../../chunks/vendor-92048905.js";import{c as ue,R as fe,D as $e}from"../../chunks/DeviceOptions-67d9f907.js";import{H as E}from"../../chunks/HorizontalField-cd7e5313.js";import{F as pe}from"../../chunks/SubmitButton-cbc9b99d.js";import{g as me,s as ce,a as _e}from"../../chunks/__layout-11d08886.js";import{P as he}from"../../chunks/_PowerButtons-97eb6820.js";import{p as ve}from"../../chunks/_form-52443b97.js";import"../../chunks/Label-cb141bcc.js";import"../../chunks/snackbar-host-0696384f.js";import"../../chunks/cell-state-schema-a24ecc56.js";import"../../chunks/stores-666d7af9.js";import"../../chunks/TopBar-adf9860c.js";function de(r){let e,n,s,l,i,o;return n=new $e({props:{devices:r[3]}}),{c(){e=C("select"),b(n.$$.fragment),this.h()},l(u){e=F(u,"SELECT",{class:!0,name:!0,id:!0});var $=re(e);w(n.$$.fragment,$),$.forEach(c),this.h()},h(){a(e,"class",s=r[13]),a(e,"name","serial"),a(e,"id","control-serial"),r[0]===void 0&&oe(()=>r[11].call(e))},m(u,$){_(u,e,$),z(n,e,null),Z(e,r[0]),l=!0,i||(o=ae(e,"change",r[11]),i=!0)},p(u,$){const h={};$&8&&(h.devices=u[3]),n.$set(h),(!l||$&8192&&s!==(s=u[13]))&&a(e,"class",s),$&1&&Z(e,u[0])},i(u){l||(v(n.$$.fragment,u),l=!0)},o(u){d(n.$$.fragment,u),l=!1},d(u){u&&c(e),N(n),i=!1,o()}}}function ge(r){let e,n;return{c(){e=C("input"),this.h()},l(s){e=F(s,"INPUT",{id:!0,name:!0,type:!0,class:!0}),this.h()},h(){a(e,"id","control-connection"),a(e,"name","connection"),a(e,"type","text"),e.value=r[2],e.readOnly=!0,a(e,"class",n=r[13]+" bg-slate-300")},m(s,l){_(s,e,l)},p(s,l){l&4&&e.value!==s[2]&&(e.value=s[2]),l&8192&&n!==(n=s[13]+" bg-slate-300")&&a(e,"class",n)},d(s){s&&c(e)}}}function x(r){let e,n;return e=new E({props:{label:"Power",$$slots:{default:[be]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment)},l(s){w(e.$$.fragment,s)},m(s,l){z(e,s,l),n=!0},p(s,l){const i={};l&16385&&(i.$$scope={dirty:l,ctx:s}),e.$set(i)},i(s){n||(v(e.$$.fragment,s),n=!0)},o(s){d(e.$$.fragment,s),n=!1},d(s){N(e,s)}}}function be(r){let e,n;return e=new he({props:{serial:r[0]}}),{c(){b(e.$$.fragment)},l(s){w(e.$$.fragment,s)},m(s,l){z(e,s,l),n=!0},p(s,l){const i={};l&1&&(i.serial=s[0]),e.$set(i)},i(s){n||(v(e.$$.fragment,s),n=!0)},o(s){d(e.$$.fragment,s),n=!1},d(s){N(e,s)}}}function we(r){let e,n,s;return{c(){e=C("input"),this.h()},l(l){e=F(l,"INPUT",{id:!0,class:!0,name:!0,type:!0,placeholder:!0}),this.h()},h(){var l,i,o;a(e,"id","control-deviceName"),a(e,"class",n=r[13]),a(e,"name","deviceName"),a(e,"type","text"),e.value=s=(o=(i=(l=r[1])==null?void 0:l.info)==null?void 0:i.deviceName)!=null?o:"",a(e,"placeholder","Pixel 10")},m(l,i){_(l,e,i)},p(l,i){var o,u,$;i&8192&&n!==(n=l[13])&&a(e,"class",n),i&2&&s!==(s=($=(u=(o=l[1])==null?void 0:o.info)==null?void 0:u.deviceName)!=null?$:"")&&e.value!==s&&(e.value=s)},d(l){l&&c(e)}}}function ze(r){let e,n,s;return{c(){e=C("input"),this.h()},l(l){e=F(l,"INPUT",{id:!0,class:!0,name:!0,type:!0,min:!0,placeholder:!0}),this.h()},h(){var l,i,o;a(e,"id","control-width"),a(e,"class",n=r[13]),a(e,"name","width"),a(e,"type","number"),a(e,"min",0),e.value=s=(o=(i=(l=r[1])==null?void 0:l.info)==null?void 0:i.width)!=null?o:"",a(e,"placeholder","900")},m(l,i){_(l,e,i)},p(l,i){var o,u,$;i&8192&&n!==(n=l[13])&&a(e,"class",n),i&2&&s!==(s=($=(u=(o=l[1])==null?void 0:o.info)==null?void 0:u.width)!=null?$:"")&&e.value!==s&&(e.value=s)},d(l){l&&c(e)}}}function Ne(r){let e,n,s;return{c(){e=C("input"),this.h()},l(l){e=F(l,"INPUT",{id:!0,class:!0,name:!0,type:!0,min:!0,placeholder:!0}),this.h()},h(){var l,i,o;a(e,"id","control-height"),a(e,"class",n=r[13]),a(e,"name","height"),a(e,"type","number"),a(e,"min",0),e.value=s=(o=(i=(l=r[1])==null?void 0:l.info)==null?void 0:i.height)!=null?o:"",a(e,"placeholder","2100")},m(l,i){_(l,e,i)},p(l,i){var o,u,$;i&8192&&n!==(n=l[13])&&a(e,"class",n),i&2&&s!==(s=($=(u=(o=l[1])==null?void 0:o.info)==null?void 0:u.height)!=null?$:"")&&e.value!==s&&(e.value=s)},d(l){l&&c(e)}}}function Pe(r){let e,n,s;return{c(){e=C("input"),this.h()},l(l){e=F(l,"INPUT",{id:!0,class:!0,name:!0,type:!0,placeholder:!0}),this.h()},h(){var l,i,o;a(e,"id","control-x"),a(e,"class",n=r[13]),a(e,"name","x"),a(e,"type","number"),e.value=s=(o=(i=(l=r[1])==null?void 0:l.info)==null?void 0:i.x)!=null?o:"",a(e,"placeholder","10")},m(l,i){_(l,e,i)},p(l,i){var o,u,$;i&8192&&n!==(n=l[13])&&a(e,"class",n),i&2&&s!==(s=($=(u=(o=l[1])==null?void 0:o.info)==null?void 0:u.x)!=null?$:"")&&e.value!==s&&(e.value=s)},d(l){l&&c(e)}}}function Ie(r){let e,n,s;return{c(){e=C("input"),this.h()},l(l){e=F(l,"INPUT",{id:!0,class:!0,name:!0,type:!0,placeholder:!0}),this.h()},h(){var l,i,o;a(e,"id","control-y"),a(e,"class",n=r[13]),a(e,"name","y"),a(e,"type","number"),e.value=s=(o=(i=(l=r[1])==null?void 0:l.info)==null?void 0:i.y)!=null?o:"",a(e,"placeholder","0")},m(l,i){_(l,e,i)},p(l,i){var o,u,$;i&8192&&n!==(n=l[13])&&a(e,"class",n),i&2&&s!==(s=($=(u=(o=l[1])==null?void 0:o.info)==null?void 0:u.y)!=null?$:"")&&e.value!==s&&(e.value=s)},d(l){l&&c(e)}}}function Se(r){let e,n,s;return{c(){e=C("input"),this.h()},l(l){e=F(l,"INPUT",{id:!0,class:!0,name:!0,type:!0,placeholder:!0}),this.h()},h(){var l,i,o;a(e,"id","control-server"),a(e,"class",n=r[13]),a(e,"name","server"),a(e,"type","url"),e.value=s=(o=(i=(l=r[1])==null?void 0:l.info)==null?void 0:i.server)!=null?o:"",a(e,"placeholder","http://192.168.0.1")},m(l,i){_(l,e,i)},p(l,i){var o,u,$;i&8192&&n!==(n=l[13])&&a(e,"class",n),i&2&&s!==(s=($=(u=(o=l[1])==null?void 0:o.info)==null?void 0:u.server)!=null?$:"")&&e.value!==s&&(e.value=s)},d(l){l&&c(e)}}}function Te(r){var y,A;let e,n,s,l,i=(A=(y=r[1])==null?void 0:y.connection)==null?void 0:A.includes("android"),o,u,$,h,H,P,I,S,R,m,q,g,B,T,O;e=new E({props:{for:"control-serial",label:"Device",$$slots:{default:[de,({inputClassName:t})=>({13:t}),({inputClassName:t})=>t?8192:0]},$$scope:{ctx:r}}}),s=new E({props:{for:"control-connection",label:"Connection",$$slots:{default:[ge,({inputClassName:t})=>({13:t}),({inputClassName:t})=>t?8192:0]},$$scope:{ctx:r}}});let p=i&&x(r);return u=new E({props:{for:"control-deviceName",label:"Device Name",$$slots:{default:[we,({inputClassName:t})=>({13:t}),({inputClassName:t})=>t?8192:0]},$$scope:{ctx:r}}}),h=new E({props:{for:"control-width",label:"Width",$$slots:{default:[ze,({inputClassName:t})=>({13:t}),({inputClassName:t})=>t?8192:0]},$$scope:{ctx:r}}}),P=new E({props:{for:"control-height",label:"Height",$$slots:{default:[Ne,({inputClassName:t})=>({13:t}),({inputClassName:t})=>t?8192:0]},$$scope:{ctx:r}}}),S=new E({props:{for:"control-x",label:"X Position",$$slots:{default:[Pe,({inputClassName:t})=>({13:t}),({inputClassName:t})=>t?8192:0]},$$scope:{ctx:r}}}),m=new E({props:{for:"control-y",label:"Y Position",$$slots:{default:[Ie,({inputClassName:t})=>({13:t}),({inputClassName:t})=>t?8192:0]},$$scope:{ctx:r}}}),g=new E({props:{for:"control-server",label:"Asset Server",$$slots:{default:[Se,({inputClassName:t})=>({13:t}),({inputClassName:t})=>t?8192:0]},$$scope:{ctx:r}}}),T=new fe({props:{loading:r[12]}}),{c(){b(e.$$.fragment),n=U(),b(s.$$.fragment),l=U(),p&&p.c(),o=U(),b(u.$$.fragment),$=U(),b(h.$$.fragment),H=U(),b(P.$$.fragment),I=U(),b(S.$$.fragment),R=U(),b(m.$$.fragment),q=U(),b(g.$$.fragment),B=U(),b(T.$$.fragment)},l(t){w(e.$$.fragment,t),n=k(t),w(s.$$.fragment,t),l=k(t),p&&p.l(t),o=k(t),w(u.$$.fragment,t),$=k(t),w(h.$$.fragment,t),H=k(t),w(P.$$.fragment,t),I=k(t),w(S.$$.fragment,t),R=k(t),w(m.$$.fragment,t),q=k(t),w(g.$$.fragment,t),B=k(t),w(T.$$.fragment,t)},m(t,f){z(e,t,f),_(t,n,f),z(s,t,f),_(t,l,f),p&&p.m(t,f),_(t,o,f),z(u,t,f),_(t,$,f),z(h,t,f),_(t,H,f),z(P,t,f),_(t,I,f),z(S,t,f),_(t,R,f),z(m,t,f),_(t,q,f),z(g,t,f),_(t,B,f),z(T,t,f),O=!0},p(t,f){var M,V;const D={};f&24585&&(D.$$scope={dirty:f,ctx:t}),e.$set(D);const K={};f&24580&&(K.$$scope={dirty:f,ctx:t}),s.$set(K),f&2&&(i=(V=(M=t[1])==null?void 0:M.connection)==null?void 0:V.includes("android")),i?p?(p.p(t,f),f&2&&v(p,1)):(p=x(t),p.c(),v(p,1),p.m(o.parentNode,o)):p&&(se(),d(p,1,1,()=>{p=null}),ne());const Q={};f&24578&&(Q.$$scope={dirty:f,ctx:t}),u.$set(Q);const W={};f&24578&&(W.$$scope={dirty:f,ctx:t}),h.$set(W);const X={};f&24578&&(X.$$scope={dirty:f,ctx:t}),P.$set(X);const Y={};f&24578&&(Y.$$scope={dirty:f,ctx:t}),S.$set(Y);const j={};f&24578&&(j.$$scope={dirty:f,ctx:t}),m.$set(j);const G={};f&24578&&(G.$$scope={dirty:f,ctx:t}),g.$set(G);const J={};f&4096&&(J.loading=t[12]),T.$set(J)},i(t){O||(v(e.$$.fragment,t),v(s.$$.fragment,t),v(p),v(u.$$.fragment,t),v(h.$$.fragment,t),v(P.$$.fragment,t),v(S.$$.fragment,t),v(m.$$.fragment,t),v(g.$$.fragment,t),v(T.$$.fragment,t),O=!0)},o(t){d(e.$$.fragment,t),d(s.$$.fragment,t),d(p),d(u.$$.fragment,t),d(h.$$.fragment,t),d(P.$$.fragment,t),d(S.$$.fragment,t),d(m.$$.fragment,t),d(g.$$.fragment,t),d(T.$$.fragment,t),O=!1},d(t){N(e,t),t&&c(n),N(s,t),t&&c(l),p&&p.d(t),t&&c(o),N(u,t),t&&c($),N(h,t),t&&c(H),N(P,t),t&&c(I),N(S,t),t&&c(R),N(m,t),t&&c(q),N(g,t),t&&c(B),N(T,t)}}}function Ue(r){let e,n;return e=new pe({props:{class:"flex flex-col gap-y-4",action:"/api/device/"+r[0],onSubmit:r[7],$$slots:{default:[Te,({loading:s})=>({12:s}),({loading:s})=>s?4096:0]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment)},l(s){w(e.$$.fragment,s)},m(s,l){z(e,s,l),n=!0},p(s,[l]){const i={};l&1&&(i.action="/api/device/"+s[0]),l&20495&&(i.$$scope={dirty:l,ctx:s}),e.$set(i)},i(s){n||(v(e.$$.fragment,s),n=!0)},o(s){d(e.$$.fragment,s),n=!1},d(s){N(e,s)}}}function ke(r,e,n){let s,l,i,o,u,$;const{state:h}=me();L(r,h,m=>n(9,o=m));const H=ce(h);L(r,H,m=>n(3,$=m));const P=_e(h);L(r,P,m=>n(10,u=m));let I;async function S(m,q){function g(T){const O=m.get(T);if(typeof O=="string")return Number(O)}const B={serial:m.get("serial"),deviceName:m.get("deviceName"),width:g("width"),height:g("height"),x:g("x"),y:g("y"),server:m.get("server")};await ve(q.toString(),B)}function R(){I=ie(this),n(0,I)}return r.$$.update=()=>{r.$$.dirty&1024&&n(8,s=u[0]),r.$$.dirty&769&&n(1,l=o.get(I!=null?I:s)),r.$$.dirty&2&&n(2,i=ue(l==null?void 0:l.connection))},[I,l,i,$,h,H,P,S,s,o,u,R]}class Ke extends ee{constructor(e){super();te(this,e,ke,Ue,le,{})}}export{Ke as default};
