import{S as ie,i as ae,s as re,w as N,x as z,y as P,q as g,o as w,B as k,L as Q,k as O,m as C,g as v,n as se,p as oe,d as h,ab as fe,l as Z,e as T,c as E,a as L,b as r,P as ue,ad as W,O as $e,a6 as ce,a7 as pe,t as x,h as ee,J as H}from"../../chunks/vendor-e399076d.js";import{R as me}from"../../chunks/ResetSubmit-91d58d6b.js";import{D as _e}from"../../chunks/DeviceOption-8cf67013.js";import{H as U}from"../../chunks/HorizontalField-e9e4ce0a.js";import{F as he}from"../../chunks/SubmitButton-4475d829.js";import{a as de,s as ve}from"../../chunks/__layout-b3bcd805.js";import{P as ge}from"../../chunks/_PowerButtons-ab2253c4.js";import{p as be}from"../../chunks/_form-52443b97.js";import"../../chunks/LoadingSpinner-1dda806c.js";import"../../chunks/snackbar-host-7b34ee00.js";import"../../chunks/cell-state-schema-b294815b.js";import"../../chunks/TopBar-bec206db.js";function te(a,e,o){const l=a.slice();return l[11]=e[o],l}function le(a,e){let o,l,n;return l=new _e({props:{device:e[11]}}),{key:a,first:null,c(){o=Z(),N(l.$$.fragment),this.h()},l(s){o=Z(),z(l.$$.fragment,s),this.h()},h(){this.first=o},m(s,i){v(s,o,i),P(l,s,i),n=!0},p(s,i){e=s;const m={};i&2&&(m.device=e[11]),l.$set(m)},i(s){n||(g(l.$$.fragment,s),n=!0)},o(s){w(l.$$.fragment,s),n=!1},d(s){s&&h(o),k(l,s)}}}function we(a){let e,o=[],l=new Map,n,s,i,m,u=a[1];const _=f=>f[11].serial;for(let f=0;f<u.length;f+=1){let $=te(a,u,f),c=_($);l.set(c,o[f]=le(c,$))}return{c(){e=T("select");for(let f=0;f<o.length;f+=1)o[f].c();this.h()},l(f){e=E(f,"SELECT",{class:!0,name:!0,id:!0});var $=L(e);for(let c=0;c<o.length;c+=1)o[c].l($);$.forEach(h),this.h()},h(){r(e,"class",n=a[10]),r(e,"name","serial"),r(e,"id","control-serial"),a[0]===void 0&&ue(()=>a[8].call(e))},m(f,$){v(f,e,$);for(let c=0;c<o.length;c+=1)o[c].m(e,null);W(e,a[0]),s=!0,i||(m=$e(e,"change",a[8]),i=!0)},p(f,$){$&2&&(u=f[1],se(),o=ce(o,$,_,1,f,u,l,e,pe,le,null,te),oe()),(!s||$&1024&&n!==(n=f[10]))&&r(e,"class",n),$&1&&W(e,f[0])},i(f){if(!s){for(let $=0;$<u.length;$+=1)g(o[$]);s=!0}},o(f){for(let $=0;$<o.length;$+=1)w(o[$]);s=!1},d(f){f&&h(e);for(let $=0;$<o.length;$+=1)o[$].d();i=!1,m()}}}function Ne(a){let e,o,l,n,s,i,m,u;return{c(){e=T("select"),o=T("option"),l=T("option"),n=x("Web"),s=T("option"),i=x("Android"),this.h()},l(_){e=E(_,"SELECT",{name:!0,id:!0,class:!0});var f=L(e);o=E(f,"OPTION",{}),L(o).forEach(h),l=E(f,"OPTION",{});var $=L(l);n=ee($,"Web"),$.forEach(h),s=E(f,"OPTION",{});var c=L(s);i=ee(c,"Android"),c.forEach(h),f.forEach(h),this.h()},h(){o.__value="none",o.value=o.__value,l.__value="web",l.value=l.__value,s.__value="android",s.value=s.__value,r(e,"name","connection"),r(e,"id","control-connection"),e.disabled=!0,r(e,"class",u=a[10])},m(_,f){var $,c;v(_,e,f),H(e,o),H(e,l),H(l,n),H(e,s),H(s,i),W(e,(c=($=a[2])==null?void 0:$.connection)!=null?c:"none")},p(_,f){var $,c,S,b;f&4&&m!==(m=(c=($=_[2])==null?void 0:$.connection)!=null?c:"none")&&W(e,(b=(S=_[2])==null?void 0:S.connection)!=null?b:"none"),f&1024&&u!==(u=_[10])&&r(e,"class",u)},d(_){_&&h(e)}}}function ne(a){let e,o;return e=new U({props:{label:"Power",$$slots:{default:[ze]},$$scope:{ctx:a}}}),{c(){N(e.$$.fragment)},l(l){z(e.$$.fragment,l)},m(l,n){P(e,l,n),o=!0},p(l,n){const s={};n&16385&&(s.$$scope={dirty:n,ctx:l}),e.$set(s)},i(l){o||(g(e.$$.fragment,l),o=!0)},o(l){w(e.$$.fragment,l),o=!1},d(l){k(e,l)}}}function ze(a){let e,o;return e=new ge({props:{serial:a[0]}}),{c(){N(e.$$.fragment)},l(l){z(e.$$.fragment,l)},m(l,n){P(e,l,n),o=!0},p(l,n){const s={};n&1&&(s.serial=l[0]),e.$set(s)},i(l){o||(g(e.$$.fragment,l),o=!0)},o(l){w(e.$$.fragment,l),o=!1},d(l){k(e,l)}}}function Pe(a){let e,o,l;return{c(){e=T("input"),this.h()},l(n){e=E(n,"INPUT",{id:!0,class:!0,name:!0,type:!0,placeholder:!0}),this.h()},h(){var n,s,i;r(e,"id","control-deviceName"),r(e,"class",o=a[10]),r(e,"name","deviceName"),r(e,"type","text"),e.value=l=(i=(s=(n=a[2])==null?void 0:n.info)==null?void 0:s.deviceName)!=null?i:"",r(e,"placeholder","Pixel 10")},m(n,s){v(n,e,s)},p(n,s){var i,m,u;s&1024&&o!==(o=n[10])&&r(e,"class",o),s&4&&l!==(l=(u=(m=(i=n[2])==null?void 0:i.info)==null?void 0:m.deviceName)!=null?u:"")&&e.value!==l&&(e.value=l)},d(n){n&&h(e)}}}function ke(a){let e,o,l;return{c(){e=T("input"),this.h()},l(n){e=E(n,"INPUT",{id:!0,class:!0,name:!0,type:!0,min:!0,placeholder:!0}),this.h()},h(){var n,s,i;r(e,"id","control-width"),r(e,"class",o=a[10]),r(e,"name","width"),r(e,"type","number"),r(e,"min",0),e.value=l=(i=(s=(n=a[2])==null?void 0:n.info)==null?void 0:s.width)!=null?i:"",r(e,"placeholder","900")},m(n,s){v(n,e,s)},p(n,s){var i,m,u;s&1024&&o!==(o=n[10])&&r(e,"class",o),s&4&&l!==(l=(u=(m=(i=n[2])==null?void 0:i.info)==null?void 0:m.width)!=null?u:"")&&e.value!==l&&(e.value=l)},d(n){n&&h(e)}}}function Te(a){let e,o,l;return{c(){e=T("input"),this.h()},l(n){e=E(n,"INPUT",{id:!0,class:!0,name:!0,type:!0,min:!0,placeholder:!0}),this.h()},h(){var n,s,i;r(e,"id","control-height"),r(e,"class",o=a[10]),r(e,"name","height"),r(e,"type","number"),r(e,"min",0),e.value=l=(i=(s=(n=a[2])==null?void 0:n.info)==null?void 0:s.height)!=null?i:"",r(e,"placeholder","2100")},m(n,s){v(n,e,s)},p(n,s){var i,m,u;s&1024&&o!==(o=n[10])&&r(e,"class",o),s&4&&l!==(l=(u=(m=(i=n[2])==null?void 0:i.info)==null?void 0:m.height)!=null?u:"")&&e.value!==l&&(e.value=l)},d(n){n&&h(e)}}}function Ee(a){let e,o,l;return{c(){e=T("input"),this.h()},l(n){e=E(n,"INPUT",{id:!0,class:!0,name:!0,type:!0,placeholder:!0}),this.h()},h(){var n,s,i;r(e,"id","control-x"),r(e,"class",o=a[10]),r(e,"name","x"),r(e,"type","number"),e.value=l=(i=(s=(n=a[2])==null?void 0:n.info)==null?void 0:s.x)!=null?i:"",r(e,"placeholder","10")},m(n,s){v(n,e,s)},p(n,s){var i,m,u;s&1024&&o!==(o=n[10])&&r(e,"class",o),s&4&&l!==(l=(u=(m=(i=n[2])==null?void 0:i.info)==null?void 0:m.x)!=null?u:"")&&e.value!==l&&(e.value=l)},d(n){n&&h(e)}}}function Ie(a){let e,o,l;return{c(){e=T("input"),this.h()},l(n){e=E(n,"INPUT",{id:!0,class:!0,name:!0,type:!0,placeholder:!0}),this.h()},h(){var n,s,i;r(e,"id","control-y"),r(e,"class",o=a[10]),r(e,"name","y"),r(e,"type","number"),e.value=l=(i=(s=(n=a[2])==null?void 0:n.info)==null?void 0:s.y)!=null?i:"",r(e,"placeholder","0")},m(n,s){v(n,e,s)},p(n,s){var i,m,u;s&1024&&o!==(o=n[10])&&r(e,"class",o),s&4&&l!==(l=(u=(m=(i=n[2])==null?void 0:i.info)==null?void 0:m.y)!=null?u:"")&&e.value!==l&&(e.value=l)},d(n){n&&h(e)}}}function Se(a){let e,o,l;return{c(){e=T("input"),this.h()},l(n){e=E(n,"INPUT",{id:!0,class:!0,name:!0,type:!0,placeholder:!0}),this.h()},h(){var n,s,i;r(e,"id","control-server"),r(e,"class",o=a[10]),r(e,"name","server"),r(e,"type","url"),e.value=l=(i=(s=(n=a[2])==null?void 0:n.info)==null?void 0:s.server)!=null?i:"",r(e,"placeholder","http://192.168.0.1")},m(n,s){v(n,e,s)},p(n,s){var i,m,u;s&1024&&o!==(o=n[10])&&r(e,"class",o),s&4&&l!==(l=(u=(m=(i=n[2])==null?void 0:i.info)==null?void 0:m.server)!=null?u:"")&&e.value!==l&&(e.value=l)},d(n){n&&h(e)}}}function Oe(a){var q;let e,o,l,n,s,i,m,u,_,f,$,c,S,b,F,I,A,y,R;e=new U({props:{for:"control-serial",label:"Device",$$slots:{default:[we,({inputClassName:t})=>({10:t}),({inputClassName:t})=>t?1024:0]},$$scope:{ctx:a}}}),l=new U({props:{for:"control-connection",label:"Connection",$$slots:{default:[Ne,({inputClassName:t})=>({10:t}),({inputClassName:t})=>t?1024:0]},$$scope:{ctx:a}}});let d=((q=a[2])==null?void 0:q.connection)==="android"&&ne(a);return i=new U({props:{for:"control-deviceName",label:"Device Name",$$slots:{default:[Pe,({inputClassName:t})=>({10:t}),({inputClassName:t})=>t?1024:0]},$$scope:{ctx:a}}}),u=new U({props:{for:"control-width",label:"Width",$$slots:{default:[ke,({inputClassName:t})=>({10:t}),({inputClassName:t})=>t?1024:0]},$$scope:{ctx:a}}}),f=new U({props:{for:"control-height",label:"Height",$$slots:{default:[Te,({inputClassName:t})=>({10:t}),({inputClassName:t})=>t?1024:0]},$$scope:{ctx:a}}}),c=new U({props:{for:"control-x",label:"X Position",$$slots:{default:[Ee,({inputClassName:t})=>({10:t}),({inputClassName:t})=>t?1024:0]},$$scope:{ctx:a}}}),b=new U({props:{for:"control-y",label:"Y Position",$$slots:{default:[Ie,({inputClassName:t})=>({10:t}),({inputClassName:t})=>t?1024:0]},$$scope:{ctx:a}}}),I=new U({props:{for:"control-server",label:"Asset Server",$$slots:{default:[Se,({inputClassName:t})=>({10:t}),({inputClassName:t})=>t?1024:0]},$$scope:{ctx:a}}}),y=new me({props:{loading:a[9]}}),{c(){N(e.$$.fragment),o=O(),N(l.$$.fragment),n=O(),d&&d.c(),s=O(),N(i.$$.fragment),m=O(),N(u.$$.fragment),_=O(),N(f.$$.fragment),$=O(),N(c.$$.fragment),S=O(),N(b.$$.fragment),F=O(),N(I.$$.fragment),A=O(),N(y.$$.fragment)},l(t){z(e.$$.fragment,t),o=C(t),z(l.$$.fragment,t),n=C(t),d&&d.l(t),s=C(t),z(i.$$.fragment,t),m=C(t),z(u.$$.fragment,t),_=C(t),z(f.$$.fragment,t),$=C(t),z(c.$$.fragment,t),S=C(t),z(b.$$.fragment,t),F=C(t),z(I.$$.fragment,t),A=C(t),z(y.$$.fragment,t)},m(t,p){P(e,t,p),v(t,o,p),P(l,t,p),v(t,n,p),d&&d.m(t,p),v(t,s,p),P(i,t,p),v(t,m,p),P(u,t,p),v(t,_,p),P(f,t,p),v(t,$,p),P(c,t,p),v(t,S,p),P(b,t,p),v(t,F,p),P(I,t,p),v(t,A,p),P(y,t,p),R=!0},p(t,p){var K;const B={};p&17411&&(B.$$scope={dirty:p,ctx:t}),e.$set(B);const D={};p&17412&&(D.$$scope={dirty:p,ctx:t}),l.$set(D),((K=t[2])==null?void 0:K.connection)==="android"?d?(d.p(t,p),p&4&&g(d,1)):(d=ne(t),d.c(),g(d,1),d.m(s.parentNode,s)):d&&(se(),w(d,1,1,()=>{d=null}),oe());const J={};p&17412&&(J.$$scope={dirty:p,ctx:t}),i.$set(J);const M={};p&17412&&(M.$$scope={dirty:p,ctx:t}),u.$set(M);const V={};p&17412&&(V.$$scope={dirty:p,ctx:t}),f.$set(V);const X={};p&17412&&(X.$$scope={dirty:p,ctx:t}),c.$set(X);const Y={};p&17412&&(Y.$$scope={dirty:p,ctx:t}),b.$set(Y);const j={};p&17412&&(j.$$scope={dirty:p,ctx:t}),I.$set(j);const G={};p&512&&(G.loading=t[9]),y.$set(G)},i(t){R||(g(e.$$.fragment,t),g(l.$$.fragment,t),g(d),g(i.$$.fragment,t),g(u.$$.fragment,t),g(f.$$.fragment,t),g(c.$$.fragment,t),g(b.$$.fragment,t),g(I.$$.fragment,t),g(y.$$.fragment,t),R=!0)},o(t){w(e.$$.fragment,t),w(l.$$.fragment,t),w(d),w(i.$$.fragment,t),w(u.$$.fragment,t),w(f.$$.fragment,t),w(c.$$.fragment,t),w(b.$$.fragment,t),w(I.$$.fragment,t),w(y.$$.fragment,t),R=!1},d(t){k(e,t),t&&h(o),k(l,t),t&&h(n),d&&d.d(t),t&&h(s),k(i,t),t&&h(m),k(u,t),t&&h(_),k(f,t),t&&h($),k(c,t),t&&h(S),k(b,t),t&&h(F),k(I,t),t&&h(A),k(y,t)}}}function Ce(a){let e,o;return e=new he({props:{class:"flex flex-col gap-y-4",action:"/api/device/"+a[0],onSubmit:a[5],$$slots:{default:[Oe,({loading:l})=>({9:l}),({loading:l})=>l?512:0]},$$scope:{ctx:a}}}),{c(){N(e.$$.fragment)},l(l){z(e.$$.fragment,l)},m(l,n){P(e,l,n),o=!0},p(l,[n]){const s={};n&1&&(s.action="/api/device/"+l[0]),n&16903&&(s.$$scope={dirty:n,ctx:l}),e.$set(s)},i(l){o||(g(e.$$.fragment,l),o=!0)},o(l){w(e.$$.fragment,l),o=!1},d(l){k(e,l)}}}function Ue(a,e,o){let l,n,s,i;const{state:m}=de();Q(a,m,c=>o(7,s=c));const u=ve(m);Q(a,u,c=>o(1,i=c));let _;async function f(c,S){function b(I){const A=c.get(I);if(typeof A=="string")return Number(A)}const F={serial:c.get("serial"),deviceName:c.get("deviceName"),width:b("width"),height:b("height"),x:b("x"),y:b("y"),server:c.get("server")};await be(S.toString(),F)}function $(){_=fe(this),o(0,_)}return a.$$.update=()=>{var c;a.$$.dirty&2&&o(6,l=(c=i[0])==null?void 0:c.serial),a.$$.dirty&193&&o(2,n=s.get(_!=null?_:l))},[_,i,n,m,u,f,l,s,$]}class Ve extends ie{constructor(e){super();ae(this,e,Ue,Ce,re,{})}}export{Ve as default};
