import{U as z,S as G,i as A,s as H,k,e as g,t as b,w as C,X as N,d as u,m as w,c as $,a as y,h as S,x,b as d,g as f,J as v,y as E,q as p,o as m,B as P,L as W,l as L,n as q,p as B,K as _}from"../../chunks/vendor-e399076d.js";import{H as I}from"../../chunks/HorizontalField-e9e4ce0a.js";import{L as J}from"../../chunks/LoadingSpinner-1dda806c.js";import{g as K}from"../../chunks/__layout-b3bcd805.js";import"../../chunks/TopBar-bec206db.js";import"../../chunks/snackbar-host-7b34ee00.js";import"../../chunks/cell-state-schema-b294815b.js";function O(){return new WebSocket(`ws://${window.location.host}/third_party`)}function U(l){return z({google_loading:!0},e=>{const t=new AbortController;function r({data:o}){const s=JSON.parse(o);e(s)}return l==null||l.addEventListener("message",r,t),()=>t.abort()})}function D(l){let e,t;return{c(){e=g("button"),t=b("Logged in to Google"),this.h()},l(r){e=$(r,"BUTTON",{class:!0,type:!0});var o=y(e);t=S(o,"Logged in to Google"),o.forEach(u),this.h()},h(){d(e,"class",T),d(e,"type","button"),e.disabled=!0},m(r,o){f(r,e,o),v(e,t)},p:_,i:_,o:_,d(r){r&&u(e)}}}function F(l){let e,t,r;return{c(){e=g("a"),t=b("Sign in to Google"),this.h()},l(o){e=$(o,"A",{class:!0,href:!0});var s=y(e);t=S(s,"Sign in to Google"),s.forEach(u),this.h()},h(){d(e,"class",T),d(e,"href",r=l[0].google_authorize_url)},m(o,s){f(o,e,s),v(e,t)},p(o,s){s&1&&r!==(r=o[0].google_authorize_url)&&d(e,"href",r)},i:_,o:_,d(o){o&&u(e)}}}function M(l){let e,t;return e=new J({}),{c(){C(e.$$.fragment)},l(r){x(e.$$.fragment,r)},m(r,o){E(e,r,o),t=!0},p:_,i(r){t||(p(e.$$.fragment,r),t=!0)},o(r){m(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function X(l){let e,t,r,o;const s=[M,F,D],i=[];function n(a,c){return a[0].google_loading?0:a[0].google_authorize_url?1:2}return e=n(l),t=i[e]=s[e](l),{c(){t.c(),r=L()},l(a){t.l(a),r=L()},m(a,c){i[e].m(a,c),f(a,r,c),o=!0},p(a,c){let h=e;e=n(a),e===h?i[e].p(a,c):(q(),m(i[h],1,1,()=>{i[h]=null}),B(),t=i[e],t?t.p(a,c):(t=i[e]=s[e](a),t.c()),p(t,1),t.m(r.parentNode,r))},i(a){o||(p(t),o=!0)},o(a){m(t),o=!1},d(a){i[e].d(a),a&&u(r)}}}function j(l){let e,t,r,o,s,i;return s=new I({props:{label:"Google",$$slots:{default:[X]},$$scope:{ctx:l}}}),{c(){e=k(),t=g("p"),r=b("Connect to third party APIs to use in CellWall."),o=k(),C(s.$$.fragment),this.h()},l(n){N('[data-svelte="svelte-g0c9cv"]',document.head).forEach(u),e=w(n),t=$(n,"P",{class:!0});var c=y(t);r=S(c,"Connect to third party APIs to use in CellWall."),c.forEach(u),o=w(n),x(s.$$.fragment,n),this.h()},h(){document.title="SDK Login | CellWall",d(t,"class","mb-6")},m(n,a){f(n,e,a),f(n,t,a),v(t,r),f(n,o,a),E(s,n,a),i=!0},p(n,[a]){const c={};a&17&&(c.$$scope={dirty:a,ctx:n}),s.$set(c)},i(n){i||(p(s.$$.fragment,n),i=!0)},o(n){m(s.$$.fragment,n),i=!1},d(n){n&&u(e),n&&u(t),n&&u(o),P(s,n)}}}const T="px-4 py-2 rounded-md shadow-sm text-sm font-medium text-white transition-colors bg-slate-700 hover:bg-slate-800 disabled:bg-slate-600 disabled:opacity-50";function Q(l,e,t){let r;const o=O(),s=U(o);W(l,s,n=>t(0,r=n));const i=K();return o==null||o.addEventListener("error",n=>{console.error("ThirdPartySocket error",n),i.showSnackbar("Third party socket error")}),o==null||o.addEventListener("open",n=>console.info("ThirdPartySocket open",n)),o==null||o.addEventListener("close",n=>console.info("ThirdPartySocket close",n)),[r,s]}class re extends G{constructor(e){super();A(this,e,Q,j,H,{})}}export{re as default};
