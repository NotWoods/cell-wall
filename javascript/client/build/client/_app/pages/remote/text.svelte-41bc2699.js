import{S as T,i as j,s as y,w as u,x as m,y as $,q as p,o as d,B as _,k,m as w,g as h,d as i,e as v,c as S,a as B,b as c}from"../../chunks/vendor-972526c7.js";import{F as E}from"../../chunks/SubmitButton-1680a1c0.js";import{V as C}from"../../chunks/VerticalField-66ad6ebe.js";import{R as F}from"../../chunks/_ResetSubmit-e5269f42.js";import"../../chunks/snackbar-host-fd27c917.js";function R(o){let e,s;return{c(){e=v("textarea"),this.h()},l(t){e=S(t,"TEXTAREA",{class:!0,id:!0,name:!0,rows:!0,placeholder:!0}),B(e).forEach(i),this.h()},h(){c(e,"class",s=o[1]),e.required=!0,c(e,"id","control-text"),c(e,"name","text"),c(e,"rows","10"),c(e,"placeholder"," Apple \r Banana \r Carrot")},m(t,a){h(t,e,a)},p(t,a){a&2&&s!==(s=t[1])&&c(e,"class",s)},d(t){t&&i(e)}}}function q(o){let e;return{c(){e=v("input"),this.h()},l(s){e=S(s,"INPUT",{id:!0,name:!0,type:!0}),this.h()},h(){c(e,"id","control-color"),c(e,"name","backgroundColor"),c(e,"type","color")},m(s,t){h(s,e,t)},d(s){s&&i(e)}}}function A(o){let e,s,t,a,n,f;return e=new C({props:{for:"control-text",label:"Text",$$slots:{default:[R,({inputClassName:r})=>({1:r}),({inputClassName:r})=>r?2:0]},$$scope:{ctx:o}}}),t=new C({props:{for:"control-color",label:"Background Color",$$slots:{default:[q]},$$scope:{ctx:o}}}),n=new F({props:{loading:o[0]}}),{c(){u(e.$$.fragment),s=k(),u(t.$$.fragment),a=k(),u(n.$$.fragment)},l(r){m(e.$$.fragment,r),s=w(r),m(t.$$.fragment,r),a=w(r),m(n.$$.fragment,r)},m(r,l){$(e,r,l),h(r,s,l),$(t,r,l),h(r,a,l),$(n,r,l),f=!0},p(r,l){const g={};l&6&&(g.$$scope={dirty:l,ctx:r}),e.$set(g);const b={};l&4&&(b.$$scope={dirty:l,ctx:r}),t.$set(b);const x={};l&1&&(x.loading=r[0]),n.$set(x)},i(r){f||(p(e.$$.fragment,r),p(t.$$.fragment,r),p(n.$$.fragment,r),f=!0)},o(r){d(e.$$.fragment,r),d(t.$$.fragment,r),d(n.$$.fragment,r),f=!1},d(r){_(e,r),r&&i(s),_(t,r),r&&i(a),_(n,r)}}}function V(o){let e,s;return e=new E({props:{class:"flex flex-col gap-y-4",action:"/api/action/text",onSubmit:P,$$slots:{default:[A,({loading:t})=>({0:t}),({loading:t})=>t?1:0]},$$scope:{ctx:o}}}),{c(){u(e.$$.fragment)},l(t){m(e.$$.fragment,t)},m(t,a){$(e,t,a),s=!0},p(t,[a]){const n={};a&5&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(t){s||(p(e.$$.fragment,t),s=!0)},o(t){d(e.$$.fragment,t),s=!1},d(t){_(e,t)}}}const D=!0;async function P(o,e){e.searchParams.set("backgroundColor",o.get("backgroundColor"));try{const s=await fetch(e.toString(),{method:"post",headers:{"content-type":"text/plain"},body:o.get("text")});if(!s.ok)throw new Error(s.statusText)}catch(s){throw console.error(s),s}}class G extends T{constructor(e){super();j(this,e,null,V,y,{})}}export{G as default,D as prerender};
