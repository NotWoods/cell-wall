import{S as C,i as S,s as U,O as E,l as O,f as m,P as j,x as p,u as d,d as _,D as h,B as v,e as k,c as g,a as w,$ as b,N as y,E as T,F as B,G as N,p as P}from"./vendor-cbe9f22d.js";import{p as q}from"./_form-52443b97.js";function D(n){let t,i,s,a,r;const u=n[6].default,l=h(u,n,n[5],null);let c=[n[2],{type:"submit"},{formaction:i="/api/device/power/$"+n[0]},{class:"button is-danger"}],f={};for(let e=0;e<c.length;e+=1)f=v(f,c[e]);return{c(){t=k("button"),l&&l.c(),this.h()},l(e){t=g(e,"BUTTON",{type:!0,formaction:!0,class:!0});var o=w(t);l&&l.l(o),o.forEach(_),this.h()},h(){b(t,f)},m(e,o){m(e,t,o),l&&l.m(t,null),t.autofocus&&t.focus(),s=!0,a||(r=y(t,"click",n[3]),a=!0)},p(e,o){l&&l.p&&(!s||o&32)&&T(l,u,e,e[5],s?N(u,e[5],o,null):B(e[5]),null),b(t,f=P(c,[e[2],{type:"submit"},(!s||o&1&&i!==(i="/api/device/power/$"+e[0]))&&{formaction:i},{class:"button is-danger"}]))},i(e){s||(p(l,e),s=!0)},o(e){d(l,e),s=!1},d(e){e&&_(t),l&&l.d(e),a=!1,r()}}}function F(n){let t,i,s,a,r;const u=n[6].default,l=h(u,n,n[5],null);let c=[n[2],{type:"submit"},{formaction:i="/api/device/power/$"+n[0]},{class:"button"}],f={};for(let e=0;e<c.length;e+=1)f=v(f,c[e]);return{c(){t=k("button"),l&&l.c(),this.h()},l(e){t=g(e,"BUTTON",{type:!0,formaction:!0,class:!0});var o=w(t);l&&l.l(o),o.forEach(_),this.h()},h(){b(t,f)},m(e,o){m(e,t,o),l&&l.m(t,null),t.autofocus&&t.focus(),s=!0,a||(r=y(t,"click",n[3]),a=!0)},p(e,o){l&&l.p&&(!s||o&32)&&T(l,u,e,e[5],s?N(u,e[5],o,null):B(e[5]),null),b(t,f=P(c,[e[2],{type:"submit"},(!s||o&1&&i!==(i="/api/device/power/$"+e[0]))&&{formaction:i},{class:"button"}]))},i(e){s||(p(l,e),s=!0)},o(e){d(l,e),s=!1},d(e){e&&_(t),l&&l.d(e),a=!1,r()}}}function G(n){let t,i,s,a,r;const u=n[6].default,l=h(u,n,n[5],null);let c=[n[2],{type:"submit"},{formaction:i="/api/device/power/$"+n[0]},{class:"button is-loading"}],f={};for(let e=0;e<c.length;e+=1)f=v(f,c[e]);return{c(){t=k("button"),l&&l.c(),this.h()},l(e){t=g(e,"BUTTON",{type:!0,formaction:!0,class:!0});var o=w(t);l&&l.l(o),o.forEach(_),this.h()},h(){b(t,f)},m(e,o){m(e,t,o),l&&l.m(t,null),t.autofocus&&t.focus(),s=!0,a||(r=y(t,"click",n[3]),a=!0)},p(e,o){l&&l.p&&(!s||o&32)&&T(l,u,e,e[5],s?N(u,e[5],o,null):B(e[5]),null),b(t,f=P(c,[e[2],{type:"submit"},(!s||o&1&&i!==(i="/api/device/power/$"+e[0]))&&{formaction:i},{class:"button is-loading"}]))},i(e){s||(p(l,e),s=!0)},o(e){d(l,e),s=!1},d(e){e&&_(t),l&&l.d(e),a=!1,r()}}}function z(n){let t,i,s,a={ctx:n,current:null,token:null,hasCatch:!0,pending:G,then:F,catch:D,value:8,error:8,blocks:[,,,]};return E(i=n[1],a),{c(){t=O(),a.block.c()},l(r){t=O(),a.block.l(r)},m(r,u){m(r,t,u),a.block.m(r,a.anchor=u),a.mount=()=>t.parentNode,a.anchor=t,s=!0},p(r,[u]){n=r,a.ctx=n,u&2&&i!==(i=n[1])&&E(i,a)||j(a,n,u)},i(r){s||(p(a.block),s=!0)},o(r){for(let u=0;u<3;u+=1){const l=a.blocks[u];d(l)}s=!1},d(r){r&&_(t),a.block.d(r),a.token=null,a=null}}}function A(n,t,i){let{$$slots:s={},$$scope:a}=t,{serial:r}=t,{value:u}=t;const l={type:"button",name:"on",value:u.toString()};let c=Promise.resolve();function f(){i(1,c=e())}async function e(){await q(`/api/device/power/${r}`,{on:u})}return n.$$set=o=>{"serial"in o&&i(0,r=o.serial),"value"in o&&i(4,u=o.value),"$$scope"in o&&i(5,a=o.$$scope)},[r,c,l,f,u,a,s]}class J extends C{constructor(t){super();S(this,t,A,z,U,{serial:0,value:4})}}export{J as P};
