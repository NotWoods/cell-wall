import{S as k,i as y,s as O,O as S,e as u,c as d,a as h,d as l,b as c,f as _,I as b,t as f,g as m,H as p,h as T}from"./vendor-958806bc.js";function U(){return async({fetch:i})=>{const t=await i("/api/device/");return t.ok?{props:{devices:Object.values(await t.json())}}:{status:t.status,error:new Error(`Could not load devices, ${t.statusText}`)}}}function E(i){let t,a;return{c(){t=u("button"),a=f("Submit"),this.h()},l(e){t=d(e,"BUTTON",{type:!0,class:!0});var n=h(t);a=m(n,"Submit"),n.forEach(l),this.h()},h(){c(t,"type","submit"),c(t,"class","button is-danger")},m(e,n){_(e,t,n),p(t,a)},d(e){e&&l(t)}}}function N(i){let t,a;return{c(){t=u("button"),a=f("Submit"),this.h()},l(e){t=d(e,"BUTTON",{type:!0,class:!0});var n=h(t);a=m(n,"Submit"),n.forEach(l),this.h()},h(){c(t,"type","submit"),c(t,"class","button is-primary")},m(e,n){_(e,t,n),p(t,a)},d(e){e&&l(t)}}}function B(i){let t,a;return{c(){t=u("button"),a=f("Loading"),this.h()},l(e){t=d(e,"BUTTON",{type:!0,class:!0});var n=h(t);a=m(n,"Loading"),n.forEach(l),this.h()},h(){c(t,"type","submit"),c(t,"class","button is-primary is-loading")},m(e,n){_(e,t,n),p(t,a)},d(e){e&&l(t)}}}function j(i){let t,a,e={ctx:i,current:null,token:null,hasCatch:!0,pending:B,then:N,catch:E,value:1,error:1};return S(a=i[0],e),{c(){t=u("p"),e.block.c(),this.h()},l(n){t=d(n,"P",{class:!0});var s=h(t);e.block.l(s),s.forEach(l),this.h()},h(){c(t,"class","control")},m(n,s){_(n,t,s),e.block.m(t,e.anchor=null),e.mount=()=>t,e.anchor=null},p(n,[s]){i=n,e.ctx=i,s&1&&a!==(a=i[0])&&S(a,e)},i:b,o:b,d(n){n&&l(t),e.block.d(),e.token=null,e=null}}}function w(i,t,a){let{loading:e}=t;return i.$$set=n=>{"loading"in n&&a(0,e=n.loading)},[e]}class $ extends k{constructor(t){super();y(this,t,w,j,O,{loading:0})}}function C(i){var v;let t,a=(((v=i[0].info)==null?void 0:v.deviceName)||i[0].serial)+"",e,n,s;return{c(){t=u("option"),e=f(a),this.h()},l(o){t=d(o,"OPTION",{});var r=h(t);e=m(r,a),r.forEach(l),this.h()},h(){t.__value=n=i[0].serial,t.value=t.__value,t.disabled=s=!i[0].connected},m(o,r){_(o,t,r),p(t,e)},p(o,[r]){var g;r&1&&a!==(a=(((g=o[0].info)==null?void 0:g.deviceName)||o[0].serial)+"")&&T(e,a),r&1&&n!==(n=o[0].serial)&&(t.__value=n,t.value=t.__value),r&1&&s!==(s=!o[0].connected)&&(t.disabled=s)},i:b,o:b,d(o){o&&l(t)}}}function D(i,t,a){let{device:e}=t;return i.$$set=n=>{"device"in n&&a(0,e=n.device)},[e]}class I extends k{constructor(t){super();y(this,t,D,C,O,{device:0})}}export{I as D,$ as S,U as c};
